CREATE SEQUENCE [dbo].[SO_ID_SEQ] 
 AS [bigint]
 START WITH 1
 INCREMENT BY 1
 MINVALUE -9223372036854775808
 MAXVALUE 9223372036854775807
 NO CACHE;
CREATE TABLE dbo.T01_SO_ADJ (
    SO_ID bigint PRIMARY KEY NOT NULL DEFAULT (NEXT VALUE FOR SO_ID_SEQ),
	NO_SO nvarchar(20) NOT NULL,	
    JENIS_PAYMENT nvarchar(1) NOT NULL,
	QTY INT NOT NULL,
	EST_REALISASI DATETIME NULL,
);

ALTER TABLE T01_SO_ADJ
ADD USE_CCL_DATE NVARCHAR(1) NULL,
ADD_DAYS INT NULL;

ALTER TABLE T01_SO_ADJ
ADD KETERANGAN_DP NVARCHAR(100) NULL;

ALTER TABLE T01_SO_ADJ
ADD USE_QTY NVARCHAR(1) NULL;


CREATE TABLE dbo.T02_SO_ADJ_LINE (
    T02_SO_ID INT PRIMARY KEY NOT NULL ,
	ADD_NUM INT NOT NULL
);

--
DECLARE @cnt INT = 0;
WHILE @cnt < (1000)
BEGIN
	INSERT INTO dbo.T02_SO_ADJ_LINE (T02_SO_ID , ADD_NUM)    
	VALUES (@cnt + 1, @cnt); 
   SET @cnt = @cnt + 1;
END;

--
--
CREATE SEQUENCE [dbo].[T03_CS_ID_SEQ] 
 AS [bigint]
 START WITH 1
 INCREMENT BY 1
 MINVALUE -9223372036854775808
 MAXVALUE 9223372036854775807
 NO CACHE;

CREATE TABLE dbo.T03_CETAK_SLIP (
    T03_CS_ID bigint PRIMARY KEY NOT NULL DEFAULT (NEXT VALUE FOR T03_CS_ID_SEQ),
	COMPANY	nvarchar(10) NOT NULL,	
	JENIS_TRANS nvarchar(10) NOT NULL,
	NO_VOUCHER nvarchar(20) NOT NULL,	
    TGL_TRANS DATETIME NOT NULL,	
    NO_CHEQUE nvarchar(10) NOT NULL,	
    KURS DECIMAL(10,2) NULL,
	BERITA nvarchar(200) NULL,	
	KODE_VENDOR_NONNAV	nvarchar(10) NULL,
	VALUTA_TRANS nvarchar(3) NULL,
	NO_REK_PENERIMA nvarchar(50) NULL,
	NAMA_PENERIMA nvarchar(100) NULL,
	ALAMAT_PENERIMA1 nvarchar(100) NULL,
	ALAMAT_PENERIMA2 nvarchar(100) NULL,
	COUNTRY_PENERIMA nvarchar(100) NULL,
	NAMA_BANK nvarchar(100) NULL,
	ALAMAT_BANK1 nvarchar(100) NULL,
	ALAMAT_BANK2 nvarchar(100) NULL,
	COUNTRY_BANK nvarchar(100) NULL,
	SWIFT_CODE nvarchar(50) NULL,
	PRINT_BY nvarchar(15) NULL,
	PRINT_ON datetime NULL,
	REPRINT_BY nvarchar(15) NULL,
	REPRINT_ON datetime NULL,
	PRINT_COUNT int NULL,
	VERSION int NULL,
	CREATED_BY nvarchar(15) NULL,
	CREATED_ON datetime NULL,
	UPDATED_BY nvarchar(15) NULL,
	UPDATED_ON datetime NULL
);


ALTER TABLE [T03_CETAK_SLIP ]
ADD PROVISI_IDR_TO_EUR DECIMAL(15,2) NULL;



CREATE TABLE [dbo].[P01_BIAYA_TRANS](
	KODE nvarchar(5) NOT NULL,	
	BERITA nvarchar(200) NULL,
	NAMA_PIC nvarchar(50) NULL,
	HP_PIC nvarchar(100) NULL,
	PROVISI_USD_TO_USD DECIMAL(15,2) NULL,
	CHARGE_USD_TO_USD DECIMAL(15,2) NULL,
	PROVISI_IDR_TO_USD DECIMAL(15,2) NULL,
	CHARGE_IDR_TO_USD DECIMAL(15,2) NULL,
	PROVISI_IDR_TO_IDR_NONBCA_BAWAH DECIMAL(15,2) NULL,
	PROVISI_IDR_TO_IDR_NONBCA_ATAS DECIMAL(15,2) NULL,
	VERSION int NULL,
	CREATED_BY nvarchar(15) NULL,
	CREATED_ON datetime NULL,
	UPDATED_BY nvarchar(15) NULL,
	UPDATED_ON datetime NULL
	CONSTRAINT [PK_P01_BIAYA_TRANS] PRIMARY KEY NONCLUSTERED (KODE)
);

ALTER TABLE [P01_BIAYA_TRANS]
ADD CHARGE_IDR_BCA_LK DECIMAL(15,2) NULL,
CHARGE_IDR_BCA_VA DECIMAL(15,2) NULL;

ALTER TABLE [P01_BIAYA_TRANS]
ADD CHARGE_MANDIRI_BAWAH DECIMAL(15,2) NULL,
CHARGE_MANDIRI_ATAS DECIMAL(15,2) NULL;

ALTER TABLE [P01_BIAYA_TRANS]
ADD PROVISI_IDR_TO_EUR DECIMAL(15,2) NULL,
CHARGE_IDR_TO_EUR DECIMAL(15,2) NULL;

ALTER TABLE [P01_BIAYA_TRANS]
ADD CHARGE_IDR_TO_CNY DECIMAL(15,2) NULL;


CREATE TABLE [dbo].[P02_VENDOR_NONNAV](
	KODE nvarchar(10) NOT NULL,	
	VALUTA_TRANS nvarchar(3) NULL,
	NO_REK_PENERIMA nvarchar(50) NULL,
	NAMA_PENERIMA nvarchar(100) NULL,
	ALAMAT_PENERIMA1 nvarchar(100) NULL,
	ALAMAT_PENERIMA2 nvarchar(100) NULL,
	COUNTRY_PENERIMA nvarchar(100) NULL,
	NAMA_BANK nvarchar(100) NULL,
	ALAMAT_BANK1 nvarchar(100) NULL,
	ALAMAT_BANK2 nvarchar(100) NULL,
	COUNTRY_BANK nvarchar(100) NULL,
	SWIFT_CODE nvarchar(50) NULL,
	VERSION int NULL,
	CREATED_BY nvarchar(15) NULL,
	CREATED_ON datetime NULL,
	UPDATED_BY nvarchar(15) NULL,
	UPDATED_ON datetime NULL
	CONSTRAINT [PK_P02_VENDOR_NONNAV] PRIMARY KEY NONCLUSTERED (KODE)
);


CREATE SEQUENCE [dbo].[T04_ID_SEQ] 
 AS [bigint]
 START WITH 1
 INCREMENT BY 1
 MINVALUE -9223372036854775808
 MAXVALUE 9223372036854775807
 NO CACHE;

CREATE TABLE dbo.T04_BAYAR_ANGSURAN (
    T04_ID bigint PRIMARY KEY NOT NULL DEFAULT (NEXT VALUE FOR T04_ID_SEQ),
	COMPANY nvarchar(10) NOT NULL,
	SUPP_CODE nvarchar(10) NOT NULL,	
	NO_PO nvarchar(20) NOT NULL,	
	VALUTA_PO nvarchar(3) NOT NULL,
	NILAI_PO DECIMAL(15,2) NOT NULL,
	JML_GIRO int NOT NULL,
	INTERVAL int NOT NULL,
	INTERVAL_WAKTU  nvarchar(5) NOT NULL,	
	TMT datetime NOT NULL,
	PRINT_BY nvarchar(15) NULL,
	PRINT_ON datetime NULL,
	REPRINT_BY nvarchar(15) NULL,
	REPRINT_ON datetime NULL,
	PRINT_COUNT int NULL,
	VERSION int NULL,
	CREATED_BY nvarchar(15) NULL,
	CREATED_ON datetime NULL,
	UPDATED_BY nvarchar(15) NULL,
	UPDATED_ON datetime NULL
);



ALTER TABLE T_SALES_REV 
ALTER COLUMN POSTING_DESC nvarchar(100);


ALTER TABLE T_SALES
ALTER COLUMN POSTING_DESC nvarchar(100);


ALTER TABLE T_SALES_REV_2 
ALTER COLUMN POSTING_DESC nvarchar(100);

ALTER TABLE T_SALES_REV_NEW
ALTER COLUMN POSTING_DESC nvarchar(100);


CREATE TABLE [dbo].[P03_USER_CREATEPO](
	USERNAME nvarchar(20) NOT NULL,	
	GROUPNAME nvarchar(20) NOT NULL,
	VERSION int NULL,
	CREATED_BY nvarchar(15) NULL,
	CREATED_ON datetime NULL,
	UPDATED_BY nvarchar(15) NULL,
	UPDATED_ON datetime NULL
	CONSTRAINT [PK_P03_USER_CREATEPO] PRIMARY KEY NONCLUSTERED (USERNAME)
);



CREATE SEQUENCE [dbo].[T05_ID_SEQ] 
 AS [bigint]
 START WITH 1
 INCREMENT BY 1
 MINVALUE -9223372036854775808
 MAXVALUE 9223372036854775807
 NO CACHE;

CREATE TABLE dbo.T05_WEBINAR_EVENT (
    T05_ID bigint PRIMARY KEY NOT NULL DEFAULT (NEXT VALUE FOR T05_ID_SEQ),
	TOPIC nvarchar(200) NOT NULL,
	WEBINAR_ID nvarchar(50) NOT NULL,
	ACTUAL_START_TIME datetime,  
	ACTUAL_DURATION	int,
	NUM_REGISTERED int,
	NUM_CANCELLED int,
	UNIQUE_VIEWERS int,
	TOTAL_USERS int,
	MAX_CONCURRENT_VIEWS int,
	VERSION int NULL,
	CREATED_BY nvarchar(15) NULL,
	CREATED_ON datetime NULL,
	UPDATED_BY nvarchar(15) NULL,
	UPDATED_ON datetime NULL,
	CONSTRAINT UK_T05 UNIQUE (WEBINAR_ID)
);

CREATE SEQUENCE [dbo].[T06_ID_SEQ] 
 AS [bigint]
 START WITH 1
 INCREMENT BY 1
 MINVALUE -9223372036854775808
 MAXVALUE 9223372036854775807
 NO CACHE;

CREATE TABLE dbo.T06_WEBINAR_ATTENDEE (
    T06_ID bigint PRIMARY KEY NOT NULL DEFAULT (NEXT VALUE FOR T06_ID_SEQ),
	T05_ID bigint  NOT NULL,
	ATTENDED nvarchar(3) NULL,
	FIRST_NAME nvarchar(100) NULL,
	LAST_NAME nvarchar(100) NULL,
	EMAIL nvarchar(100) NULL, 
	COUNTRY_REGION nvarchar(5) NULL, 	
	STATE_PROVICE nvarchar(100) NULL, 
	PHONE nvarchar(100) NULL, 
	INDUSTRY nvarchar(100) NULL, 
	ORGANIZATION nvarchar(100) NULL, 
	JOB_TITLE nvarchar(100) NULL, 
	QUESTIONS_AND_COMMENTS nvarchar(255) NULL, 
	REGISTRATION_TIME datetime NULL,
	APPROVAL_STATUS nvarchar(20) NULL, 
	TIME_IN_SESSION int NULL,
	NOMOR_GOPAY_OVO nvarchar(100) NULL, 
	COUNTRY_REGION_NAME nvarchar(100) NULL, 
	VERSION int NULL,
	CREATED_BY nvarchar(15) NULL,
	CREATED_ON datetime NULL,
	UPDATED_BY nvarchar(15) NULL,
	UPDATED_ON datetime NULL,
	CONSTRAINT UK_T06 UNIQUE (EMAIL, T05_ID),
	CONSTRAINT FK_T06_T05 FOREIGN KEY (T05_ID)
        REFERENCES T05_WEBINAR_EVENT (T05_ID)
        ON DELETE CASCADE
        ON UPDATE CASCADE
);



CREATE SEQUENCE [dbo].[TEMP01_ID_SEQ] 
 AS [bigint]
 START WITH 1
 INCREMENT BY 1
 MINVALUE -9223372036854775808
 MAXVALUE 9223372036854775807
 NO CACHE;


CREATE TABLE [dbo].[TEMP01_WEBINAR_EVENT](
	TEMP01_ID bigint PRIMARY KEY NOT NULL DEFAULT (NEXT VALUE FOR TEMP01_ID_SEQ),
	[TOPIC] [nvarchar](255) NULL,
	[WEBINAR_ID] [nvarchar](255) NULL,
	[ACTUAL_START_TIME] [datetime2] NULL,
	[ACTUAL_DURATION] [float] NULL,
	[NUM_REGISTERED] [float] NULL,
	[NUM_CANCELLED] [float] NULL,
	[UNIQUE_VIEWERS] [float] NULL,
	[TOTAL_USERS] [float] NULL,
	[MAX_CONCURRENT_VIEWS] [float] NULL,
	[PROSES_ID] [nvarchar](100) NULL,
	VERSION int NULL,
	CREATED_BY nvarchar(15) NULL,
	CREATED_ON datetime NULL,
	UPDATED_BY nvarchar(15) NULL,
	UPDATED_ON datetime NULL,
) ;

CREATE SEQUENCE [dbo].[TEMP02_ID_SEQ] 
 AS [bigint]
 START WITH 1
 INCREMENT BY 1
 MINVALUE -9223372036854775808
 MAXVALUE 9223372036854775807
 NO CACHE;

 CREATE TABLE [dbo].[TEMP02_WEBINAR_ATTENDEE](
	TEMP02_ID bigint PRIMARY KEY NOT NULL DEFAULT (NEXT VALUE FOR TEMP02_ID_SEQ),
	[ATTENDED] [nvarchar](255) NULL,
	[FIRST_NAME] [nvarchar](255) NULL,
	[LAST_NAME] [nvarchar](255) NULL,
	[EMAIL] [nvarchar](255) NULL,
	[COUNTRY_REGION] [nvarchar](255) NULL,
	[STATE_PROVINCE] [nvarchar](255) NULL,
	[PHONE] [nvarchar](255) NULL,
	[INDUSTRY] [nvarchar](255) NULL,
	[ORGANIZATION] [nvarchar](255) NULL,
	[JOB_TITLE] [nvarchar](255) NULL,
	[QUESTIONS_AND_COMMENTS] [nvarchar](255) NULL,
	[REGISTRATION_TIME] [datetime] NULL,
	[APPROVAL_STATUS] [nvarchar](255) NULL,
	[JOIN_TIME] [datetime] NULL,
	[LEAVE_TIME] [datetime] NULL,
	[TIME_IN_SESSION] [float] NULL,
	[NOMOR_GOPAY_OVO] [nvarchar](255) NULL,
	[COUNTRY_REGION_NAME] [nvarchar](255) NULL,
	[PROSES_ID] [nvarchar](100) NULL,
	VERSION int NULL,
	CREATED_BY nvarchar(15) NULL,
	CREATED_ON datetime NULL,
	UPDATED_BY nvarchar(15) NULL,
	UPDATED_ON datetime NULL,
);


CREATE SEQUENCE [dbo].[TEMP03_ID_SEQ] 
 AS [bigint]
 START WITH 1
 INCREMENT BY 1
 MINVALUE -9223372036854775808
 MAXVALUE 9223372036854775807
 NO CACHE;

CREATE TABLE [dbo].[TEMP03_WEBINAR_FEEDBACK](
	TEMP03_ID bigint PRIMARY KEY NOT NULL DEFAULT (NEXT VALUE FOR TEMP03_ID_SEQ),
	[REGISTER] [nvarchar](1) NULL,
	WAKTU_ISI	DATETIME NULL,
	NAMA_LENGKAP [nvarchar](300) NULL,
	NAMA_PERUSAHAAN [nvarchar](300) NULL,
	JABATAN [nvarchar](300) NULL,
	EMAIL [nvarchar](300) NULL,
	NO_HP [nvarchar](300) NULL,
	FOKUS_INDUSTRI [nvarchar](300) NULL,
	JML_KOLOM INT NULL,
	[KOLOM_01] [nvarchar](300) NULL,
	[KOLOM_02] [nvarchar](300) NULL,
	[KOLOM_03] [nvarchar](300) NULL,
	[KOLOM_04] [nvarchar](300) NULL,
	[KOLOM_05] [nvarchar](300) NULL,
	[KOLOM_06] [nvarchar](300) NULL,
	[KOLOM_07] [nvarchar](300) NULL,
	[KOLOM_08] [nvarchar](300) NULL,
	[KOLOM_09] [nvarchar](300) NULL,
	[KOLOM_10] [nvarchar](300) NULL,
	[KOLOM_11] [nvarchar](300) NULL,
	[KOLOM_12] [nvarchar](300) NULL,
	[KOLOM_13] [nvarchar](300) NULL,
	[KOLOM_14] [nvarchar](300) NULL,
	[KOLOM_15] [nvarchar](300) NULL,
	[KOLOM_16] [nvarchar](300) NULL,
	[KOLOM_17] [nvarchar](300) NULL,
	[KOLOM_18] [nvarchar](300) NULL,
	[KOLOM_19] [nvarchar](300) NULL,
	[KOLOM_20] [nvarchar](300) NULL,
	[KOLOM_21] [nvarchar](300) NULL,
	[KOLOM_22] [nvarchar](300) NULL,
	[KOLOM_23] [nvarchar](300) NULL,
	[KOLOM_24] [nvarchar](300) NULL,
	[KOLOM_25] [nvarchar](300) NULL,
	[KOLOM_26] [nvarchar](300) NULL,
	[KOLOM_27] [nvarchar](300) NULL,
	[KOLOM_28] [nvarchar](300) NULL,
	[KOLOM_29] [nvarchar](300) NULL,
	[KOLOM_30] [nvarchar](300) NULL,
	[KOLOM_31] [nvarchar](300) NULL,
	[KOLOM_32] [nvarchar](300) NULL,
	[KOLOM_33] [nvarchar](300) NULL,
	[KOLOM_34] [nvarchar](300) NULL,
	[KOLOM_35] [nvarchar](300) NULL,
	[KOLOM_36] [nvarchar](300) NULL,
	[KOLOM_37] [nvarchar](300) NULL,
	[KOLOM_38] [nvarchar](300) NULL,
	[KOLOM_39] [nvarchar](300) NULL,
	[KOLOM_40] [nvarchar](300) NULL,
	[KOLOM_41] [nvarchar](300) NULL,
	[KOLOM_42] [nvarchar](300) NULL,
	[KOLOM_43] [nvarchar](300) NULL,
	[KOLOM_44] [nvarchar](300) NULL,
	[KOLOM_45] [nvarchar](300) NULL,
	[KOLOM_46] [nvarchar](300) NULL,
	[KOLOM_47] [nvarchar](300) NULL,
	[KOLOM_48] [nvarchar](300) NULL,
	[KOLOM_49] [nvarchar](300) NULL,
	[KOLOM_50] [nvarchar](300) NULL,
	[PROSES_ID] [nvarchar](100) NULL,
	[VERSION] [int] NULL,
	[CREATED_BY] [nvarchar](15) NULL,
	[CREATED_ON] [datetime] NULL,
	[UPDATED_BY] [nvarchar](15) NULL,
	[UPDATED_ON] [datetime] NULL,
) ; 

CREATE SEQUENCE [dbo].[T07_ID_SEQ] 
 AS [bigint]
 START WITH 1
 INCREMENT BY 1
 MINVALUE -9223372036854775808
 MAXVALUE 9223372036854775807
 NO CACHE;

CREATE TABLE T07_FEEDBACK_QST (
    T07_ID bigint PRIMARY KEY NOT NULL DEFAULT (NEXT VALUE FOR T07_ID_SEQ),
	T05_ID bigint  NOT NULL,
	NO_QST int NOT NULL,
	QUESTION nvarchar(300) NULL, 
	VERSION int NULL,
	CREATED_BY nvarchar(15) NULL,
	CREATED_ON datetime NULL,
	UPDATED_BY nvarchar(15) NULL,
	UPDATED_ON datetime NULL,
	CONSTRAINT UK_T07 UNIQUE (NO_QST, T05_ID),
	CONSTRAINT FK_T07_T05 FOREIGN KEY (T05_ID)
        REFERENCES T05_WEBINAR_EVENT (T05_ID)
        ON DELETE CASCADE
        ON UPDATE CASCADE
);

CREATE SEQUENCE [dbo].[T08_ID_SEQ] 
 AS [bigint]
 START WITH 1
 INCREMENT BY 1
 MINVALUE -9223372036854775808
 MAXVALUE 9223372036854775807
 NO CACHE;

CREATE TABLE T08_FEEDBACK_PERSON (
    T08_ID bigint PRIMARY KEY NOT NULL DEFAULT (NEXT VALUE FOR T08_ID_SEQ),
	T05_ID bigint  NOT NULL,
	WAKTU_ISI datetime NOT NULL,
	NAMA_LENGKAP  nvarchar(300) NULL, 
    NAMA_PERUSAHAAN  nvarchar(300) NULL, 
    JABATAN nvarchar(300) NULL, 
    EMAIL nvarchar(250) NULL, 
    NO_HP nvarchar(250) NULL, 
    FOKUS_INDUSTRI nvarchar(300) NULL, 
	VERSION int NULL,
	CREATED_BY nvarchar(15) NULL,
	CREATED_ON datetime NULL,
	UPDATED_BY nvarchar(15) NULL,
	UPDATED_ON datetime NULL,
	CONSTRAINT UK_T08 UNIQUE (EMAIL, T05_ID),
	CONSTRAINT FK_T08_T05 FOREIGN KEY (T05_ID)
        REFERENCES T05_WEBINAR_EVENT (T05_ID)
        ON DELETE CASCADE
        ON UPDATE CASCADE
);


CREATE SEQUENCE [dbo].[T09_ID_SEQ] 
 AS [bigint]
 START WITH 1
 INCREMENT BY 1
 MINVALUE -9223372036854775808
 MAXVALUE 9223372036854775807
 NO CACHE;

CREATE TABLE T09_FEEDBACK_ANS (
    T09_ID bigint PRIMARY KEY NOT NULL DEFAULT (NEXT VALUE FOR T09_ID_SEQ),
	T05_ID bigint  NOT NULL,
	T07_ID bigint  NOT NULL,
	T08_ID bigint  NOT NULL,
	ANSWER  nvarchar(300) NULL, 
	VERSION int NULL,
	CREATED_BY nvarchar(15) NULL,
	CREATED_ON datetime NULL,
	UPDATED_BY nvarchar(15) NULL,
	UPDATED_ON datetime NULL,
	CONSTRAINT UK_T09 UNIQUE (T07_ID, T08_ID, T05_ID),
	CONSTRAINT FK_T09_T05 FOREIGN KEY (T05_ID)
        REFERENCES T05_WEBINAR_EVENT (T05_ID)
        ON DELETE CASCADE
        ON UPDATE CASCADE
);

CREATE SEQUENCE [dbo].[T10_ID_SEQ] 
 AS [bigint]
 START WITH 1
 INCREMENT BY 1
 MINVALUE -9223372036854775808
 MAXVALUE 9223372036854775807
 NO CACHE;


CREATE TABLE [dbo].[T10_AREA_MAPPING](
	[T10_ID] bigint PRIMARY KEY NOT NULL DEFAULT (NEXT VALUE FOR T10_ID_SEQ),
	[KOTA] [nvarchar](100) NULL,
	[AREA] [nvarchar](100) NULL,
	[VERSION] [int] NULL,
	[CREATED_BY] [nvarchar](15) NULL,
	[CREATED_ON] [datetime] NULL,
	[UPDATED_BY] [nvarchar](15) NULL,
	[UPDATED_ON] [datetime] NULL,
	CONSTRAINT UK_T10 UNIQUE  ([KOTA], [AREA])
);


ALTER TABLE [TEMP02_WEBINAR_ATTENDEE]
ADD [USER_NAME] [nvarchar](255);

ALTER TABLE T06_WEBINAR_ATTENDEE
ADD [USER_NAME] [nvarchar](200);

ALTER TABLE [T08_FEEDBACK_PERSON]
ADD REGISTERED_ON_ATTANDEE INT;


ALTER TABLE [TEMP03_WEBINAR_FEEDBACK]
ADD FIRST_NAME [nvarchar](300),
	LAST_NAME [nvarchar](300),
	GOPAY_NO  [nvarchar](300);

ALTER TABLE [T08_FEEDBACK_PERSON]
ADD FIRST_NAME [nvarchar](300),
	LAST_NAME [nvarchar](300),
	GOPAY_NO  [nvarchar](250);

ALTER TABLE [TEMP03_WEBINAR_FEEDBACK]
ADD INVITED_BY [nvarchar](300);

ALTER TABLE [T08_FEEDBACK_PERSON]
ADD INVITED_BY [nvarchar](300);


ALTER TABLE [TEMP02_WEBINAR_ATTENDEE]
ADD [EMAIL_CORPORATE] [nvarchar](255);

ALTER TABLE T06_WEBINAR_ATTENDEE
ADD [EMAIL_CORPORATE] [nvarchar](200);


CREATE SEQUENCE [dbo].[TEMP04_ID_SEQ] 
 AS [bigint]
 START WITH 1
 INCREMENT BY 1
 MINVALUE -9223372036854775808
 MAXVALUE 9223372036854775807
 NO CACHE;

CREATE TABLE [dbo].[TEMP04_WEBINAR_POLLING](
	TEMP04_ID bigint PRIMARY KEY NOT NULL DEFAULT (NEXT VALUE FOR TEMP04_ID_SEQ),
	WEBINAR_ID	[nvarchar](255) NULL,
	SESI [nvarchar](1) NULL,
	NAMA_LENGKAP [nvarchar](300) NULL,
	EMAIL [nvarchar](300) NULL,
	WAKTU_ISI	DATETIME NULL,
	[KOLOM_01] [nvarchar](300) NULL,
	[KOLOM_02] [nvarchar](300) NULL,
	[KOLOM_03] [nvarchar](300) NULL,
	[KOLOM_04] [nvarchar](300) NULL,
	[KOLOM_05] [nvarchar](300) NULL,
	[KOLOM_06] [nvarchar](300) NULL,
	[KOLOM_07] [nvarchar](300) NULL,
	[KOLOM_08] [nvarchar](300) NULL,
	[KOLOM_09] [nvarchar](300) NULL,
	[KOLOM_10] [nvarchar](300) NULL,
	[KOLOM_11] [nvarchar](300) NULL,
	[KOLOM_12] [nvarchar](300) NULL,
	[KOLOM_13] [nvarchar](300) NULL,
	[KOLOM_14] [nvarchar](300) NULL,
	[KOLOM_15] [nvarchar](300) NULL,
	[KOLOM_16] [nvarchar](300) NULL,
	[KOLOM_17] [nvarchar](300) NULL,
	[KOLOM_18] [nvarchar](300) NULL,
	[KOLOM_19] [nvarchar](300) NULL,
	[KOLOM_20] [nvarchar](300) NULL,
	[KOLOM_21] [nvarchar](300) NULL,
	[KOLOM_22] [nvarchar](300) NULL,
	[KOLOM_23] [nvarchar](300) NULL,
	[KOLOM_24] [nvarchar](300) NULL,
	[KOLOM_25] [nvarchar](300) NULL,
	[KOLOM_26] [nvarchar](300) NULL,
	[KOLOM_27] [nvarchar](300) NULL,
	[KOLOM_28] [nvarchar](300) NULL,
	[KOLOM_29] [nvarchar](300) NULL,
	[KOLOM_30] [nvarchar](300) NULL,
	[PROSES_ID] [nvarchar](100) NULL,
	[VERSION] [int] NULL,
	[CREATED_BY] [nvarchar](15) NULL,
	[CREATED_ON] [datetime] NULL,
	[UPDATED_BY] [nvarchar](15) NULL,
	[UPDATED_ON] [datetime] NULL,
) ; 


CREATE SEQUENCE [dbo].[T11_ID_SEQ] 
 AS [bigint]
 START WITH 1
 INCREMENT BY 1
 MINVALUE -9223372036854775808
 MAXVALUE 9223372036854775807
 NO CACHE;

CREATE TABLE T11_WEBINAR_POLLING (
    T11_ID bigint PRIMARY KEY NOT NULL DEFAULT (NEXT VALUE FOR T11_ID_SEQ),
	T05_ID bigint  NOT NULL,
	SESI [nvarchar](1) NULL,
	NAMA_LENGKAP [nvarchar](300) NULL,
	EMAIL [nvarchar](300) NULL,
	WAKTU_ISI	DATETIME NULL,
	[QST_01] [nvarchar](300) NULL,
	[QST_02] [nvarchar](300) NULL,
	[QST_03] [nvarchar](300) NULL,
	[QST_04] [nvarchar](300) NULL,
	[QST_05] [nvarchar](300) NULL,
	[QST_06] [nvarchar](300) NULL,
	[QST_07] [nvarchar](300) NULL,
	[QST_08] [nvarchar](300) NULL,
	[QST_09] [nvarchar](300) NULL,
	[QST_10] [nvarchar](300) NULL,
	[QST_11] [nvarchar](300) NULL,
	[QST_12] [nvarchar](300) NULL,
	[QST_13] [nvarchar](300) NULL,
	[QST_14] [nvarchar](300) NULL,
	[QST_15] [nvarchar](300) NULL,
	[ANS_01] [nvarchar](300) NULL,
	[ANS_02] [nvarchar](300) NULL,
	[ANS_03] [nvarchar](300) NULL,
	[ANS_04] [nvarchar](300) NULL,
	[ANS_05] [nvarchar](300) NULL,
	[ANS_06] [nvarchar](300) NULL,
	[ANS_07] [nvarchar](300) NULL,
	[ANS_08] [nvarchar](300) NULL,
	[ANS_09] [nvarchar](300) NULL,
	[ANS_10] [nvarchar](300) NULL,
	[ANS_11] [nvarchar](300) NULL,
	[ANS_12] [nvarchar](300) NULL,
	[ANS_13] [nvarchar](300) NULL,
	[ANS_14] [nvarchar](300) NULL,
	[ANS_15] [nvarchar](300) NULL,
	VERSION int NULL,
	CREATED_BY nvarchar(15) NULL,
	CREATED_ON datetime NULL,
	UPDATED_BY nvarchar(15) NULL,
	UPDATED_ON datetime NULL,
	CONSTRAINT FK_T11_T05 FOREIGN KEY (T05_ID)
        REFERENCES T05_WEBINAR_EVENT (T05_ID)
        ON DELETE CASCADE
        ON UPDATE CASCADE
);


CREATE SEQUENCE [dbo].[TEMP05_ID_SEQ] 
 AS [bigint]
 START WITH 1
 INCREMENT BY 1
 MINVALUE -9223372036854775808
 MAXVALUE 9223372036854775807
 NO CACHE;


 CREATE TABLE [dbo].[TEMP05_EFAKTUR_REGISTER](
	TEMP05_ID bigint PRIMARY KEY NOT NULL DEFAULT (NEXT VALUE FOR TEMP05_ID_SEQ),
	NAMA_CUST [nvarchar](200) NULL,
	NO_FAKTUR_PAJAK [nvarchar](100) NULL,
	NO_FAKTUR_PAJAK_ORI [nvarchar](100) NULL,
	TANGGAL [nvarchar](100) NULL,
	MASA [nvarchar](100) NULL,
	TAHUN [nvarchar](100) NULL,
	STATUS [nvarchar](100) NULL,
	DPP [nvarchar](100) NULL,
	PPN [nvarchar](100) NULL,
	REFERENSI [nvarchar](100) NULL,
	STATUS_APPROVAL [nvarchar](100) NULL,
	DIKREDITKAN [nvarchar](100) NULL,
	JENIS_PPN [nvarchar](100) NULL,
	PROSES_ID [nvarchar](100) NULL,
	VERSION int NULL,
	CREATED_BY nvarchar(15) NULL,
	CREATED_ON datetime NULL,
	UPDATED_BY nvarchar(15) NULL,
	UPDATED_ON datetime NULL,
);

CREATE SEQUENCE [dbo].[TEMP06_ID_SEQ] 
 AS [bigint]
 START WITH 1
 INCREMENT BY 1
 MINVALUE -9223372036854775808
 MAXVALUE 9223372036854775807
 NO CACHE;
 

 CREATE TABLE [dbo].[TEMP06_PPN_NAV_REG](
	TEMP06_ID bigint PRIMARY KEY NOT NULL DEFAULT (NEXT VALUE FOR TEMP06_ID_SEQ),
	TIPE_DOK [nvarchar](15) NULL,
	TGL_DOK datetime NULL,
	NO_DOK [nvarchar](20) NULL,
	CUST_SUPP [nvarchar](20) NULL,
	CUST_SUPP_NAME [nvarchar](200) NULL,
	NO_PO_CUST [nvarchar](100) NULL,
	TGL_FP datetime NULL,
	NO_FP [nvarchar](50) NULL,
	NO_FP_CLEAN [nvarchar](50) NULL,
	DPP DECIMAL(38,20) NOT NULL,
	PPN DECIMAL(38,20) NOT NULL,
	PPN_ON_NAV DECIMAL(38,20) NOT NULL,
	PPN_DECIMAL DECIMAL(38,20) NOT NULL,
	STATUS_DOK [nvarchar](10) NULL,
	TGL_DOK_LAWAN datetime NULL,
	NO_DOK_LAWAN [nvarchar](20) NULL,
	TGL_FP_LAWAN datetime NULL,
	NO_FP_LAWAN [nvarchar](50) NULL,
	PROSES_ID [nvarchar](100) NULL,
	VERSION int NULL,
	CREATED_BY nvarchar(15) NULL,
	CREATED_ON datetime NULL,
	UPDATED_BY nvarchar(15) NULL,
	UPDATED_ON datetime NULL,
);


CREATE SEQUENCE [dbo].[TEMP07_ID_SEQ] 
 AS [bigint]
 START WITH 1
 INCREMENT BY 1
 MINVALUE -9223372036854775808
 MAXVALUE 9223372036854775807
 NO CACHE;
 

 CREATE TABLE [dbo].[TEMP07_SALARY_HAPIS](
	TEMP07_ID bigint PRIMARY KEY NOT NULL DEFAULT (NEXT VALUE FOR TEMP07_ID_SEQ),
	AREA  NVARCHAR(10) NULL,
	UNIT_USAHA NVARCHAR(10) NULL, 
	D_AMED NVARCHAR(100) NULL, 
	D_BNSA NVARCHAR(100) NULL, 
	D_BNSN NVARCHAR(100) NULL, 
	D_BSAL NVARCHAR(100) NULL, 
	D_JHT NVARCHAR(100) NULL, 
	D_JKK NVARCHAR(100) NULL, 
	D_JKM NVARCHAR(100) NULL, 
	D_JPK NVARCHAR(100) NULL, 
	D_JPS NVARCHAR(100) NULL, 
	D_KOMS NVARCHAR(100) NULL, 
	D_LBR NVARCHAR(100) NULL, 
	D_PESA NVARCHAR(100) NULL, 
	D_PJK NVARCHAR(100) NULL, 
	D_RPGP NVARCHAR(100) NULL, 
	D_TD24 NVARCHAR(100) NULL, 
	D_TDNS NVARCHAR(100) NULL, 
	D_THR NVARCHAR(100) NULL, 
	D_TJHP NVARCHAR(100) NULL, 
	D_TJKS NVARCHAR(100) NULL, 
	D_TKHS NVARCHAR(100) NULL, 
	D_TLMB NVARCHAR(100) NULL, 
	D_TMED NVARCHAR(100) NULL, 
	P_ADVP NVARCHAR(100) NULL, 
	P_ASXT NVARCHAR(100) NULL, 
	P_BPJK NVARCHAR(100) NULL, 
	P_JKK NVARCHAR(100) NULL, 
	P_JKM NVARCHAR(100) NULL, 
	P_JPK NVARCHAR(100) NULL, 
	P_PADV NVARCHAR(100) NULL, 
	P_PINJ NVARCHAR(100) NULL, 
	P_PJK NVARCHAR(100) NULL, 
	P_PKK NVARCHAR(100) NULL, 
	P_POTL NVARCHAR(100) NULL, 
	P_SPSI NVARCHAR(100) NULL, 
	P_TBPJ NVARCHAR(100) NULL, 
	P_UPDL NVARCHAR(100) NULL, 
	PROSES_ID NVARCHAR(100) NULL,
	VERSION int NULL,
	CREATED_BY nvarchar(15) NULL,
	CREATED_ON datetime NULL,
	UPDATED_BY nvarchar(15) NULL,
	UPDATED_ON datetime NULL,
);


ALTER TABLE [TEMP07_SALARY_HAPIS]
ADD D_CPSG NVARCHAR(100) NULL;

ALTER TABLE TEMP07_SALARY_HAPIS 
ADD  D_TOTX  NVARCHAR(100), 
D_TONX  NVARCHAR(100);


 CREATE TABLE [dbo].[TEMP07_01_URUTAN](
	URUT INT PRIMARY KEY NOT NULL,
	NO_ACC  NVARCHAR(20) NOT NULL
);

ALTER TABLE [TEMP07_SALARY_HAPIS]
ADD PERIODE NVARCHAR(10) NULL;


ALTER TABLE [TEMP07_SALARY_HAPIS]
ADD JOB_GRADE NVARCHAR(100) NULL;


CREATE SEQUENCE [dbo].[T12_ID_SEQ] 
 AS [bigint]
 START WITH 1
 INCREMENT BY 1
 MINVALUE -9223372036854775808
 MAXVALUE 9223372036854775807
 NO CACHE;

CREATE TABLE [dbo].[T12_PS_ADJ_PRICE](
	T12_ID bigint PRIMARY KEY NOT NULL DEFAULT (NEXT VALUE FOR T12_ID_SEQ),
	TGL_BERLAKU	DATETIME,
	CUST_NO [nvarchar](20),
	ITEM_NO [nvarchar](20),
	CURR_CODE [nvarchar](3),
	ADJ_PRICE DECIMAL(15,2) NOT NULL,
	[VERSION] [int] NULL,
	[CREATED_BY] [nvarchar](15) NULL,
	[CREATED_ON] [datetime] NULL,
	[UPDATED_BY] [nvarchar](15) NULL,
	[UPDATED_ON] [datetime] NULL,
	CONSTRAINT T12_UC UNIQUE (TGL_BERLAKU, CUST_NO, ITEM_NO)	
) ; 
INSERT INTO [dbo].[T12_PS_ADJ_PRICE]
           ([TGL_BERLAKU],[CUST_NO],[ITEM_NO],[CURR_CODE],[ADJ_PRICE],[VERSION],[CREATED_BY],[CREATED_ON],[UPDATED_BY],[UPDATED_ON])
     VALUES
           (CAST('01/01/2021' AS DATETIME)
			, 'ALFA', 'PS-LF-PM80-48-B-01'
			,'USD', 30, 1, 'DEFAULT', GETDATE(), 'DEFAULT', GETDATE()
			);
INSERT INTO [dbo].[T12_PS_ADJ_PRICE]
           ([TGL_BERLAKU],[CUST_NO],[ITEM_NO],[CURR_CODE],[ADJ_PRICE],[VERSION],[CREATED_BY],[CREATED_ON],[UPDATED_BY],[UPDATED_ON])
     VALUES
           (CAST('01/01/2021' AS DATETIME)
			, 'INDOMARCO', 'Z1AE-MC32XX-3C00'
			,'IDR', 1970000, 1, 'DEFAULT', GETDATE(), 'DEFAULT', GETDATE()
			);
INSERT INTO [dbo].[T12_PS_ADJ_PRICE]
           ([TGL_BERLAKU],[CUST_NO],[ITEM_NO],[CURR_CODE],[ADJ_PRICE],[VERSION],[CREATED_BY],[CREATED_ON],[UPDATED_BY],[UPDATED_ON])
     VALUES
           (CAST('01/01/2021' AS DATETIME)
			, 'INDOMARCO', 'Z1AE-MC33XX-3C00'
			,'IDR', 2450000, 1, 'DEFAULT', GETDATE(), 'DEFAULT', GETDATE()
			);
INSERT INTO [dbo].[T12_PS_ADJ_PRICE]
           ([TGL_BERLAKU],[CUST_NO],[ITEM_NO],[CURR_CODE],[ADJ_PRICE],[VERSION],[CREATED_BY],[CREATED_ON],[UPDATED_BY],[UPDATED_ON])
     VALUES
           (CAST('01/01/2021' AS DATETIME)
			, 'INDOMARCO', 'Z1AE-VC70XX-3C00'
			,'IDR', 5430000, 1, 'DEFAULT', GETDATE(), 'DEFAULT', GETDATE()
			);
			
DROP TABLE [dbo].[TEMP08_SALES_REVENUE];
CREATE TABLE [dbo].[TEMP08_SALES_REVENUE](
	[TEMP08_ID] [bigint] NOT NULL,
	[MODE] [nvarchar](15) NOT NULL,
	[PROSES_ID] [nvarchar](100) NOT NULL,
	[GROUP_NO] [int] NULL,
	[GROUP_DESC] [nvarchar](200) NULL,
	[GROUP_ITEM_CAT] [nvarchar](3) NULL,
	[ITEM_CAT] [nvarchar](100) NULL,
	[BRANCHES] [nvarchar](50) NULL,
	[SALESMAN] [nvarchar](50) NULL,
	[AMOUNT] [decimal](38, 20) NULL,
	[Q_OUT_SO] [int] NULL,
	[YEAR_OUT_SO] [int] NULL,
	CONSTRAINT [PK_TEMP08] PRIMARY KEY ([TEMP08_ID], [MODE],[PROSES_ID])
) ;


ALTER TABLE [T08_FEEDBACK_PERSON]
ADD SOURCES NVARCHAR(1) NULL;

UPDATE [T08_FEEDBACK_PERSON] SET SOURCES = '1';

ALTER TABLE [T07_FEEDBACK_QST]
ADD SOURCES NVARCHAR(1) NULL;

UPDATE [T07_FEEDBACK_QST] SET SOURCES = '1';

ALTER TABLE [T09_FEEDBACK_ANS]
ADD SOURCES NVARCHAR(1) NULL;

UPDATE [T09_FEEDBACK_ANS] SET SOURCES = '1';



CREATE SEQUENCE [dbo].[T13_ID_SEQ] 
 AS [bigint]
 START WITH 1
 INCREMENT BY 1
 MINVALUE -9223372036854775808
 MAXVALUE 9223372036854775807
 NO CACHE;

CREATE TABLE [dbo].[T13_SALES_COGS_PNL](
	T13_ID bigint PRIMARY KEY NOT NULL DEFAULT (NEXT VALUE FOR T13_ID_SEQ),
	TAHUN INT NOT NULL,
	COMPANY [nvarchar](10),
	ITEM_CAT [nvarchar](5),
	BRANCHES [nvarchar](5),
	GRP [nvarchar](50),
	TITLE [nvarchar](50),
	AMOUNT DECIMAL(15,2),
	CREATED_BY [nvarchar] (15) NULL,
	CREATED_ON [datetime] NULL
) ; 


CREATE SEQUENCE [dbo].[TEMP09_ID_SEQ] 
 AS [bigint]
 START WITH 1
 INCREMENT BY 1
 MINVALUE -9223372036854775808
 MAXVALUE 9223372036854775807
 NO CACHE;

CREATE TABLE [dbo].[TEMP09_SALES_COGS_PNL](
	TEMP09_ID bigint PRIMARY KEY NOT NULL DEFAULT (NEXT VALUE FOR TEMP09_ID_SEQ),
	TAHUN INT NOT NULL,
	COMPANY [nvarchar](10),
	JENIS_AMOUNT [nvarchar](50),
	AMOUNT DECIMAL(15,2),
	PROSES_ID [nvarchar](100) NULL
) ; 

CREATE SEQUENCE [dbo].[TEMP10_ID_SEQ] 
 AS [bigint]
 START WITH 1
 INCREMENT BY 1
 MINVALUE -9223372036854775808
 MAXVALUE 9223372036854775807
 NO CACHE;

CREATE TABLE [dbo].[TEMP10_SALES_COGS_CORRECTION](
	TEMP10_ID bigint PRIMARY KEY NOT NULL DEFAULT (NEXT VALUE FOR TEMP10_ID_SEQ),
	GRUP_SC [nvarchar](10) NULL,
	SUB_GRUP_SC  [nvarchar](20) NULL,
	SUB_GRUP_TITLE [nvarchar](30) NULL,
	TITLE [nvarchar](50) NULL,
	SORT_SLS [nvarchar](10) NULL,
	AMOUNT_AJ DECIMAL(15,2) NULL,
	AMOUNT_SP DECIMAL(15,2) NULL,
	PROSES_ID [nvarchar](100) NULL
) ; 

ALTER TABLE [dbo].[TEMP10_SALES_COGS_CORRECTION]
ADD SOURCE_FROM [nvarchar](10) NULL;


DROP TABLE[dbo].[TEMP11_GROSS_SALES_MARGIN];
CREATE TABLE [dbo].[TEMP11_GROSS_SALES_MARGIN](
	TEMP11_ID INT NOT NULL,
	PROSES_ID  [nvarchar](100) NOT NULL,
	MAIN_GRP [nvarchar](1) NULL,
	GROUP_NO INT NULL,
	GROUP_DESC [nvarchar](30) NULL,
	CUST_NO [nvarchar](50) NULL,
	CUST_NAME  [nvarchar](100),
	UPTO_PREV_MONTH [decimal](15, 2) NULL,
	CURR_MONTH [decimal](15, 2) NULL,
	SEM_1 [decimal](15, 2) NULL,
	SEM_2 [decimal](15, 2) NULL,
	CONSTRAINT [PK_TEMP11] PRIMARY KEY (TEMP11_ID, PROSES_ID)
 );



ALTER TABLE TEMP02_WEBINAR_ATTENDEE
ADD INVITED_BY [nvarchar](255),
	SALES_INVITED_BY [nvarchar](255);


ALTER TABLE T06_WEBINAR_ATTENDEE
ADD INVITED_BY [nvarchar](200),
	SALES_INVITED_BY [nvarchar](200);

CREATE SEQUENCE [dbo].[TEMP12_ID_SEQ] 
 AS [bigint]
 START WITH 1
 INCREMENT BY 1
 MINVALUE -9223372036854775808
 MAXVALUE 9223372036854775807
 NO CACHE;

CREATE TABLE [dbo].[TEMP12_WEBINAR_QA](
	TEMP12_ID bigint PRIMARY KEY NOT NULL DEFAULT (NEXT VALUE FOR TEMP12_ID_SEQ),
	WEBINAR_ID	[nvarchar](255) NULL,
	NO_QST		[nvarchar](10) NULL,
	QUESTION	[nvarchar](500) NULL,
	ASKER_NAME	[nvarchar](255) NULL,
	ASKER_EMAIL	[nvarchar](255) NULL,
	ANSWER_01	[nvarchar](500) NULL,
	ANSWER_02	[nvarchar](500) NULL,
	ANSWER_03	[nvarchar](500) NULL,
	ANSWER_04	[nvarchar](500) NULL,
	ANSWER_05	[nvarchar](500) NULL,
	ANSWER_06	[nvarchar](500) NULL,
	ANSWER_07	[nvarchar](500) NULL,
	ANSWER_08	[nvarchar](500) NULL,
	ANSWER_09	[nvarchar](500) NULL,
	ANSWER_10	[nvarchar](500) NULL,
	[PROSES_ID] [nvarchar](100) NULL,
	[VERSION] [int] NULL,
	[CREATED_BY] [nvarchar](15) NULL,
	[CREATED_ON] [datetime] NULL,
	[UPDATED_BY] [nvarchar](15) NULL,
	[UPDATED_ON] [datetime] NULL,
) ; 

CREATE SEQUENCE [dbo].[T14_ID_SEQ] 
 AS [bigint]
 START WITH 1
 INCREMENT BY 1
 MINVALUE -9223372036854775808
 MAXVALUE 9223372036854775807
 NO CACHE;

CREATE TABLE [dbo].[T14_WEBINAR_QA](
	T14_ID bigint PRIMARY KEY NOT NULL DEFAULT (NEXT VALUE FOR T14_ID_SEQ),
	T05_ID bigint  NOT NULL,
	NO_QST		INT NULL,
	QUESTION	[nvarchar](500) NULL,
	ASKER_NAME	nvarchar(200) NULL,
	ASKER_EMAIL	nvarchar(100) NULL,
	ANSWER_01	[nvarchar](500) NULL,
	ANSWER_02	[nvarchar](500) NULL,
	ANSWER_03	[nvarchar](500) NULL,
	ANSWER_04	[nvarchar](500) NULL,
	ANSWER_05	[nvarchar](500) NULL,
	ANSWER_06	[nvarchar](500) NULL,
	ANSWER_07	[nvarchar](500) NULL,
	ANSWER_08	[nvarchar](500) NULL,
	ANSWER_09	[nvarchar](500) NULL,
	ANSWER_10	[nvarchar](500) NULL,
	VERSION int NULL,
	CREATED_BY nvarchar(15) NULL,
	CREATED_ON datetime NULL,
	UPDATED_BY nvarchar(15) NULL,
	UPDATED_ON datetime NULL,
	CONSTRAINT FK_T14_T05 FOREIGN KEY (T05_ID)
        REFERENCES T05_WEBINAR_EVENT (T05_ID)
        ON DELETE CASCADE
        ON UPDATE CASCADE
) ; 

CREATE SEQUENCE [dbo].[T15_ID_SEQ] 
 AS [bigint]
 START WITH 1
 INCREMENT BY 1
 MINVALUE -9223372036854775808
 MAXVALUE 9223372036854775807
 NO CACHE;


CREATE TABLE T15_SATINDO_ADJ (
    T15_ID bigint PRIMARY KEY NOT NULL DEFAULT (NEXT VALUE FOR T15_ID_SEQ),
	NO_INVOICE nvarchar(20) NOT NULL,	
	ORDER_DATE DATETIME NOT NULL,
	[VERSION] [int] NULL,
	[CREATED_BY] [nvarchar](15) NULL,
	[CREATED_ON] [datetime] NULL,
	[UPDATED_BY] [nvarchar](15) NULL,
	[UPDATED_ON] [datetime] NULL,
	CONSTRAINT T15_UK UNIQUE (NO_INVOICE)
);



CREATE SEQUENCE [dbo].[M01_ID_SEQ] 
 AS [bigint]
 START WITH 1
 INCREMENT BY 1
 MINVALUE -9223372036854775808
 MAXVALUE 9223372036854775807
 NO CACHE;


CREATE TABLE dbo.M01_PERIODE_COSTING (
    M01_ID bigint PRIMARY KEY NOT NULL DEFAULT (NEXT VALUE FOR M01_ID_SEQ),
	MASA nvarchar(2) NOT NULL,	
	TAHUN nvarchar(4) NOT NULL,
	CLOSE_KOMISI nvarchar(1),
	CLOSE_TQS nvarchar(1),
	[VERSION] [int] NULL,
	[CREATED_BY] [nvarchar](15) NULL,
	[CREATED_ON] [datetime] NULL,
	[UPDATED_BY] [nvarchar](15) NULL,
	[UPDATED_ON] [datetime] NULL,
	CONSTRAINT M01_UK UNIQUE (MASA, TAHUN)
);


CREATE TABLE dbo.P04_PARAM_KOMISI (
    KODE nvarchar(2) PRIMARY KEY NOT NULL,
	FINANCE nvarchar(100),
	FINANCE2 nvarchar(100),
	SPV_FINANCE nvarchar(100),
	[VERSION] [int] NULL,
	[CREATED_BY] [nvarchar](15) NULL,
	[CREATED_ON] [datetime] NULL,
	[UPDATED_BY] [nvarchar](15) NULL,
	[UPDATED_ON] [datetime] NULL
);

ALTER TABLE [dbo].[P04_PARAM_KOMISI]
ADD FINANCE3 nvarchar(100),
FINANCE4 nvarchar(100),
FINANCE5 nvarchar(100);

CREATE SEQUENCE [dbo].[M02_ID_SEQ] 
 AS [bigint]
 START WITH 1
 INCREMENT BY 1
 MINVALUE -9223372036854775808
 MAXVALUE 9223372036854775807
 NO CACHE;

ALTER SEQUENCE [dbo].[M02_ID_SEQ] RESTART WITH 1;

CREATE TABLE dbo.M02_SALESPERSON (
	[M02_ID] bigint PRIMARY KEY NOT NULL DEFAULT (NEXT VALUE FOR M02_ID_SEQ),
	[NIK] nvarchar(10),
	[SALES] nvarchar(10),
	[SALES_NAME] nvarchar(100),
	[SPV] nvarchar(100),
	[TARGET] DECIMAL(15,2) DEFAULT 0,
	[PERIODE_RESIGN] DATETIME ,
	[VERSION] [int] NULL,
	[CREATED_BY] [nvarchar](15) NULL,
	[CREATED_ON] [datetime] NULL,
	[UPDATED_BY] [nvarchar](15) NULL,
	[UPDATED_ON] [datetime] NULL,
	CONSTRAINT M02_UK UNIQUE ([SALES])
);


CREATE SEQUENCE [dbo].[M03_ID_SEQ] 
 AS [bigint]
 START WITH 1
 INCREMENT BY 1
 MINVALUE -9223372036854775808
 MAXVALUE 9223372036854775807
 NO CACHE;


CREATE TABLE dbo.M03_TARGETSALES (
	[M03_ID] bigint PRIMARY KEY NOT NULL DEFAULT (NEXT VALUE FOR M03_ID_SEQ),
	[TAHUN] nvarchar(4),
	[TARGET] DECIMAL(15,2) DEFAULT 0,
	[M02_ID] bigint,	 
	[VERSION] [int] NULL,
	[CREATED_BY] [nvarchar](15) NULL,
	[CREATED_ON] [datetime] NULL,
	[UPDATED_BY] [nvarchar](15) NULL,
	[UPDATED_ON] [datetime] NULL,
	CONSTRAINT M03_UK UNIQUE ([TAHUN], [M02_ID]),
	CONSTRAINT FK_M03_M02 FOREIGN KEY ([M02_ID])
        REFERENCES M02_SALESPERSON ([M02_ID])
        ON DELETE CASCADE
        ON UPDATE CASCADE
);


CREATE SEQUENCE [dbo].[T16_ID_SEQ] 
 AS [bigint]
 START WITH 1
 INCREMENT BY 1
 MINVALUE -9223372036854775808
 MAXVALUE 9223372036854775807
 NO CACHE;


CREATE TABLE dbo.T16_REKAP_COSTING (
	[T16_ID] bigint PRIMARY KEY NOT NULL DEFAULT (NEXT VALUE FOR T16_ID_SEQ),
	COMPANY NVARCHAR(10) NOT NULL,
	SALES NVARCHAR(10) ,
	NO_SO NVARCHAR(20) ,
	TGL_SO DATETIME,
	CUSTOMER NVARCHAR(100) ,
	NO_PO_CUST NVARCHAR(50) ,
	AMOUNT DECIMAL(15,2),
	NO_INVOICE NVARCHAR(20) ,
	TGL_INVOICE DATETIME,
	TGL_LUNAS DATETIME,
	PCN_KOMISI DECIMAL(20,15),
	AMOUNT_KOMISI DECIMAL(15,2),
	FLAG_KOMISI NVARCHAR(1) ,
	PCN_TQS DECIMAL(20,15),
	AMOUNT_TQS DECIMAL(15,2),
	FLAG_TQS NVARCHAR(1) ,
	MASA_KOMISI NVARCHAR(2) ,
	TAHUN_KOMISI NVARCHAR(4) ,
	MASA_TQS NVARCHAR(2) ,
	TAHUN_TQS NVARCHAR(4) ,
	NO_BSO NVARCHAR(20) ,	 
	[VERSION] [int] NULL,
	[CREATED_BY] [nvarchar](15) NULL,
	[CREATED_ON] [datetime] NULL,
	[UPDATED_BY] [nvarchar](15) NULL,
	[UPDATED_ON] [datetime] NULL,
);

CREATE SEQUENCE [dbo].[TEMP13_ID_SEQ] 
 AS [bigint]
 START WITH 1
 INCREMENT BY 1
 MINVALUE -9223372036854775808
 MAXVALUE 9223372036854775807
 NO CACHE;

 CREATE TABLE dbo.TEMP13_REKAP_COSTING (
	[TEMP13_ID] bigint PRIMARY KEY NOT NULL DEFAULT (NEXT VALUE FOR TEMP13_ID_SEQ),
	COMPANY NVARCHAR(10) NOT NULL,
	REG NVARCHAR(10) ,
	SALES NVARCHAR(10) ,
	SALES_NAME NVARCHAR(100) ,
	NO_SO NVARCHAR(20) ,
	NO_BSO NVARCHAR(20) ,
	TGL_SO DATETIME,
	CUSTOMER NVARCHAR(100) ,
	NO_PO_CUST NVARCHAR(50) ,
	AMOUNT DECIMAL(15,2),
	NO_INVOICE NVARCHAR(20) ,
	TGL_INVOICE DATETIME,
	NO_FP NVARCHAR(20) ,
	TGL_LUNAS DATETIME,
	NO_LUNAS NVARCHAR(20) ,
	SELL_TO_CODE NVARCHAR(20) ,
	SELL_TO_NAME NVARCHAR(100) ,
	BILL_TO_CODE NVARCHAR(20) ,
	BILL_TO_NAME NVARCHAR(100) ,	
	NO_ITEM NVARCHAR(20) ,
	ITEM_DESC NVARCHAR(100) ,
	QTY DECIMAL(15,2),
	HARGA DECIMAL(15,2),
	PROSES_ID NVARCHAR(100) ,	 
	[VERSION] [int] NULL,
	[CREATED_BY] [nvarchar](15) NULL,
	[CREATED_ON] [datetime] NULL,
	[UPDATED_BY] [nvarchar](15) NULL,
	[UPDATED_ON] [datetime] NULL,
);


CREATE SEQUENCE [dbo].[M04_ID_SEQ] 
 AS [bigint]
 START WITH 1
 INCREMENT BY 1
 MINVALUE -9223372036854775808
 MAXVALUE 9223372036854775807
 NO CACHE;

 CREATE TABLE dbo.M04_ITEM_SATINDO (
	[M04_ID] bigint PRIMARY KEY NOT NULL DEFAULT (NEXT VALUE FOR M04_ID_SEQ),
	TGL_BERLAKU DATETIME,
	NO_ITEM NVARCHAR(20) ,
	SAT_AMOUNT_KOMISI DECIMAL(15,2),
	SAT_AMOUNT_BNS DECIMAL(15,2),
	IDMR_AMOUNT_KOMISI DECIMAL(15,2),
	IDMR_AMOUNT_BNS DECIMAL(15,2),
	[VERSION] [int] NULL,
	[CREATED_BY] [nvarchar](15) NULL,
	[CREATED_ON] [datetime] NULL,
	[UPDATED_BY] [nvarchar](15) NULL,
	[UPDATED_ON] [datetime] NULL,
	CONSTRAINT M04_UK UNIQUE (TGL_BERLAKU, NO_ITEM),
);

ALTER TABLE dbo.M04_ITEM_SATINDO ADD
SAT_AMOUNT_BNS_SALES DECIMAL(15,2),
IDMR_AMOUNT_BNS_SALES DECIMAL(15,2);

CREATE SEQUENCE [dbo].[T17_ID_SEQ] 
 AS [bigint]
 START WITH 1
 INCREMENT BY 1
 MINVALUE -9223372036854775808
 MAXVALUE 9223372036854775807
 NO CACHE;


CREATE TABLE dbo.T17_REKAP_KOMISI_SATINDO (
	[T17_ID] bigint PRIMARY KEY NOT NULL DEFAULT (NEXT VALUE FOR T17_ID_SEQ),
	COMPANY NVARCHAR(10) NOT NULL,
	REG  NVARCHAR(10) ,
	SALES NVARCHAR(10) ,
	NO_INVOICE NVARCHAR(20) ,
	TGL_INVOICE DATETIME,
	NO_FP NVARCHAR(20) ,
	NO_PO_CUST NVARCHAR(50) ,
	SELL_TO_CODE NVARCHAR(20) ,
	SELL_TO_NAME NVARCHAR(100) ,
	BILL_TO_CODE NVARCHAR(20) ,
	BILL_TO_NAME NVARCHAR(100) ,	
	NILAI_INVOICE DECIMAL(15,2),
	TGL_LUNAS DATETIME,
	NO_LUNAS NVARCHAR(20) ,
	NO_ITEM NVARCHAR(20) ,
	ITEM_DESC NVARCHAR(100) ,
	QTY DECIMAL(15,2),
	HARGA DECIMAL(15,2),
	AMOUNT_KOMISI DECIMAL(15,2),
	MASA_KOMISI NVARCHAR(2) ,
	TAHUN_KOMISI NVARCHAR(4) ,
	FLAG_KOMISI NVARCHAR(1) , 
	[VERSION] [int] NULL,
	[CREATED_BY] [nvarchar](15) NULL,
	[CREATED_ON] [datetime] NULL,
	[UPDATED_BY] [nvarchar](15) NULL,
	[UPDATED_ON] [datetime] NULL,
);

CREATE TABLE dbo.T18_DOWNLOAD_INVOICE (
	COMPANY NVARCHAR(10) NOT NULL,
	NO_INVOICE NVARCHAR(20) ,
	TGL_DOWNLOAD DATETIME,
	CONSTRAINT T18_PK PRIMARY KEY (COMPANY, NO_INVOICE)
) ;

INSERT INTO T18_DOWNLOAD_INVOICE (COMPANY, NO_INVOICE, TGL_DOWNLOAD)
SELECT COMPANY, NO_INVOICE, MIN(CREATED_ON)
FROM T16_REKAP_COSTING
WHERE	NO_INVOICE IS NOT NULL AND
		NO_INVOICE <> 'NA'
GROUP BY COMPANY, NO_INVOICE;


CREATE SEQUENCE [dbo].[T19_ID_SEQ] 
 AS [bigint]
 START WITH 1
 INCREMENT BY 1
 MINVALUE -9223372036854775808
 MAXVALUE 9223372036854775807
 NO CACHE;

CREATE TABLE dbo.T19_PI_ITEM (
	[T19_ID] bigint PRIMARY KEY NOT NULL DEFAULT (NEXT VALUE FOR T19_ID_SEQ),
	TGL_MULAI DATETIME NOT NULL,
	PRINCIPAL_CODE NVARCHAR(20) NOT NULL,
	ITEM_CAT_CODE NVARCHAR(20) NOT NULL,
	PRODUCT_CODE NVARCHAR(20) NOT NULL,
	BERLAKU NVARCHAR(1) NOT NULL,
	[VERSION] [int] NULL,
	[CREATED_BY] [nvarchar](15) NULL,
	[CREATED_ON] [datetime] NULL,
	[UPDATED_BY] [nvarchar](15) NULL,
	[UPDATED_ON] [datetime] NULL,
	CONSTRAINT T19_UK UNIQUE (TGL_MULAI, PRINCIPAL_CODE,ITEM_CAT_CODE,PRODUCT_CODE)
);

CREATE SEQUENCE [dbo].[T20_ID_SEQ] 
 AS [bigint]
 START WITH 1
 INCREMENT BY 1
 MINVALUE -9223372036854775808
 MAXVALUE 9223372036854775807
 NO CACHE;

CREATE TABLE dbo.T20_PI_ITEM (
	[T20_ID] bigint PRIMARY KEY NOT NULL DEFAULT (NEXT VALUE FOR T20_ID_SEQ),
	TGL_MULAI DATETIME NOT NULL,
	PRINCIPAL_CODE NVARCHAR(20) NOT NULL,
	VENDOR_CODE NVARCHAR(20) NOT NULL,
	BERLAKU NVARCHAR(1) NOT NULL,
	[VERSION] [int] NULL,
	[CREATED_BY] [nvarchar](15) NULL,
	[CREATED_ON] [datetime] NULL,
	[UPDATED_BY] [nvarchar](15) NULL,
	[UPDATED_ON] [datetime] NULL,
	CONSTRAINT T20_UK UNIQUE (TGL_MULAI, PRINCIPAL_CODE,VENDOR_CODE)
);



CREATE TABLE [dbo].[TEMP15_REPORT_GENERATOR] (
	LINE_NO INT NOT NULL,
	REPORT_NAME [nvarchar](80) NOT NULL,
	ROW_NO [nvarchar](10),
	DESC_ROW [nvarchar](80),
	AMOUNT_1 DECIMAL(38,20),
	AMOUNT_2 DECIMAL(38,20),
	AMOUNT_3 DECIMAL(38,20),
	AMOUNT_4 DECIMAL(38,20),
	AMOUNT_5 DECIMAL(38,20),
	AMOUNT_6 DECIMAL(38,20),
	SHOW_AMOUNT [tinyint],
	[Bold] [tinyint] ,
	[Italic] [tinyint] ,
	[Underline] [tinyint],
	[Show Opposite Sign] [tinyint],
	[Double Underline] [tinyint],
	PROSES_ID NVARCHAR(100)	,
	CONSTRAINT TEMP15_PK PRIMARY KEY (LINE_NO, REPORT_NAME, PROSES_ID) 
);

DROP TABLE [dbo].[TEMP16_ACC_RANGE];
CREATE TABLE [dbo].[TEMP16_ACC_RANGE] (
	PROSES_ID NVARCHAR(100)	,
	LINE_NO INT, 
	ACC_FROM [nvarchar](20) ,
	ACC_UPTO [nvarchar](20) ,
	COMPANY INT,
	CONSTRAINT TEMP16_PK PRIMARY KEY (PROSES_ID, LINE_NO, ACC_FROM, ACC_UPTO, COMPANY)  
);

DROP TABLE [dbo].[TEMP17_COGS_ANALYSIS];
CREATE TABLE [dbo].[TEMP17_COGS_ANALYSIS] (
	PROSES_ID NVARCHAR(100)	,
	BRANCHES NVARCHAR(20),
	ITEM_CAT NVARCHAR(20),
	SALESMAN NVARCHAR(20),
	PRODUCT NVARCHAR(20),
	AMOUNT_SALES_AJ DECIMAL(38,20),
	AMOUNT_SALES_SP DECIMAL(38,20),
	AMOUNT_COGS_AJ DECIMAL(38,20),
	AMOUNT_COGS_SP DECIMAL(38,20),
	CONSTRAINT TEMP17_PK PRIMARY KEY (PROSES_ID, BRANCHES, ITEM_CAT, SALESMAN, PRODUCT)  
);

DROP TABLE [dbo].[TEMP17_COGS_ANALYSIS];
CREATE TABLE [dbo].[TEMP17_COGS_ANALYSIS] (
	PROSES_ID NVARCHAR(100)	,
	ITEM_CAT NVARCHAR(20),
	PRODUCT NVARCHAR(20),
	BRANCHES NVARCHAR(20) NOT NULL,
	BRANCHES_NAME NVARCHAR(50) NOT NULL,
	AMOUNT_SALES_AJ DECIMAL(38,20),
	AMOUNT_SALES_SP DECIMAL(38,20),
	AMOUNT_COGS_AJ DECIMAL(38,20),
	AMOUNT_COGS_SP DECIMAL(38,20),
	CONSTRAINT TEMP17_PK PRIMARY KEY (PROSES_ID, ITEM_CAT, PRODUCT, BRANCHES)  
);


DROP TABLE [dbo].[TEMP18_CEK_STATUS_COSTING];
CREATE TABLE [dbo].[TEMP18_CEK_STATUS_COSTING] (
	PROSES_ID NVARCHAR(100)	,
	COMPANY NVARCHAR(10),
	SALES NVARCHAR(10),
	SALES_NAME NVARCHAR(100),
	NO_BSO NVARCHAR(20),
	NO_SO NVARCHAR(20),
	TGL_SO DATETIME,
	CUSTOMER NVARCHAR(100),
	NO_PO_CUST NVARCHAR(100),
	AMOUNT DECIMAL(38,20),
	NO_INVOICE NVARCHAR(20),
	TGL_INVOICE DATETIME,
	TGL_LUNAS DATETIME,
	PCN_KOMISI DECIMAL(38,20),
	AMOUNT_KOMISI DECIMAL(38,20),
	STATUS_COSTING	NVARCHAR(100),
	CONSTRAINT TEMP18_PK PRIMARY KEY (PROSES_ID, COMPANY, NO_BSO, NO_SO, NO_INVOICE)  
);


 CREATE SEQUENCE [dbo].[M05_ID_SEQ] 
	 AS [bigint]
	 START WITH 1
	 INCREMENT BY 1
	 MINVALUE -9223372036854775808
	 MAXVALUE 9223372036854775807
	 NO CACHE;

 DROP TABLE dbo.M05_NO_DOK;
 CREATE TABLE dbo.M05_NO_DOK (
	[M05_ID] bigint PRIMARY KEY NOT NULL DEFAULT (NEXT VALUE FOR M05_ID_SEQ),
	COMPANY  NVARCHAR(2),
	CABANG  NVARCHAR(3),
	REG NVARCHAR(10),
	TAHUN NVARCHAR(4),
	BULAN NVARCHAR(5),
	LAST_NO bigint,
	[VERSION] [int] NULL,
	[CREATED_BY] [nvarchar](15) NULL,
	[CREATED_ON] [datetime] NULL,
	[UPDATED_BY] [nvarchar](15) NULL,
	[UPDATED_ON] [datetime] NULL,
	CONSTRAINT M05_UK UNIQUE (COMPANY, CABANG, REG, TAHUN, BULAN)
);

CREATE SEQUENCE [dbo].[T21_ID_SEQ] 
	 AS [bigint]
	 START WITH 1
	 INCREMENT BY 1
	 MINVALUE -9223372036854775808
	 MAXVALUE 9223372036854775807
	 NO CACHE;

DROP TABLE [dbo].[T21_DAFTAR_PENAWARAN_SALES];
CREATE TABLE [dbo].[T21_DAFTAR_PENAWARAN_SALES] (
	[T21_ID] bigint PRIMARY KEY NOT NULL DEFAULT (NEXT VALUE FOR T21_ID_SEQ),
	COMPANY NVARCHAR(2) NOT NULL,
	CABANG NVARCHAR(3) NOT NULL,
	TGL_PENAWARAN DATE NOT NULL,
	NO_PENAWARAN  NVARCHAR(30) NOT NULL,
	NAMA_CUSTOMER  NVARCHAR(200) NOT NULL,
	SEKTOR_INDUSTRI  NVARCHAR(10) NOT NULL,
	KETERANGAN  NVARCHAR(300) NOT NULL,
	SALES_CODE	NVARCHAR(20) NOT NULL,
	NILAI DECIMAL(38,20) NOT NULL,
	STATUS_PENAWARAN NVARCHAR(1) , 
	TGL_AWARDED DATE NULL,
	[VERSION] [int] NULL,
	[CREATED_BY] [nvarchar](15) NULL,
	[CREATED_ON] [datetime] NULL,
	[UPDATED_BY] [nvarchar](15) NULL,
	[UPDATED_ON] [datetime] NULL,
	CONSTRAINT T21_UK UNIQUE (NO_PENAWARAN)
);

DROP TABLE  [dbo].[T22_NO_PENAWARAN];
CREATE TABLE [dbo].[T22_NO_PENAWARAN] (
	[T21_ID] bigint PRIMARY KEY NOT NULL,
	NO_PENAWARAN_LAMA  NVARCHAR(30) NOT NULL,
	NO_PENAWARAN  NVARCHAR(30) NOT NULL
);





DROP TABLE [dbo].[TEMP19_SALES_MARGIN_ANALYSIS];
CREATE TABLE [dbo].[TEMP19_SALES_MARGIN_ANALYSIS](
	[TEMP19_ID] [bigint] NOT NULL,
	[PROSES_ID] [nvarchar](100) NOT NULL,
	COMPANY [nvarchar](10) NOT NULL,
	REG [nvarchar](20) NULL,
	NO_INV [nvarchar](20) NULL,
	TGL_INV DATETIME NULL,
	KODE_CUST [nvarchar](20) NULL,
	NAMA_CUST [nvarchar](100) NULL,
	NO_PO_CUST [nvarchar](50) NULL,
	NILAI_UM [decimal](38, 20) NULL,
	NILAI_DPP [decimal](38, 20) NULL,
	NILAI_TOTAL [decimal](38, 20) NULL,
	NILAI_COGS [decimal](38, 20) NULL,
	MARGIN_DPP [decimal](38, 20) NULL,
	MARGIN [decimal](38, 20) NULL,
	MARGIN_DPP_PCN [decimal](38, 20) NULL,
	MARGIN_PCN [decimal](38, 20) NULL,
	CAB_KODE [nvarchar](20) NULL,
	CABANG [nvarchar](100) NULL,
	CRM_NO [nvarchar](20) NULL,
	GROUP_MARGIN_DPP [nvarchar](5) NULL,
	GROUP_MARGIN [nvarchar](5) NULL,
	CONSTRAINT [PK_TEMP19] PRIMARY KEY ([TEMP19_ID], [PROSES_ID])
) ;


ALTER TABLE [dbo].[TEMP19_SALES_MARGIN_ANALYSIS]
ADD NO_SO [nvarchar](20),
	NO_BSO [nvarchar](20);



ALTER TABLE [TEMP03_WEBINAR_FEEDBACK]
ADD ALAMAT [nvarchar](300),
	KODE_POS [nvarchar](300);

ALTER TABLE [T08_FEEDBACK_PERSON]
ADD ALAMAT [nvarchar](300),
	KODE_POS [nvarchar](300);

DROP TABLE [dbo].[TEMP20_OUTSTANDING_SO];
CREATE TABLE [dbo].[TEMP20_OUTSTANDING_SO](
	[TEMP20_ID] [bigint] NOT NULL,
	[PROSES_ID] [nvarchar](100) NOT NULL,
	COMPANY [nvarchar](10) NULL,
	NO_SO [nvarchar](20) NULL,
	TIPE [nvarchar](5) NULL,
	PO_TEMP [nvarchar](1) NULL,
	CABANG [nvarchar](50) NULL,
	LOC_CODE [nvarchar](10) NULL,
	SALES_CODE [nvarchar](20) NULL,
	SALES_NAME [nvarchar](50) NULL,
	CUST_CODE [nvarchar](20) NULL,
	CUST_NAME [nvarchar](50) NULL,
	SHIP_ADD [nvarchar](260) NULL,
	BILL_ADD [nvarchar](260) NULL,
	ORDER_DATE DATETIME NULL,
	STATUS_SO [nvarchar](20) NULL,
	TERM_OF_PAY [nvarchar](10) NULL,
	NO_PO_CUST [nvarchar](35) NULL,
	GROUP_PO  [nvarchar](5) NULL,
	CURR_CODE [nvarchar](10) NULL,
	CURR_FAKTOR [decimal](38, 20) NULL,
	AMOUNT_IDR [decimal](38, 20) NULL,
	AMOUNT [decimal](38, 20) NULL,
	NO_ITEM [nvarchar](20) NULL,
	ITEM_DESC [nvarchar](100) NULL,
	QTY [decimal](38, 20) NULL,
	QTY_SHIPPED  [decimal](38, 20) NULL,
	QTY_OUT  [decimal](38, 20) NULL,
	RSRV_OH  [decimal](38, 20) NULL,
	RSRV_ON_ORDER  [decimal](38, 20) NULL,
	RSRV_OTP_READY  [decimal](38, 20) NULL,
	STATUS_LINE [nvarchar](50) NULL,
	CRTITICAL [nvarchar](3) NULL,
	CODE_REASON [nvarchar](50) NULL,
	NO_PO [nvarchar](20) NULL,
	NO_BPO [nvarchar](20) NULL,
	EXPECTED_DATE DATETIME NULL,
	DELIVERY_DATE DATETIME NULL,
	JML_CRITICAL int NULL,
	EST_REALISASI DATETIME NULL,
	EST_REALISASI_REAL DATETIME NULL,
	ER_FROM [nvarchar](25) NULL,
	GRP_SO [nvarchar](100) NULL,
	BARIS int NULL,
	RULE_TIPE [nvarchar](5) NULL,
	NOT_READY [nvarchar](1) NULL,
	AMOUNT_IDR_TTL [decimal](38, 20) NULL,
	AMOUNT_IDR_HW01 [decimal](38, 20) NULL,
	AMOUNT_IDR_PS01 [decimal](38, 20) NULL,
	AMOUNT_IDR_PS02 [decimal](38, 20) NULL,
	AMOUNT_IDR_PS03 [decimal](38, 20) NULL,
	AMOUNT_IDR_PS04 [decimal](38, 20) NULL,
	AMOUNT_IDR_PS05 [decimal](38, 20) NULL,
	AMOUNT_HW01 [decimal](38, 20) NULL,
	AMOUNT_PS01 [decimal](38, 20) NULL,
	AMOUNT_PS02 [decimal](38, 20) NULL,
	AMOUNT_PS03 [decimal](38, 20) NULL,
	AMOUNT_PS04 [decimal](38, 20) NULL,
	AMOUNT_PS05 [decimal](38, 20) NULL,
	ITEM_CAT [nvarchar](30) NULL,
	AMOUNT_DTL_TTL [decimal](38, 20) NULL,
	AMOUNT_DTL [decimal](38, 20) NULL,
	JML_DTL INT,
	ADA_PS [nvarchar](2) NULL,
	CONSTRAINT [PK_TEMP20] PRIMARY KEY ([TEMP20_ID], [PROSES_ID])
) ;

ALTER TABLE [TEMP20_OUTSTANDING_SO]
ADD RELEASED_DATE DATETIME,
	RELEASED_BY [nvarchar](50),
	NO_BSO [nvarchar](20);

ALTER TABLE [TEMP20_OUTSTANDING_SO]
ADD PROMISED_DATE DATETIME;

ALTER TABLE [TEMP20_OUTSTANDING_SO]
ADD KETERANGAN_DP NVARCHAR(100) NULL;

ALTER TABLE [TEMP20_OUTSTANDING_SO]
ADD PRINCIPAL_CODE NVARCHAR(20) NULL;


CREATE SEQUENCE [dbo].[T23_ID_SEQ] 
 AS [bigint]
 START WITH 1
 INCREMENT BY 1
 MINVALUE -9223372036854775808
 MAXVALUE 9223372036854775807
 NO CACHE;

CREATE TABLE [dbo].[T23_ADJ_TOP_CUST](
	T23_ID bigint PRIMARY KEY NOT NULL DEFAULT (NEXT VALUE FOR T23_ID_SEQ),
	CUST_NO [nvarchar](20),
	TOP_ADJ INTEGER,
	[VERSION] [int] NULL,
	[CREATED_BY] [nvarchar](15) NULL,
	[CREATED_ON] [datetime] NULL,
	[UPDATED_BY] [nvarchar](15) NULL,
	[UPDATED_ON] [datetime] NULL,
	CONSTRAINT T13_UC UNIQUE (CUST_NO)
) ; 


DROP TABLE [dbo].[TEMP21_GL_ENTRY];
CREATE TABLE [dbo].[TEMP21_GL_ENTRY](
	PROSES_ID [nvarchar](100) NOT NULL,
	COMPANY [nvarchar](20) NOT NULL,
	ENTRY_NO int NOT NULL, 
	GLA_NO [nvarchar](20) NOT NULL,
	DOCUMENT_NO [nvarchar](20) NOT NULL,
	POSTING_DATE datetime  NOT NULL,
	SOURCE_NO [nvarchar](20),
	SOURCE_CODE [nvarchar](20),
	BRANCHES [nvarchar](20),
	ITEM_CAT [nvarchar](20),
	SALESMAN [nvarchar](20),
	PRODUCT [nvarchar](20),
	AMOUNT  [decimal](38, 20)
	CONSTRAINT [PK_TEMP21] PRIMARY KEY (PROSES_ID, COMPANY, ENTRY_NO)
) ;

ALTER TABLE [TEMP21_GL_ENTRY]
ADD DESCRIPTION_ NVARCHAR(100) NULL;


CREATE INDEX IDX_TEMP21_01
ON [dbo].[TEMP21_GL_ENTRY] (PROSES_ID, COMPANY, GLA_NO, POSTING_DATE);


DROP TABLE [dbo].[TEMP22_UM_CM];
CREATE TABLE [dbo].[TEMP22_UM_CM](
	PROSES_ID [nvarchar](100) NOT NULL,
	COMPANY [nvarchar](20) NOT NULL,
	ENTRY_NO int NOT NULL, 
	TGL_UM datetime  NOT NULL,
	NO_UM [nvarchar](20) NOT NULL,
	TGL_CM datetime  NOT NULL,
	NO_CM [nvarchar](20) NOT NULL,
	CONSTRAINT [PK_TEMP22] PRIMARY KEY (PROSES_ID, COMPANY, ENTRY_NO)
) ;

CREATE INDEX IDX_TEMP22_01
ON [dbo].[TEMP22_UM_CM] (PROSES_ID, COMPANY, TGL_UM);

CREATE INDEX IDX_TEMP22_02
ON [dbo].[TEMP22_UM_CM] (PROSES_ID, COMPANY, TGL_CM);


DROP TABLE [dbo].[TEMP23_INVOICE_UM];
CREATE TABLE [dbo].[TEMP23_INVOICE_UM](
	PROSES_ID [nvarchar](100) NOT NULL,
	COMPANY [nvarchar](20) NOT NULL,
	TGL_UM datetime  NOT NULL,
	NO_UM [nvarchar](20) NOT NULL,
	NO_SO [nvarchar](20),
	CUST_NO [nvarchar](20),
	AMOUNT [decimal](38, 20),
	BRANCHES [nvarchar](20) NOT NULL,
	ITEM_CAT [nvarchar](20) NOT NULL,
	SALESMAN [nvarchar](20) NOT NULL,
	PRODUCT [nvarchar](20) NOT NULL,
	CONSTRAINT [PK_TEMP23] PRIMARY KEY (PROSES_ID, COMPANY, NO_UM, BRANCHES, ITEM_CAT, SALESMAN, PRODUCT)
) ;

CREATE INDEX IDX_TEMP23_01
ON [dbo].[TEMP23_INVOICE_UM] (PROSES_ID, COMPANY, TGL_UM);

CREATE INDEX IDX_TEMP23_02
ON [dbo].[TEMP23_INVOICE_UM] (PROSES_ID, COMPANY, NO_SO, BRANCHES, ITEM_CAT, SALESMAN);

CREATE INDEX IDX_TEMP23_03
ON [dbo].[TEMP23_INVOICE_UM] (PROSES_ID, COMPANY, NO_SO, BRANCHES, ITEM_CAT, PRODUCT);

CREATE INDEX IDX_TEMP23_04
ON [dbo].[TEMP23_INVOICE_UM] (PROSES_ID, COMPANY, NO_SO, BRANCHES, ITEM_CAT, SALESMAN, PRODUCT);



DROP TABLE [dbo].[TEMP24_INVOICE_UM_FINAL];
CREATE TABLE [dbo].[TEMP24_INVOICE_UM_FINAL](
	PROSES_ID [nvarchar](100) NOT NULL,
	COMPANY [nvarchar](20) NOT NULL,
	TGL_INV datetime  NOT NULL,
	NO_SO [nvarchar](20),
	AMOUNT [decimal](38, 20),
	BRANCHES [nvarchar](20) NOT NULL,
	ITEM_CAT [nvarchar](20) NOT NULL,
	SALESMAN [nvarchar](20) NOT NULL,
	PRODUCT [nvarchar](20) NOT NULL,
	CONSTRAINT [PK_TEMP24] PRIMARY KEY (PROSES_ID, COMPANY, NO_SO, BRANCHES, ITEM_CAT, SALESMAN, PRODUCT)
) ;

CREATE INDEX IDX_TEMP24_01
ON [dbo].[TEMP24_INVOICE_UM_FINAL] (PROSES_ID, COMPANY, TGL_INV);

CREATE INDEX IDX_TEMP24_02
ON [dbo].[TEMP24_INVOICE_UM_FINAL] (PROSES_ID, COMPANY, NO_SO, BRANCHES, ITEM_CAT, SALESMAN);

CREATE INDEX IDX_TEMP24_03
ON [dbo].[TEMP24_INVOICE_UM_FINAL] (PROSES_ID, COMPANY, NO_SO, BRANCHES, ITEM_CAT, PRODUCT);

CREATE INDEX IDX_TEMP24_04
ON [dbo].[TEMP24_INVOICE_UM_FINAL] (PROSES_ID, COMPANY, NO_SO, BRANCHES, ITEM_CAT, SALESMAN, PRODUCT);


DROP TABLE [dbo].[TEMP25_INVOICE_CM_UM];
CREATE TABLE [dbo].[TEMP25_INVOICE_CM_UM](
	PROSES_ID [nvarchar](100) NOT NULL,
	COMPANY [nvarchar](20) NOT NULL,
	TGL_CM datetime  NOT NULL,
	NO_CM [nvarchar](20),
	AMOUNT [decimal](38, 20),
	BRANCHES [nvarchar](20) NOT NULL,
	ITEM_CAT [nvarchar](20) NOT NULL,
	SALESMAN [nvarchar](20) NOT NULL,
	PRODUCT [nvarchar](20) NOT NULL,
	CUST_NO NVARCHAR(20) NULL,
	CONSTRAINT [PK_TEMP25] PRIMARY KEY (PROSES_ID, COMPANY, NO_CM, BRANCHES, ITEM_CAT, SALESMAN, PRODUCT)
) ;


ALTER TABLE [TEMP25_INVOICE_CM_UM]
ADD NO_SO_ NVARCHAR(35) NULL;


CREATE INDEX IDX_TEMP25_01
ON [dbo].[TEMP25_INVOICE_CM_UM] (PROSES_ID, COMPANY, TGL_CM);


DROP TABLE [dbo].[TEMP26_ADJ_UM];
CREATE TABLE [dbo].[TEMP26_ADJ_UM](
	PROSES_ID [nvarchar](100) NOT NULL,
	COMPANY [nvarchar](20) NOT NULL,
	POSTING_DATE datetime  NOT NULL,
	DOCUMENT_NO [nvarchar](20),
	AMOUNT [decimal](38, 20),
	BRANCHES [nvarchar](20) NOT NULL,
	ITEM_CAT [nvarchar](20) NOT NULL,
	SALESMAN [nvarchar](20) NOT NULL,
	PRODUCT [nvarchar](20) NOT NULL,
	CUST_NO [nvarchar](20) NOT NULL,
	CONSTRAINT [PK_TEMP26] PRIMARY KEY (PROSES_ID, COMPANY, DOCUMENT_NO, BRANCHES, ITEM_CAT, SALESMAN, PRODUCT, CUST_NO)
) ;

CREATE INDEX IDX_TEMP26_01
ON [dbo].[TEMP26_ADJ_UM] (PROSES_ID, COMPANY);


CREATE SEQUENCE [dbo].[T24_ID_SEQ] 
 AS [bigint]
 START WITH 1
 INCREMENT BY 1
 MINVALUE -9223372036854775808
 MAXVALUE 9223372036854775807
 NO CACHE;

CREATE TABLE [dbo].[T24_PRINCIPAL_REGIONAL](
	T24_ID bigint PRIMARY KEY NOT NULL DEFAULT (NEXT VALUE FOR T24_ID_SEQ),
	PRINCIPAL [nvarchar](50),
	[VERSION] [int] NULL,
	[CREATED_BY] [nvarchar](15) NULL,
	[CREATED_ON] [datetime] NULL,
	[UPDATED_BY] [nvarchar](15) NULL,
	[UPDATED_ON] [datetime] NULL,
	CONSTRAINT T24_UC UNIQUE (PRINCIPAL)
) ; 


drop table [dbo].[TEMP24_INVOICE_UM_FINAL_SR];
CREATE TABLE [dbo].[TEMP24_INVOICE_UM_FINAL_SR](
	PROSES_ID [nvarchar](100) NOT NULL,
	COMPANY [nvarchar](20) NOT NULL,
	TGL_INV datetime  NOT NULL,
	NO_SO [nvarchar](20),
	AMOUNT [decimal](38, 20),
	BRANCHES [nvarchar](20) NOT NULL,
	ITEM_CAT [nvarchar](20) NOT NULL,
	SALESMAN [nvarchar](20) NOT NULL,
	PRODUCT [nvarchar](20) NOT NULL,
	CONSTRAINT [PK_TEMP24_SR] PRIMARY KEY (PROSES_ID, COMPANY, NO_SO, BRANCHES, ITEM_CAT, SALESMAN, PRODUCT)
) ;

CREATE INDEX IDX_TEMP24_SR_01
ON [dbo].[TEMP24_INVOICE_UM_FINAL_SR] (PROSES_ID, COMPANY, TGL_INV);

CREATE INDEX IDX_TEMP24_SR_02
ON [dbo].[TEMP24_INVOICE_UM_FINAL_SR] (PROSES_ID, COMPANY, NO_SO, BRANCHES, ITEM_CAT, SALESMAN);

CREATE INDEX IDX_TEMP24_SR_03
ON [dbo].[TEMP24_INVOICE_UM_FINAL_SR] (PROSES_ID, COMPANY, NO_SO, BRANCHES, ITEM_CAT, PRODUCT);

CREATE INDEX IDX_TEMP24_SR_04
ON [dbo].[TEMP24_INVOICE_UM_FINAL_SR] (PROSES_ID, COMPANY, NO_SO, BRANCHES, ITEM_CAT, SALESMAN, PRODUCT);

drop table [dbo].[TEMP24_INVOICE_UM_FINAL_SRF];
CREATE TABLE [dbo].[TEMP24_INVOICE_UM_FINAL_SRF](
	PROSES_ID [nvarchar](100) NOT NULL,
	COMPANY [nvarchar]NOT NULL,
	TGL_INV datetime  NOT NULL,
	NO_SO [nvarchar](20),
	AMOUNT [decimal](38, 20),
	BRANCHES [nvarchar](20) NOT NULL,
	ITEM_CAT [nvarchar](20) NOT NULL,
	SALESMAN [nvarchar](20) NOT NULL,
	PRODUCT [nvarchar](20) NOT NULL,
	SEM  [nvarchar](3),
	CONSTRAINT [PK_TEMP24_SRF] PRIMARY KEY (PROSES_ID, COMPANY, NO_SO, BRANCHES, ITEM_CAT, SALESMAN, PRODUCT, SEM)
) ;

CREATE INDEX IDX_TEMP24_SRF_01
ON [dbo].[TEMP24_INVOICE_UM_FINAL_SRF] (PROSES_ID, COMPANY, TGL_INV, SEM);

CREATE INDEX IDX_TEMP24_SRF_02
ON [dbo].[TEMP24_INVOICE_UM_FINAL_SRF] (PROSES_ID, COMPANY, NO_SO, BRANCHES, ITEM_CAT, SALESMAN, SEM);

CREATE INDEX IDX_TEMP24_SRF_03
ON [dbo].[TEMP24_INVOICE_UM_FINAL_SRF] (PROSES_ID, COMPANY, NO_SO, BRANCHES, ITEM_CAT, PRODUCT, SEM);

CREATE INDEX IDX_TEMP24_SRF_04
ON [dbo].[TEMP24_INVOICE_UM_FINAL_SRF] (PROSES_ID, COMPANY, NO_SO, BRANCHES, ITEM_CAT, SALESMAN, PRODUCT, SEM);


drop table [dbo].[TEMP27_OUTSTANDING_UM];
CREATE TABLE [dbo].[TEMP27_OUTSTANDING_UM](
	PROSES_ID [nvarchar](100) NOT NULL,
	GRP [nvarchar] (20) ,
	BRANCHES [nvarchar](10) ,
	BRANCHES_NAME [nvarchar](50) ,
	CUST_NAME_SORT [nvarchar](50) ,
	NO_PO_CUST_SORT [nvarchar](50) ,	
	NO_PO_CUST [nvarchar](50) ,
	CUST_NO [nvarchar](20) ,
	CUST_NAME [nvarchar](50) ,
	SLS [nvarchar](50) ,
	COMPANY [nvarchar] (5) ,
	TGL_UM datetime ,
	NO_UM [nvarchar](20),
	NO_SO [nvarchar](20),
	USIA INT,
	AMOUNT DECIMAL(38,18),
	STATUS_BAYAR [nvarchar](20),
	AMOUNT_RMN_IDR  DECIMAL(38,18),
	PCN_PREP  DECIMAL(38,18),
	FULL_AMOUNT  DECIMAL(38,18), 
	CONSTRAINT [PK_TEMP27] PRIMARY KEY (PROSES_ID, GRP, BRANCHES, COMPANY, CUST_NAME, NO_PO_CUST, NO_UM, NO_SO, SLS)
) ;


DROP TABLE [dbo].[TEMP24_INVOICE_UM_FINAL_FL];
CREATE TABLE [dbo].[TEMP24_INVOICE_UM_FINAL_FL](
	PROSES_ID [nvarchar](100) NOT NULL,
	COMPANY [nvarchar](20) NOT NULL,
	TGL_INV datetime  NOT NULL,
	NO_SO [nvarchar](20),
	AMOUNT [decimal](38, 20),
	BRANCHES [nvarchar](20) NOT NULL,
	ITEM_CAT [nvarchar](20) NOT NULL,
	SALESMAN [nvarchar](20) NOT NULL,
	PRODUCT [nvarchar](20) NOT NULL,
	CONSTRAINT [PK_TEMP24_FL] PRIMARY KEY (PROSES_ID, COMPANY, TGL_INV, NO_SO, BRANCHES, ITEM_CAT, SALESMAN, PRODUCT)
) ;

CREATE INDEX IDX_TEMP24_01_FL
ON [dbo].[TEMP24_INVOICE_UM_FINAL] (PROSES_ID, COMPANY, TGL_INV);

CREATE INDEX IDX_TEMP24_02_FL
ON [dbo].[TEMP24_INVOICE_UM_FINAL] (PROSES_ID, COMPANY, TGL_INV, NO_SO, BRANCHES, ITEM_CAT, SALESMAN);

CREATE INDEX IDX_TEMP24_03_FL
ON [dbo].[TEMP24_INVOICE_UM_FINAL] (PROSES_ID, COMPANY, TGL_INV, NO_SO, BRANCHES, ITEM_CAT, PRODUCT);

CREATE INDEX IDX_TEMP24_04_FL
ON [dbo].[TEMP24_INVOICE_UM_FINAL] (PROSES_ID, COMPANY, TGL_INV, NO_SO, BRANCHES, ITEM_CAT, SALESMAN, PRODUCT);




CREATE SEQUENCE [dbo].[M06_ID_SEQ] 
 AS [bigint]
 START WITH 1
 INCREMENT BY 1
 MINVALUE -9223372036854775808
 MAXVALUE 9223372036854775807
 NO CACHE;

CREATE TABLE M06_TARGET_PIPELINE (
	[M06_ID] bigint PRIMARY KEY NOT NULL DEFAULT (NEXT VALUE FOR M06_ID_SEQ),
	[TAHUN] nvarchar(4),
	[JENIS] nvarchar(10),
	[SLS_OR_CAB] nvarchar(3),
	[TARGET] DECIMAL(38,20) DEFAULT 0,
	[STATUS] nvarchar(10),
	[VERSION] [int] NULL,
	[CREATED_BY] [nvarchar](15) NULL,
	[CREATED_ON] [datetime] NULL,
	[UPDATED_BY] [nvarchar](15) NULL,
	[UPDATED_ON] [datetime] NULL,
	CONSTRAINT M06_UK UNIQUE ([TAHUN], [JENIS], [SLS_OR_CAB])
);

ALTER TABLE M06_TARGET_PIPELINE ADD TARGET_PS DECIMAL(38,20) NULL;


CREATE SEQUENCE [dbo].[T25_ID_SEQ] 
 AS [bigint]
 START WITH 1
 INCREMENT BY 1
 MINVALUE -9223372036854775808
 MAXVALUE 9223372036854775807
 NO CACHE;

CREATE TABLE [dbo].[T25_SUM_BS_GL_ENTRY](
	T25_ID bigint PRIMARY KEY NOT NULL DEFAULT (NEXT VALUE FOR T25_ID_SEQ),
	COMPANY [nvarchar](10),
	ACCOUNT_NO  [nvarchar](20),
	POSTING_DATE [datetime],	
	GLOBAL_DIM_1 [nvarchar](20),
	GLOBAL_DIM_2 [nvarchar](20),	
	AMOUNT DECIMAL(38,20),
	CREATED_BY [nvarchar] (15) NULL,
	CREATED_ON [datetime] NULL
) ; 



CREATE TABLE [dbo].[TEMP28_SUM_GL_ENTRY](
	PROSES_ID [nvarchar](100),
	COMPANY [nvarchar](10),
	ACCOUNT_NO  [nvarchar](20),
	POSTING_DATE [datetime],	
	GLOBAL_DIM_1 [nvarchar](20),
	GLOBAL_DIM_2 [nvarchar](20),	
	INCOME_BALANCE int,
	AMOUNT DECIMAL(38,20),
	CONSTRAINT [PK_TEMP28] PRIMARY KEY (PROSES_ID, COMPANY, ACCOUNT_NO, POSTING_DATE, GLOBAL_DIM_1, GLOBAL_DIM_2)
) ; 



DROP TABLE [dbo].[T26_CETAK_SROSO];
DROP TABLE [dbo].[T27_DETAIL_SR];
DROP TABLE [dbo].[T28_DETAIL_OSO];
DROP SEQUENCE [dbo].[T26_ID_SEQ] ;

CREATE SEQUENCE [dbo].[T26_ID_SEQ] 
 AS [bigint]
 START WITH 1
 INCREMENT BY 1
 MINVALUE -9223372036854775808
 MAXVALUE 9223372036854775807
 NO CACHE;


CREATE TABLE [dbo].[T26_CETAK_SROSO] (
    T26_ID bigint PRIMARY KEY NOT NULL DEFAULT (NEXT VALUE FOR T26_ID_SEQ),
	DICETAK_PADA datetime NOT NULL,
	KETERANGAN nvarchar(20) NOT NULL,
	TGL_AWAL_TAHUN datetime NULL,
	TGL_AKHIR_TAHUN datetime NULL,
	TGL_AWAL_BULAN_PERIOD datetime NULL,
	TGL_AKHIR_BULAN_PERIOD datetime NULL,
	VERSION int NULL,
	CREATED_BY nvarchar(15) NULL,
	CREATED_ON datetime NULL,
	UPDATED_BY nvarchar(15) NULL,
	UPDATED_ON datetime NULL
);


CREATE TABLE [dbo].[T27_DETAIL_SR](
	NO_URUT int,
	T26_ID bigint,
	GR_CRNXY int,
	GROUP_NO [nvarchar](50),
	GROUP_DESC [nvarchar](100),
	GROUP_ITEM_CAT [nvarchar](50),
	ITEM_CAT [nvarchar](100),
	AMT_HO DECIMAL(38,20),
	AMT_SBY DECIMAL(38,20),
	AMT_DPS DECIMAL(38,20),
	AMT_CKR DECIMAL(38,20),
	AMT_SMR DECIMAL(38,20),
	TOTAL DECIMAL(38,20),
	AMT_TARGET DECIMAL(38,20),
	LBL_TARGET [nvarchar](50),
	PCN_HO DECIMAL(38,20),
	PCN_SBY DECIMAL(38,20),
	PCN_DPS DECIMAL(38,20),
	PCN_CKR DECIMAL(38,20),
	PCN_SMR DECIMAL(38,20),
	PCN_TOTAL DECIMAL(38,20)
	CONSTRAINT [PK_T27] PRIMARY KEY (NO_URUT, T26_ID)
) ; 


CREATE TABLE [dbo].[T28_DETAIL_OSO](
	NO_URUT int,
	T26_ID bigint,
	COMPANY [nvarchar](10), 
	NO_SO [nvarchar](20),
	TIPE [nvarchar](5),
	PO_TEMP [nvarchar](1),
	CABANG [nvarchar](50),
	LOC_CODE [nvarchar](10),
	SALES_CODE [nvarchar](20),
	SALES_NAME [nvarchar](50),
	CUST_CODE [nvarchar](20),
	CUST_NAME [nvarchar](50),
	SHIP_ADD [nvarchar](260),
	BILL_ADD [nvarchar](260),
	ORDER_DATE datetime,
	STATUS_SO [nvarchar](20),
	TERM_OF_PAY [nvarchar](10),
	NO_PO_CUST [nvarchar](35),
	GROUP_PO [nvarchar](5),
	CURR_CODE [nvarchar](10),
	CURR_FAKTOR DECIMAL(38,20),
	AMOUNT_IDR DECIMAL(38,20),
	AMOUNT DECIMAL(38,20), 
	AMOUNT_IDR_THISM DECIMAL(38,20),
	AMOUNT_IDR_THISM_1 DECIMAL(38,20),
	AMOUNT_IDR_THISM_2 DECIMAL(38,20),
	JDL_THISM [nvarchar](20),
	JDL_THISM_1 [nvarchar](20),
	JDL_THISM_2 [nvarchar](20),
	NO_ITEM [nvarchar](20),
	ITEM_DESC [nvarchar](100),
	QTY DECIMAL(38,20),
	QTY_SHIPPED  DECIMAL(38,20),
	QTY_OUT DECIMAL(38,20),
	RSRV_OH DECIMAL(38,20),
	RSRV_ON_ORDER DECIMAL(38,20),
	RSRV_OTP_READY DECIMAL(38,20),
	STATUS_LINE [nvarchar](50),
	CRTITICAL [nvarchar](3),
	CODE_REASON [nvarchar](50),
	NO_PO [nvarchar](20),
	NO_BPO [nvarchar](20),
	EXPECTED_DATE datetime,
	DELIVERY_DATE datetime,
	JML_CRITICAL int,
	EST_REALISASI datetime,
	EST_REALISASI_REAL datetime,
	ER_FROM [nvarchar](25),
	GRP_SO [nvarchar](100),
	PROMISED_DATE datetime,
	KETERANGAN_DP [nvarchar](100),
	CONSTRAINT [PK_T28] PRIMARY KEY (NO_URUT, T26_ID)
) ; 



drop table [dbo].[TEMP29_OUTSTANDING_UM_SR];
CREATE TABLE [dbo].[TEMP29_OUTSTANDING_UM_SR](
	PROSES_ID [nvarchar](100) NOT NULL,
	NO_URUT int,
	GRP [nvarchar] (20) ,
	ITEM_CAT [nvarchar](20),
	BRANCHES [nvarchar](10) ,
	BRANCHES_NAME [nvarchar](50) ,
	SALESMAN [nvarchar](20),
	APPL [nvarchar](20),
	PRODUCT [nvarchar](20),
	PRINCIPAL [nvarchar](20),
	CUST_NAME_SORT [nvarchar](50) ,
	NO_PO_CUST_SORT [nvarchar](50) ,	
	NO_PO_CUST [nvarchar](50) ,
	CUST_NO [nvarchar](20) ,
	CUST_NAME [nvarchar](50) ,
	COMPANY [nvarchar] (5) ,
	TGL_UM datetime ,
	NO_UM [nvarchar](20),
	NO_SO [nvarchar](20),
	AMOUNT DECIMAL(38,18),
	CONSTRAINT [PK_TEMP29] PRIMARY KEY (PROSES_ID, GRP, NO_URUT)
) ;

DROP TABLE [dbo].[TEMP30_OUTSTANDING_SO_SR];
CREATE TABLE [dbo].[TEMP30_OUTSTANDING_SO_SR](
	PROSES_ID [nvarchar](100) NOT NULL,
	NO_URUT int,
	COMPANY [nvarchar](10) NULL,
	NO_SO [nvarchar](20) NULL,
	CUST_NO [nvarchar](20) NULL,
	SALESMAN [nvarchar](20) NULL,
	ITEM_CAT [nvarchar](20) NULL,
	DIM_APP [nvarchar](20) NULL,
	PRODUCT [nvarchar](20) NULL,
	PRINCIPAL [nvarchar](20) NULL,
	BRANCHES [nvarchar](20) NULL,
	CABANG [nvarchar](50) NULL,
	AMOUNT_IDR [decimal](38, 20) NULL,
	EST_REALISASI DATETIME NULL,
	CONSTRAINT [PK_TEMP30] PRIMARY KEY (PROSES_ID, NO_URUT)
) ;


CREATE TABLE P05_PARAM_PREPRINT_INVOICE (
    KODE nvarchar(2) PRIMARY KEY NOT NULL,
	EMAIL_FINANCE nvarchar(100),
	[VERSION] [int] NULL,
	[CREATED_BY] [nvarchar](15) NULL,
	[CREATED_ON] [datetime] NULL,
	[UPDATED_BY] [nvarchar](15) NULL,
	[UPDATED_ON] [datetime] NULL
);

ALTER TABLE [dbo].[P05_PARAM_PREPRINT_INVOICE] ADD
TTD_SBY NVARCHAR(100) NULL,
JABATAN_SBY NVARCHAR(100) NULL,
TTD_CKR NVARCHAR(100) NULL,
JABATAN_CKR NVARCHAR(100) NULL,
TTD_SMR NVARCHAR(100) NULL,
JABATAN_SMR NVARCHAR(100) NULL,
TTD_DPS NVARCHAR(100) NULL,
JABATAN_DPS NVARCHAR(100) NULL;

DROP TABLE [dbo].[TEMP31_GROSS_MARGIN_SALES];
CREATE TABLE [dbo].[TEMP31_GROSS_MARGIN_SALES](
	PROSES_ID [nvarchar](100) NOT NULL,
	NO_URUT int,
	COMPANY [nvarchar](10) NULL,
	NOTE [nvarchar](20) NULL,
	GROUP_NO int,
	GROUP_DESC [nvarchar](10) NULL,
	CUST_NO [nvarchar](20) NULL,
	BRANCHES [nvarchar](20) NULL,
	SALESMAN [nvarchar](20) NULL,
	NO_DOK [nvarchar](20) NULL,
	NO_SO [nvarchar](35) NULL,
	AMOUNT_SALES [decimal](38, 20) NULL,
	AMOUNT_COGS [decimal](38, 20) NULL,
	CONSTRAINT [PK_TEMP31] PRIMARY KEY (PROSES_ID, NO_URUT)
) ;



DROP TABLE [dbo].[TEMP32_INVOICE_DO];
CREATE TABLE [dbo].[TEMP32_INVOICE_DO](
	PROSES_ID [nvarchar](100) NOT NULL,
	COMPANY [nvarchar](10) NOT NULL,
	NO_INVOICE [nvarchar](20) NOT NULL,
	TGL_INVOICE datetime NOT NULL,
	PERIODE_INVOICE [nvarchar](6) NULL,
	NO_DO [nvarchar](20) NOT NULL,
	CONSTRAINT [PK_TEMP32] PRIMARY KEY (PROSES_ID, COMPANY, NO_INVOICE, NO_DO)
) ;

DROP TABLE [dbo].[TEMP33_SURAT_JALAN_DO];
CREATE TABLE [dbo].[TEMP33_SURAT_JALAN_DO](
	PROSES_ID [nvarchar](100) NOT NULL,
	COMPANY [nvarchar](10) NOT NULL,
	TGL_SJ datetime NOT NULL,
	NO_SJ [nvarchar](20) NOT NULL,
	BRANCHES [nvarchar](20) NOT NULL,
	ITEM_CAT [nvarchar](20) NOT NULL,
	PRODUCT [nvarchar](20) NOT NULL,
	SALESMAN [nvarchar](20) NOT NULL,
	CUST_NO [nvarchar](20) NOT NULL,
	NO_SO [nvarchar](20) NOT NULL,
	AMOUNT [decimal](38, 20) NULL,
	CONSTRAINT [PK_TEMP33] PRIMARY KEY (PROSES_ID, COMPANY, TGL_SJ, NO_SJ, BRANCHES, ITEM_CAT, PRODUCT, SALESMAN, CUST_NO, NO_SO)
) ;

DROP TABLE [dbo].[TEMP24_INVOICE_UM_FINAL_FL_GM];
CREATE TABLE [dbo].[TEMP24_INVOICE_UM_FINAL_FL_GM](
	PROSES_ID [nvarchar](100) NOT NULL,
	COMPANY [nvarchar](20) NOT NULL,
	TGL_INV datetime  NOT NULL,
	NO_INV [nvarchar](20) NOT NULL,
	NO_SO [nvarchar](20),
	AMOUNT [decimal](38, 20),
	BRANCHES [nvarchar](20) NOT NULL,
	ITEM_CAT [nvarchar](20) NOT NULL,
	SALESMAN [nvarchar](20) NOT NULL,
	PRODUCT [nvarchar](20) NOT NULL,
	CONSTRAINT [PK_TEMP24_FL_GM] PRIMARY KEY (PROSES_ID, COMPANY, TGL_INV, NO_INV, NO_SO, BRANCHES, ITEM_CAT, SALESMAN, PRODUCT)
) ;

CREATE INDEX IDX_TEMP24_01_FL_GM
ON [dbo].[TEMP24_INVOICE_UM_FINAL_FL_GM] (PROSES_ID, COMPANY, TGL_INV, NO_INV);

CREATE INDEX IDX_TEMP24_02_FL_GM
ON [dbo].[TEMP24_INVOICE_UM_FINAL_FL_GM] (PROSES_ID, COMPANY, TGL_INV, NO_INV, NO_SO, BRANCHES, ITEM_CAT, SALESMAN);

CREATE INDEX IDX_TEMP24_03_FL_GM
ON [dbo].[TEMP24_INVOICE_UM_FINAL_FL_GM] (PROSES_ID, COMPANY, TGL_INV, NO_INV, NO_SO, BRANCHES, ITEM_CAT, PRODUCT);

CREATE INDEX IDX_TEMP24_04_FL_GM
ON [dbo].[TEMP24_INVOICE_UM_FINAL_FL_GM] (PROSES_ID, COMPANY, TGL_INV, NO_INV, NO_SO, BRANCHES, ITEM_CAT, SALESMAN, PRODUCT);


DROP TABLE [dbo].[TEMP34_INV_CM_DO];
CREATE TABLE [dbo].[TEMP34_INV_CM_DO](
	PROSES_ID [nvarchar](100) NOT NULL,
	REG [nvarchar](10) NOT NULL,
	COMPANY [nvarchar](10) NOT NULL,
	NO_DOK [nvarchar](20) NOT NULL,
	TGL_DOK datetime,
	CUST_NO [nvarchar](35),
	CUST_NAME [nvarchar](100) ,	
	NO_SO [nvarchar](35),
	NO_PO_CUST [nvarchar](35),
	CONSTRAINT [PK_TEMP34] PRIMARY KEY (PROSES_ID, REG, COMPANY, NO_DOK)
) ;

CREATE SEQUENCE [dbo].[T29_ID_SEQ] 
 AS [bigint]
 START WITH 1
 INCREMENT BY 1
 MINVALUE -9223372036854775808
 MAXVALUE 9223372036854775807
 NO CACHE;

DROP TABLE [dbo].[T29_COSTING_H] ;
CREATE TABLE [dbo].[T29_COSTING_H] (
	T29_ID bigint PRIMARY KEY NOT NULL DEFAULT (NEXT VALUE FOR T29_ID_SEQ),
	COMPANY NVARCHAR(10) NOT NULL,
	NO_COSTING NVARCHAR(20) ,
	TGL_COSTING DATETIME,
	NO_BSO NVARCHAR(20) ,
	NO_SO NVARCHAR(20) ,	
	NO_PO_CUSTOMER NVARCHAR(100) ,	
	CUSTOMER NVARCHAR(200) ,
	FILE_BSO NVARCHAR(250) ,
	FILE_INFO_PRICE NVARCHAR(250) ,
	FILE_PO_CUSTOMER NVARCHAR(250) ,
	SALES_HW3PS [decimal](38, 20) ,
	SALES_ACSPS [decimal](38, 20) ,
	SALES_OWNSW [decimal](38, 20) ,
	COGS_HW3PS [decimal](38, 20) ,
	COGS_OTHERS	[decimal](38, 20) ,
	TOTAL_SALES [decimal](38, 20) ,
	TOTAL_COGS [decimal](38, 20) ,
	MARGIN_PCN [decimal](38, 20) ,
	INCENTIVE_FORMULA_HW3PS [decimal](38, 20) ,
	INCENTIVE_FORMULA_ACSPS [decimal](38, 20) ,
	INCENTIVE_FORMULA_OWNSW [decimal](38, 20) ,
	INCENTIVE_APPROVE_HW3PS [decimal](38, 20) ,
	INCENTIVE_APPROVE_ACSPS [decimal](38, 20) ,
	INCENTIVE_APPROVE_OWNSW [decimal](38, 20) ,
	INCENTIVE_NONSALES_HW3PS [decimal](38, 20) ,
	INCENTIVE_NONSALES_ACSPS [decimal](38, 20) ,
	INCENTIVE_NONSALES_OWNSW [decimal](38, 20) ,
	AMOUNT_NONSALES_HW3PS [decimal](38, 20) ,
	AMOUNT_NONSALES_ACSPS [decimal](38, 20) ,
	AMOUNT_NONSALES_OWNSW [decimal](38, 20) ,
	INCENTIVE_KOMISI_HW3PS [decimal](38, 20) ,
	INCENTIVE_KOMISI_ACSPS [decimal](38, 20) ,
	INCENTIVE_KOMISI_OWNSW [decimal](38, 20) ,
	AMOUNT_KOMISI_HW3PS [decimal](38, 20) ,
	AMOUNT_KOMISI_ACSPS [decimal](38, 20) ,
	AMOUNT_KOMISI_OWNSW [decimal](38, 20) ,
	INCENTIVE_SBONUS_HW3PS [decimal](38, 20) ,
	INCENTIVE_SBONUS_ACSPS [decimal](38, 20) ,
	INCENTIVE_SBONUS_OWNSW [decimal](38, 20) ,
	AMOUNT_SBONUS_HW3PS [decimal](38, 20) ,
	AMOUNT_SBONUS_ACSPS [decimal](38, 20) ,
	AMOUNT_SBONUS_OWNSW [decimal](38, 20) ,
	AMOUNT_KOMISI [decimal](38, 20) ,
	AMOUNT_SBONUS [decimal](38, 20) ,
	AMOUNT_SALES_TQS [decimal](38, 20) ,
	AMOUNT_NONSALES [decimal](38, 20) ,
	NO_INVOICE NVARCHAR(20) ,
	TGL_INVOICE DATETIME,
	NO_LUNAS NVARCHAR(20) ,
	TGL_LUNAS DATETIME,
	FLAG_STATUS NVARCHAR(20) ,
	[VERSION] [int] NULL,
	[CREATED_BY] [nvarchar](15) NULL,
	[CREATED_ON] [datetime] NULL,
	[UPDATED_BY] [nvarchar](15) NULL,
	[UPDATED_ON] [datetime] NULL,
);


CREATE SEQUENCE [dbo].[T30_ID_SEQ] 
 AS [bigint]
 START WITH 1
 INCREMENT BY 1
 MINVALUE -9223372036854775808
 MAXVALUE 9223372036854775807
 NO CACHE;

DROP TABLE [dbo].[T30_COSTING_D_HW3PS] ;
CREATE TABLE [dbo].[T30_COSTING_D_HW3PS] (
	T30_ID bigint PRIMARY KEY NOT NULL DEFAULT (NEXT VALUE FOR T30_ID_SEQ),
	T29_ID bigint,
	ITEM_DESC NVARCHAR(300) ,
	ITEM_NO NVARCHAR(50) ,
	QTY [decimal](38, 20) ,
	SALES_SATUAN [decimal](38, 20) ,
	SALES_TOTAL [decimal](38, 20) ,
	COGS_SATUAN [decimal](38, 20) ,
	COGS_TOTAL [decimal](38, 20) ,
	CATATAN NVARCHAR(200) ,
	ITEM_CATEGORY NVARCHAR(10) ,
	PRODUCT_GROUP NVARCHAR(10) ,
	[VERSION] [int] NULL,
	[CREATED_BY] [nvarchar](15) NULL,
	[CREATED_ON] [datetime] NULL,
	[UPDATED_BY] [nvarchar](15) NULL,
	[UPDATED_ON] [datetime] NULL,
	CONSTRAINT FK_T30_T29 FOREIGN KEY (T29_ID)
        REFERENCES [T29_COSTING_H] (T29_ID)
        ON DELETE CASCADE
        ON UPDATE CASCADE
);

CREATE SEQUENCE [dbo].[T31_ID_SEQ] 
 AS [bigint]
 START WITH 1
 INCREMENT BY 1
 MINVALUE -9223372036854775808
 MAXVALUE 9223372036854775807
 NO CACHE;

DROP TABLE [dbo].[T31_COSTING_D_ACSPS];
CREATE TABLE [dbo].[T31_COSTING_D_ACSPS] (
	T31_ID bigint PRIMARY KEY NOT NULL DEFAULT (NEXT VALUE FOR T31_ID_SEQ),
	T29_ID bigint,
	ITEM_DESC NVARCHAR(300) ,
	ITEM_NO NVARCHAR(50) ,
	QTY [decimal](38, 20) ,
	SALES_SATUAN [decimal](38, 20) ,
	SALES_TOTAL [decimal](38, 20) ,
	CATATAN NVARCHAR(200) ,
	ITEM_CATEGORY NVARCHAR(10) ,
	PRODUCT_GROUP NVARCHAR(10) ,
	[VERSION] [int] NULL,
	[CREATED_BY] [nvarchar](15) NULL,
	[CREATED_ON] [datetime] NULL,
	[UPDATED_BY] [nvarchar](15) NULL,
	[UPDATED_ON] [datetime] NULL,
	CONSTRAINT FK_T31_T29 FOREIGN KEY (T29_ID)
        REFERENCES [T29_COSTING_H] (T29_ID)
        ON DELETE CASCADE
        ON UPDATE CASCADE
);

CREATE SEQUENCE [dbo].[T32_ID_SEQ] 
 AS [bigint]
 START WITH 1
 INCREMENT BY 1
 MINVALUE -9223372036854775808
 MAXVALUE 9223372036854775807
 NO CACHE;

DROP TABLE [dbo].[T32_COSTING_D_OWNSW];
CREATE TABLE [dbo].[T32_COSTING_D_OWNSW] (
	T32_ID bigint PRIMARY KEY NOT NULL DEFAULT (NEXT VALUE FOR T32_ID_SEQ),
	T29_ID bigint,
	ITEM_DESC NVARCHAR(300) ,
	ITEM_NO NVARCHAR(50) ,
	QTY [decimal](38, 20) ,
	SALES_SATUAN [decimal](38, 20) ,
	SALES_TOTAL [decimal](38, 20) ,
	CATATAN NVARCHAR(200) ,
	ITEM_CATEGORY NVARCHAR(10) ,
	PRODUCT_GROUP NVARCHAR(10) ,
	[VERSION] [int] NULL,
	[CREATED_BY] [nvarchar](15) NULL,
	[CREATED_ON] [datetime] NULL,
	[UPDATED_BY] [nvarchar](15) NULL,
	[UPDATED_ON] [datetime] NULL,
	CONSTRAINT FK_T32_T29 FOREIGN KEY (T29_ID)
        REFERENCES [T29_COSTING_H] (T29_ID)
        ON DELETE CASCADE
        ON UPDATE CASCADE
);

CREATE SEQUENCE [dbo].[T33_ID_SEQ] 
 AS [bigint]
 START WITH 1
 INCREMENT BY 1
 MINVALUE -9223372036854775808
 MAXVALUE 9223372036854775807
 NO CACHE;

 DROP TABLE [dbo].[T33_COSTING_D_OTHER];
CREATE TABLE [dbo].[T33_COSTING_D_OTHER] (
	T33_ID bigint PRIMARY KEY NOT NULL DEFAULT (NEXT VALUE FOR T33_ID_SEQ),
	T29_ID bigint,
	ITEM_DESC NVARCHAR(300) ,
	ITEM_NO NVARCHAR(50) ,
	QTY [decimal](38, 20) ,	
	COGS_SATUAN [decimal](38, 20) ,
	COGS_TOTAL [decimal](38, 20) ,
	CATATAN NVARCHAR(200) ,
	[VERSION] [int] NULL,
	[CREATED_BY] [nvarchar](15) NULL,
	[CREATED_ON] [datetime] NULL,
	[UPDATED_BY] [nvarchar](15) NULL,
	[UPDATED_ON] [datetime] NULL,
	CONSTRAINT FK_T33_T29 FOREIGN KEY (T29_ID)
        REFERENCES [T29_COSTING_H] (T29_ID)
        ON DELETE CASCADE
        ON UPDATE CASCADE
);