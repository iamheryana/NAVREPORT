<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="NeedToPurchase" language="groovy" pageWidth="1300" pageHeight="595" orientation="Landscape" whenNoDataType="NoDataSection" columnWidth="1260" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="c3c56047-de54-4477-a40e-d4b81af326aa">
	<property name="ireport.zoom" value="1.6105100000000223"/>
	<property name="ireport.x" value="1093"/>
	<property name="ireport.y" value="48"/>
	<parameter name="Cabang" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="Company" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="JenisSO" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="LocCode" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="SUBREPORT_DIR" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="SalesFrom" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="SalesUpto" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="AllItem" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="CiaDP" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[SELECT XY.COMPANY
		, XY.NO_SO
		, XY.TIPE
		, XY.CABANG
		, XY.LOC_CODE
		, XY.SALES_CODE
		, XY.SALES_NAME
		, XY.CUST_CODE
		, XY.CUST_NAME
		, XY.ORDER_DATE
		, XY.STATUS_SO
		, XY.TERM_OF_PAY
		, XY.NO_PO_CUST
		, XY.CURR_CODE
		, XY.CURR_FAKTOR
		, XY.EXP_DELIVERY
		, XY.AMOUNT_IDR
		, XY.AMOUNT
		, ROW_NUMBER()OVER(PARTITION BY XY.NO_SO ORDER BY XY.NO_SO, XY.NO_ITEM) AS BARIS
		, XY.NO_ITEM
		, XY.ITEM_DESC
		, XY.LOC_CODE_DTL
		, XY.QTY
		, XY.QTY_SHIPPED
		, XY.QTY_OUT
		, XY.QTY_RESERVE
		, XY.STOCK_AVAL
		, XY.ON_ORDER_AVAL
		, CASE WHEN XY.IVZ = 1 THEN 0 ELSE
			CASE WHEN XY.QTY < (XY.QTY_RESERVE+XY.STOCK_AVAL+XY.ON_ORDER_AVAL) THEN 0 ELSE XY.QTY -(XY.QTY_RESERVE+XY.STOCK_AVAL+XY.ON_ORDER_AVAL) END
		  END AS NEED_TO_PURCHASE
		, XY.STATUS_LINE
		, XY.STATUS_ITEM_SO
FROM
(
SELECT 'AUTOJAYA' AS COMPANY
		, XXX.NO_SO
		, XXX.TIPE
		, XXX.CABANG
		, XXX.LOC_CODE
		, XXX.SALES_CODE
		, XXX.SALES_NAME
		, XXX.CUST_CODE
		, XXX.CUST_NAME
		, XXX.ORDER_DATE
		, XXX.STATUS_SO
		, XXX.TERM_OF_PAY
		, XXX.NO_PO_CUST
		, XXX.CURR_CODE
		, XXX.CURR_FAKTOR
		, XXX.EXP_DELIVERY
		, XXX.AMOUNT_IDR
		, XXX.AMOUNT
		, XXX.NO_ITEM
		, XXX.ITEM_DESC
		, XXX.LOC_CODE_DTL
		, XXX.IVZ
		, XXX.QTY
		, XXX.QTY_SHIPPED
		, XXX.QTY_OUT
		, XXX.QTY_RESERVE
		, XXX.STOCK_AVAL
		, XXX.ON_ORDER_AVAL
		, XXX.STATUS_LINE
		, XXX.STATUS_ITEM_SO
FROM	(
SELECT XX.NO_SO
		, XX.TIPE
		, XX.CABANG
		, XX.LOC_CODE
		, XX.SALES_CODE
		, XX.SALES_NAME
		, XX.CUST_CODE
		, XX.CUST_NAME
		, XX.ORDER_DATE
		, XX.STATUS_SO
		, XX.TERM_OF_PAY
		, XX.NO_PO_CUST
		, XX.CURR_CODE
		, XX.CURR_FAKTOR
		, XX.EXP_DELIVERY
		, XX.AMOUNT_IDR
		, XX.AMOUNT
		, XX.NO_ITEM
		, XX.ITEM_DESC
		, XX.LOC_CODE_DTL
		, XX.IVZ
		, XX.QTY
		, XX.QTY_SHIPPED
		, XX.QTY_OUT
		, XX.QTY_RESERVE
		, XX.STOCK_AVAL
		, XX.ON_ORDER_AVAL
		, SUBSTRING(XX.STATUS_LINE, 3, LEN(XX.STATUS_LINE)-2) AS STATUS_LINE
		, MAX(XX.STATUS_LINE) OVER(PARTITION BY XX.NO_SO ORDER BY XX.NO_SO) AS STATUS_ITEM_SO
FROM	(
SELECT X.NO_SO
		, X.TIPE
		, X.CABANG
		, X.LOC_CODE
		, X.SALES_CODE
		, X.SALES_NAME
		, X.CUST_CODE
		, X.CUST_NAME
		, X.ORDER_DATE
		, X.STATUS_SO
		, X.TERM_OF_PAY
		, X.NO_PO_CUST
		, X.CURR_CODE
		, X.CURR_FAKTOR
		, X.EXP_DELIVERY
		, X.AMOUNT_IDR
		, X.AMOUNT
		, X.NO_ITEM
		, X.ITEM_DESC
		, X.LOC_CODE_DTL
		, X.IVZ
		, X.QTY
		, X.QTY_SHIPPED
		, X.QTY_OUT
		, X.QTY_RESERVE
		, CASE WHEN X.IVZ = 1 THEN 0 ELSE X.STOCK_AVAL END AS STOCK_AVAL
		, CASE WHEN X.IVZ = 1 THEN 0 ELSE X.ON_ORDER_AVAL END AS ON_ORDER_AVAL
		,	CASE WHEN X.IVZ = 1 THEN
				'1. READY'
			ELSE
				CASE WHEN X.QTY_INVOICED = X.QTY THEN
					'2. INVOICED'
				ELSE
					CASE WHEN X.QTY_SHIPPED > 0 THEN
						CASE WHEN X.QTY_SHIPPED = X.QTY THEN
							'3. FULL DELIVERED'
						ELSE
							CASE WHEN X.QTY_OUT > (X.QTY_RESERVE + X.STOCK_AVAL + X.ON_ORDER_AVAL) THEN
								CASE WHEN X.GROUP_CODE IN (	'S403','S404','S405',
																'S406','S407','S408',
																'S409','S410','S304','S310') THEN
									'1. ITEM SERVICE CENTER'
								ELSE
									'7. NEED TO ORDER'
								END
							ELSE
								'4. PARTIAL DELIVERED'
							END
						END
					ELSE
						CASE WHEN X.QTY = X.QTY_RESERVE THEN
							'5. FULL RESERVE'
						ELSE
							CASE WHEN X.QTY > (X.QTY_RESERVE + X.STOCK_AVAL + X.ON_ORDER_AVAL) THEN
								CASE WHEN X.GROUP_CODE IN (	'S403','S404','S405',
																'S406','S407','S408',
																'S409','S410','S304','S310') THEN
									'1. ITEM SERVICE CENTER'
								ELSE
									'7. NEED TO ORDER'
								END
							ELSE
								'6. NEED TO RESERVE'
							END
						END
					END
				END
			END AS STATUS_LINE
FROM	(
			SELECT
					SH.[No_] AS NO_SO
					, CASE WHEN SUBSTRING( SH.[No_], 1, 4) = 'SOSS' THEN 'SC' ELSE
						CASE WHEN SUBSTRING( SH.[No_], 1, 5) = '9SOST' THEN 'AI' ELSE 'TD' END
					  END AS TIPE
					, ISNULL(CAB.[Name], 'JAKARTA') AS CABANG
					, CASE WHEN SH.[Location Code] = '' THEN 'HO-TD' ELSE SH.[Location Code] END AS LOC_CODE
					, CASE WHEN SH.[Salesperson Code] = '' THEN '.' ELSE SH.[Salesperson Code] END AS SALES_CODE
					, SLS.[Name] AS SALES_NAME
					, SH.[Bill-to Customer No_] AS CUST_CODE
					, SH.[Bill-to Name] AS CUST_NAME
					, SH.[Order Date] AS ORDER_DATE
					, CASE	WHEN SH.[Status] = 0 THEN 'OPEN'
							WHEN SH.[Status] = 1 THEN 'RELEASED'
							WHEN SH.[Status] = 2 THEN 'PENDING APPROVAL'
							WHEN SH.[Status] = 3 THEN 'RELEASED'
							ELSE '' END AS STATUS_SO
					, SH.[Payment Terms Code] AS TERM_OF_PAY
					, SH.[External Document No_] AS NO_PO_CUST
					, SH.[Currency Code] AS CURR_CODE
					, SH.[Currency Factor] AS CURR_FAKTOR
					, SH.[Requested Delivery Date] AS EXP_DELIVERY
					, ISNULL(CASE WHEN SH.[Currency Code] <> '' THEN ROUND(SL.[Amount]  / SH.[Currency Factor],0) ELSE SL.[Amount] END,0) AS AMOUNT_IDR
					, ISNULL(SL.[Amount] ,0) AS AMOUNT
					, SL.[Line No_] AS NO_SO_LINE
					, SL.[No_] AS NO_ITEM
					, SL.[Description] AS ITEM_DESC
					, SL.[Location Code] AS LOC_CODE_DTL
					, SL.[Quantity (Base)] AS QTY
					, SL.[Qty_ Shipped (Base)] AS QTY_SHIPPED
					, SL.[Qty_ Invoiced (Base)] AS QTY_INVOICED
					, SL.[Quantity (Base)]  - SL.[Qty_ Shipped (Base)] AS QTY_OUT
					, ISNULL(ITM.[Inventory Value Zero],0) AS IVZ
					, ISNULL(SLR.QTY_RESERVE,0) AS QTY_RESERVE
					, ISNULL(OT.STOCK_AVAL, 0 ) AS STOCK_AVAL
					, ISNULL(OT.ON_ORDER_AVAL, 0) AS ON_ORDER_AVAL
					, ISNULL(ITM.[Product Group Code], 'XXX') AS GROUP_CODE
			FROM [AUTOJAYA].[dbo].[AUTOJAYA$Sales Header] SH
			INNER JOIN [AUTOJAYA].[dbo].[AUTOJAYA$Sales Line] SL ON SL.[Document No_] = SH.[No_]
			LEFT JOIN [AUTOJAYA].[dbo].[AUTOJAYA$Item] ITM ON ITM.[No_] = SL.[No_]
			LEFT JOIN (
							SELECT	REA.[Item No_]
									, REA.[Source ID] AS NO_SO
									, REA.[Source Ref_ No_] AS NO_SO_LINE
									, SUM(REB.[Quantity (Base)]) AS QTY_RESERVE
							FROM [AUTOJAYA].[dbo].[AUTOJAYA$Reservation Entry] REA
							LEFT JOIN [AUTOJAYA].[dbo].[AUTOJAYA$Reservation Entry] REB ON REA.[Entry No_] = REB.[Entry No_] AND REB.[Positive] = 1
							WHERE REA.[Positive] = 0
							GROUP BY REA.[Item No_], REA.[Source ID], REA.[Source Ref_ No_]
						) SLR ON SL.[Document No_] = SLR.NO_SO AND SL.[Line No_] = SLR.NO_SO_LINE
			LEFT JOIN [AUTOJAYA].[dbo].[AUTOJAYA$Responsibility Center] CAB ON CAB.[Code] = SH.[Shortcut Dimension 1 Code]
			LEFT JOIN [AUTOJAYA].[dbo].[AUTOJAYA$Salesperson_Purchaser] SLS ON SLS.[Code] = SH.[Salesperson Code]
			LEFT JOIN	(
								SELECT	OTH.ITEM_NO
										,OTH.LOC_CODE
										,SUM(OTH.STOCK_OH) - SUM(OTH.RSRV_OH) AS STOCK_AVAL
										,SUM(OTH.ON_ORDER) - SUM(OTH.RSRV_ON_ORDER) AS ON_ORDER_AVAL
								FROM	(
											SELECT
													[Item No_] AS ITEM_NO
													,[Location Code] AS LOC_CODE
													,SUM([Quantity]) AS STOCK_OH
													, 0 AS ON_ORDER
													, 0 AS RSRV_OH
													, 0 AS RSRV_ON_ORDER
											FROM [AUTOJAYA].[dbo].[AUTOJAYA$Item Ledger Entry]
											GROUP BY [Item No_],[Location Code]
											UNION ALL
											SELECT POD.[No_] AS ITEM_NO
													,POD.[Location Code] AS LOC_CODE
													, 0 AS STOCK_OH
													,SUM(POD.[Outstanding Qty_ (Base)]) AS ON_ORDER
													, 0 AS RSRV_OH
													, 0 AS RSRV_ON_ORDER
											FROM [AUTOJAYA].[dbo].[AUTOJAYA$Purchase Header] POH
											INNER JOIN [AUTOJAYA].[dbo].[AUTOJAYA$Purchase Line] POD ON POD.[Document No_] = POH.[No_]
											WHERE POH.[Document Type] = 1 AND
												POD.[Type] = 2
											GROUP BY POD.[No_], POD.[Location Code]
											UNION ALL
											SELECT	RSV.ITEM_NO
													, RSV.LOC_CODE
													, 0 AS STOCK_OH
													, 0 AS ON_ORDER
													, SUM(RSV.RSRV_OH) AS RSRV_OH
													, SUM(RSV.RSRV_ON_ORDER) AS RSRV_ON_ORDER
											FROM	(
														SELECT  [Item No_] AS ITEM_NO
																, [Location Code] AS LOC_CODE
																, CASE WHEN [Source ID] = '' THEN [Quantity (Base)] ELSE 0 END AS RSRV_OH
																, CASE WHEN [Source ID] <> '' AND SUBSTRING([Source ID], 1, 2) = 'PO' THEN [Quantity (Base)] ELSE 0 END AS RSRV_ON_ORDER
														FROM [AUTOJAYA].[dbo].[AUTOJAYA$Reservation Entry]
														WHERE [Reservation Status] = 0 AND
															  [Positive] = 1
													) RSV
											GROUP BY RSV.ITEM_NO, RSV.LOC_CODE
										) OTH
								GROUP BY OTH.ITEM_NO, OTH.LOC_CODE
						) OT ON OT.ITEM_NO = SL.[No_] AND OT.LOC_CODE = SL.[Location Code]
			WHERE SH.[Document Type] = 1 AND SL.[Type] <> 0 AND SH.[Status] IN (1,3)
		) X
		) XX
		) XXX
WHERE XXX.STATUS_ITEM_SO = '7. NEED TO ORDER' AND
(($P{AllItem} = 'N' AND XXX.STATUS_LINE = ' NEED TO ORDER') OR $P{AllItem} = 'Y') AND
(XXX.LOC_CODE = $P{LocCode} OR $P{LocCode} = 'ALL') AND
(XXX.CABANG =  $P{Cabang} OR $P{Cabang} = 'ALL') AND
(XXX.TIPE = $P{JenisSO} OR $P{JenisSO} = 'ALL') AND
(XXX.SALES_CODE >= $P{SalesFrom} AND XXX.SALES_CODE <= $P{SalesUpto})
UNION ALL
SELECT  'SOLUSI' AS COMPANY
		, XXX.NO_SO
		, XXX.TIPE
		, XXX.CABANG
		, XXX.LOC_CODE
		, XXX.SALES_CODE
		, XXX.SALES_NAME
		, XXX.CUST_CODE
		, XXX.CUST_NAME
		, XXX.ORDER_DATE
		, XXX.STATUS_SO
		, XXX.TERM_OF_PAY
		, XXX.NO_PO_CUST
		, XXX.CURR_CODE
		, XXX.CURR_FAKTOR
		, XXX.EXP_DELIVERY
		, XXX.AMOUNT_IDR
		, XXX.AMOUNT
		, XXX.NO_ITEM
		, XXX.ITEM_DESC
		, XXX.LOC_CODE_DTL
		, XXX.IVZ
		, XXX.QTY
		, XXX.QTY_SHIPPED
		, XXX.QTY_OUT
		, XXX.QTY_RESERVE
		, XXX.STOCK_AVAL
		, XXX.ON_ORDER_AVAL
		, XXX.STATUS_LINE
		, XXX.STATUS_ITEM_SO
FROM	(
SELECT XX.NO_SO
		, XX.TIPE
		, XX.CABANG
		, XX.LOC_CODE
		, XX.SALES_CODE
		, XX.SALES_NAME
		, XX.CUST_CODE
		, XX.CUST_NAME
		, XX.ORDER_DATE
		, XX.STATUS_SO
		, XX.TERM_OF_PAY
		, XX.NO_PO_CUST
		, XX.CURR_CODE
		, XX.CURR_FAKTOR
		, XX.EXP_DELIVERY
		, XX.AMOUNT_IDR
		, XX.AMOUNT
		, XX.NO_ITEM
		, XX.ITEM_DESC
		, XX.LOC_CODE_DTL
		, XX.IVZ
		, XX.QTY
		, XX.QTY_SHIPPED
		, XX.QTY_OUT
		, XX.QTY_RESERVE
		, XX.STOCK_AVAL
		, XX.ON_ORDER_AVAL
		, SUBSTRING(XX.STATUS_LINE, 3, LEN(XX.STATUS_LINE)-2) AS STATUS_LINE
		, MAX(XX.STATUS_LINE) OVER(PARTITION BY XX.NO_SO ORDER BY XX.NO_SO) AS STATUS_ITEM_SO
FROM	(
SELECT X.NO_SO
		, X.TIPE
		, X.CABANG
		, X.LOC_CODE
		, X.SALES_CODE
		, X.SALES_NAME
		, X.CUST_CODE
		, X.CUST_NAME
		, X.ORDER_DATE
		, X.STATUS_SO
		, X.TERM_OF_PAY
		, X.NO_PO_CUST
		, X.CURR_CODE
		, X.CURR_FAKTOR
		, X.EXP_DELIVERY
		, X.AMOUNT_IDR
		, X.AMOUNT
		, X.NO_ITEM
		, X.ITEM_DESC
		, X.LOC_CODE_DTL
		, X.IVZ
		, X.QTY
		, X.QTY_SHIPPED
		, X.QTY_OUT
		, X.QTY_RESERVE
		, CASE WHEN X.IVZ = 1 THEN 0 ELSE X.STOCK_AVAL END AS STOCK_AVAL
		, CASE WHEN X.IVZ = 1 THEN 0 ELSE X.ON_ORDER_AVAL END AS ON_ORDER_AVAL
		,	CASE WHEN X.IVZ = 1 THEN
				'1. READY'
			ELSE
				CASE WHEN X.QTY_INVOICED = X.QTY THEN
					'2. INVOICED'
				ELSE
					CASE WHEN X.QTY_SHIPPED > 0 THEN
						CASE WHEN X.QTY_SHIPPED = X.QTY THEN
							'3. FULL DELIVERED'
						ELSE
							CASE WHEN X.QTY_OUT > (X.QTY_RESERVE + X.STOCK_AVAL + X.ON_ORDER_AVAL) THEN
								CASE WHEN X.GROUP_CODE IN (	'S403','S404','S405',
																'S406','S407','S408',
																'S409','S410','S304','S310') THEN
									'1. ITEM SERVICE CENTER'
								ELSE
									'7. NEED TO ORDER'
								END
							ELSE
								'4. PARTIAL DELIVERED'
							END
						END
					ELSE
						CASE WHEN X.QTY = X.QTY_RESERVE THEN
							'5. FULL RESERVE'
						ELSE
							CASE WHEN X.QTY > (X.QTY_RESERVE + X.STOCK_AVAL + X.ON_ORDER_AVAL) THEN
								CASE WHEN X.GROUP_CODE IN (	'S403','S404','S405',
																'S406','S407','S408',
																'S409','S410','S304','S310') THEN
									'1. ITEM SERVICE CENTER'
								ELSE
									'7. NEED TO ORDER'
								END
							ELSE
								'6. NEED TO RESERVE'
							END
						END
					END
				END
			END AS STATUS_LINE
FROM	(
			SELECT
					SH.[No_] AS NO_SO
					, CASE WHEN SUBSTRING( SH.[No_], 1, 4) = 'SOSS' THEN 'SC' ELSE
						CASE WHEN SUBSTRING( SH.[No_], 1, 5) = '9SOST' THEN 'AI' ELSE 'TD' END
					  END AS TIPE
					, ISNULL(CAB.[Name], 'JAKARTA') AS CABANG
					, CASE WHEN SH.[Location Code] = '' THEN 'HO-TD' ELSE SH.[Location Code] END AS LOC_CODE
					, CASE WHEN SH.[Salesperson Code] = '' THEN '.' ELSE SH.[Salesperson Code] END AS SALES_CODE
					, SLS.[Name] AS SALES_NAME
					, SH.[Bill-to Customer No_] AS CUST_CODE
					, SH.[Bill-to Name] AS CUST_NAME
					, SH.[Order Date] AS ORDER_DATE
					, CASE	WHEN SH.[Status] = 0 THEN 'OPEN'
							WHEN SH.[Status] = 1 THEN 'RELEASED'
							WHEN SH.[Status] = 2 THEN 'PENDING APPROVAL'
							WHEN SH.[Status] = 3 THEN 'RELEASED'
							ELSE '' END AS STATUS_SO
					, SH.[Payment Terms Code] AS TERM_OF_PAY
					, SH.[External Document No_] AS NO_PO_CUST
					, SH.[Currency Code] AS CURR_CODE
					, SH.[Currency Factor] AS CURR_FAKTOR
					, SH.[Requested Delivery Date] AS EXP_DELIVERY
					, ISNULL(CASE WHEN SH.[Currency Code] <> '' THEN ROUND(SL.[Amount]  / SH.[Currency Factor],0) ELSE SL.[Amount] END,0) AS AMOUNT_IDR
					, ISNULL(SL.[Amount] ,0) AS AMOUNT
					, SL.[Line No_] AS NO_SO_LINE
					, SL.[No_] AS NO_ITEM
					, SL.[Description] AS ITEM_DESC
					, SL.[Location Code] AS LOC_CODE_DTL
					, SL.[Quantity (Base)] AS QTY
					, SL.[Qty_ Shipped (Base)] AS QTY_SHIPPED
					, SL.[Qty_ Invoiced (Base)] AS QTY_INVOICED
					, SL.[Quantity (Base)]  - SL.[Qty_ Shipped (Base)] AS QTY_OUT
					, ISNULL(ITM.[Inventory Value Zero],0) AS IVZ
					, ISNULL(SLR.QTY_RESERVE,0) AS QTY_RESERVE
					, ISNULL(OT.STOCK_AVAL, 0 ) AS STOCK_AVAL
					, ISNULL(OT.ON_ORDER_AVAL, 0) AS ON_ORDER_AVAL
					, ISNULL(ITM.[Product Group Code], 'XXX') AS GROUP_CODE
			FROM [AUTOJAYA].[dbo].[SOLUSI$Sales Header] SH
			INNER JOIN [AUTOJAYA].[dbo].[SOLUSI$Sales Line] SL ON SL.[Document No_] = SH.[No_]
			LEFT JOIN [AUTOJAYA].[dbo].[SOLUSI$Item] ITM ON ITM.[No_] = SL.[No_]
			LEFT JOIN (
							SELECT	REA.[Item No_]
									, REA.[Source ID] AS NO_SO
									, REA.[Source Ref_ No_] AS NO_SO_LINE
									, SUM(REB.[Quantity (Base)]) AS QTY_RESERVE
							FROM [AUTOJAYA].[dbo].[SOLUSI$Reservation Entry] REA
							LEFT JOIN [AUTOJAYA].[dbo].[SOLUSI$Reservation Entry] REB ON REA.[Entry No_] = REB.[Entry No_] AND REB.[Positive] = 1
							WHERE REA.[Positive] = 0
							GROUP BY REA.[Item No_], REA.[Source ID], REA.[Source Ref_ No_]
						) SLR ON SL.[Document No_] = SLR.NO_SO AND SL.[Line No_] = SLR.NO_SO_LINE
			LEFT JOIN [AUTOJAYA].[dbo].[SOLUSI$Responsibility Center] CAB ON CAB.[Code] = SH.[Shortcut Dimension 1 Code]
			LEFT JOIN [AUTOJAYA].[dbo].[SOLUSI$Salesperson_Purchaser] SLS ON SLS.[Code] = SH.[Salesperson Code]
			LEFT JOIN	(
								SELECT	OTH.ITEM_NO
										,OTH.LOC_CODE
										,SUM(OTH.STOCK_OH) - SUM(OTH.RSRV_OH) AS STOCK_AVAL
										,SUM(OTH.ON_ORDER) - SUM(OTH.RSRV_ON_ORDER) AS ON_ORDER_AVAL
								FROM	(
											SELECT
													[Item No_] AS ITEM_NO
													,[Location Code] AS LOC_CODE
													,SUM([Quantity]) AS STOCK_OH
													, 0 AS ON_ORDER
													, 0 AS RSRV_OH
													, 0 AS RSRV_ON_ORDER
											FROM [AUTOJAYA].[dbo].[SOLUSI$Item Ledger Entry]
											GROUP BY [Item No_],[Location Code]
											UNION ALL
											SELECT POD.[No_] AS ITEM_NO
													,POD.[Location Code] AS LOC_CODE
													, 0 AS STOCK_OH
													,SUM(POD.[Outstanding Qty_ (Base)]) AS ON_ORDER
													, 0 AS RSRV_OH
													, 0 AS RSRV_ON_ORDER
											FROM [AUTOJAYA].[dbo].[SOLUSI$Purchase Header] POH
											INNER JOIN [AUTOJAYA].[dbo].[SOLUSI$Purchase Line] POD ON POD.[Document No_] = POH.[No_]
											WHERE POH.[Document Type] = 1 AND
												POD.[Type] = 2
											GROUP BY POD.[No_], POD.[Location Code]
											UNION ALL
											SELECT	RSV.ITEM_NO
													, RSV.LOC_CODE
													, 0 AS STOCK_OH
													, 0 AS ON_ORDER
													, SUM(RSV.RSRV_OH) AS RSRV_OH
													, SUM(RSV.RSRV_ON_ORDER) AS RSRV_ON_ORDER
											FROM	(
														SELECT  [Item No_] AS ITEM_NO
																, [Location Code] AS LOC_CODE
																, CASE WHEN [Source ID] = '' THEN [Quantity (Base)] ELSE 0 END AS RSRV_OH
																, CASE WHEN [Source ID] <> '' AND SUBSTRING([Source ID], 1, 2) = 'PO' THEN [Quantity (Base)] ELSE 0 END AS RSRV_ON_ORDER
														FROM [AUTOJAYA].[dbo].[SOLUSI$Reservation Entry]
														WHERE [Reservation Status] = 0 AND
															  [Positive] = 1
													) RSV
											GROUP BY RSV.ITEM_NO, RSV.LOC_CODE
										) OTH
								GROUP BY OTH.ITEM_NO, OTH.LOC_CODE
						) OT ON OT.ITEM_NO = SL.[No_] AND OT.LOC_CODE = SL.[Location Code]
			WHERE SH.[Document Type] = 1 AND SL.[Type] <> 0 AND SH.[Status] IN (1,3)
		) X
		) XX
		) XXX
WHERE XXX.STATUS_ITEM_SO = '7. NEED TO ORDER' AND
(($P{AllItem} = 'N' AND XXX.STATUS_LINE = ' NEED TO ORDER') OR $P{AllItem} = 'Y') AND
(XXX.LOC_CODE = $P{LocCode} OR $P{LocCode} = 'ALL') AND
(XXX.CABANG =  $P{Cabang} OR $P{Cabang} = 'ALL') AND
(XXX.TIPE = $P{JenisSO} OR $P{JenisSO} = 'ALL') AND
(XXX.SALES_CODE >= $P{SalesFrom} AND XXX.SALES_CODE <= $P{SalesUpto})
) XY
WHERE (XY.COMPANY = $P{Company} OR $P{Company} = 'ALL') AND
(
	(XY.TERM_OF_PAY IN ('CIA', 'DP') AND $P{CiaDP} = 'CIA') OR
	(XY.TERM_OF_PAY NOT IN ('CIA', 'DP') AND $P{CiaDP} = 'NONCIA') OR
	$P{CiaDP} = 'ALL'
)]]>
	</queryString>
	<field name="COMPANY" class="java.lang.String"/>
	<field name="NO_SO" class="java.lang.String"/>
	<field name="TIPE" class="java.lang.String"/>
	<field name="CABANG" class="java.lang.String"/>
	<field name="LOC_CODE" class="java.lang.String"/>
	<field name="SALES_CODE" class="java.lang.String"/>
	<field name="SALES_NAME" class="java.lang.String"/>
	<field name="CUST_CODE" class="java.lang.String"/>
	<field name="CUST_NAME" class="java.lang.String"/>
	<field name="ORDER_DATE" class="java.sql.Timestamp"/>
	<field name="STATUS_SO" class="java.lang.String"/>
	<field name="TERM_OF_PAY" class="java.lang.String"/>
	<field name="NO_PO_CUST" class="java.lang.String"/>
	<field name="CURR_CODE" class="java.lang.String"/>
	<field name="CURR_FAKTOR" class="java.math.BigDecimal"/>
	<field name="EXP_DELIVERY" class="java.sql.Timestamp"/>
	<field name="AMOUNT_IDR" class="java.math.BigDecimal"/>
	<field name="AMOUNT" class="java.math.BigDecimal"/>
	<field name="BARIS" class="java.lang.Long"/>
	<field name="NO_ITEM" class="java.lang.String"/>
	<field name="ITEM_DESC" class="java.lang.String"/>
	<field name="LOC_CODE_DTL" class="java.lang.String"/>
	<field name="QTY" class="java.math.BigDecimal"/>
	<field name="QTY_SHIPPED" class="java.math.BigDecimal"/>
	<field name="QTY_OUT" class="java.math.BigDecimal"/>
	<field name="QTY_RESERVE" class="java.math.BigDecimal"/>
	<field name="STOCK_AVAL" class="java.math.BigDecimal"/>
	<field name="ON_ORDER_AVAL" class="java.math.BigDecimal"/>
	<field name="NEED_TO_PURCHASE" class="java.math.BigDecimal"/>
	<field name="STATUS_LINE" class="java.lang.String"/>
	<field name="STATUS_ITEM_SO" class="java.lang.String"/>
	<sortField name="COMPANY"/>
	<sortField name="CABANG"/>
	<sortField name="SALES_CODE"/>
	<sortField name="CUST_CODE"/>
	<sortField name="NO_SO"/>
	<sortField name="BARIS"/>
	<variable name="AMOUNT_IDR_2" class="java.math.BigDecimal" resetType="Group" resetGroup="Sales" calculation="Sum">
		<variableExpression><![CDATA[$F{AMOUNT_IDR}]]></variableExpression>
	</variable>
	<variable name="AMOUNT_IDR_3" class="java.math.BigDecimal" resetType="Group" resetGroup="Cabang" calculation="Sum">
		<variableExpression><![CDATA[$F{AMOUNT_IDR}]]></variableExpression>
	</variable>
	<variable name="AMOUNT_IDR_4" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$F{AMOUNT_IDR}]]></variableExpression>
	</variable>
	<variable name="AMOUNT_IDR_1" class="java.math.BigDecimal" resetType="Group" resetGroup="Company" calculation="Sum">
		<variableExpression><![CDATA[$F{AMOUNT_IDR}]]></variableExpression>
	</variable>
	<variable name="AMOUNT_IDR_5" class="java.math.BigDecimal" resetType="Group" resetGroup="NoSO" calculation="Sum">
		<variableExpression><![CDATA[$F{AMOUNT_IDR}]]></variableExpression>
	</variable>
	<group name="Company">
		<groupExpression><![CDATA[$F{COMPANY}]]></groupExpression>
	</group>
	<group name="Cabang">
		<groupExpression><![CDATA[$F{CABANG}]]></groupExpression>
	</group>
	<group name="Sales">
		<groupExpression><![CDATA[$F{SALES_CODE}]]></groupExpression>
	</group>
	<group name="NoSO">
		<groupExpression><![CDATA[$F{NO_SO}]]></groupExpression>
		<groupHeader>
			<band height="48">
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement x="29" y="1" width="33" height="14" uuid="a320802b-87dc-407b-9222-c57836fbd8f6"/>
					<textElement>
						<font size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{SALES_CODE}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement x="62" y="1" width="198" height="14" uuid="768e529c-6536-4409-a983-912663478f3b"/>
					<textElement>
						<font size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{SALES_NAME}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement x="346" y="1" width="284" height="14" uuid="cb4a7f73-0692-4c89-bef3-d267cb6d40b1"/>
					<textElement>
						<font size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{CUST_NAME}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" pattern="dd-MM-yyyy" isBlankWhenNull="true">
					<reportElement x="751" y="1" width="59" height="14" uuid="22fd022f-84b7-4fbd-bf00-a1eac3108f41"/>
					<textElement>
						<font size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{ORDER_DATE}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement x="810" y="1" width="114" height="14" uuid="1360817d-0e34-4138-bb00-016c8b6a8973"/>
					<textElement>
						<font size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{STATUS_SO}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement x="924" y="1" width="32" height="14" uuid="fcad4040-092a-4f4f-bb4c-a8146f71a37f"/>
					<textElement>
						<font size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{TERM_OF_PAY}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement x="956" y="1" width="178" height="14" uuid="57ea0747-f10b-447e-8ba4-e5a94160a92e"/>
					<textElement>
						<font size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{NO_PO_CUST}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement x="260" y="1" width="86" height="14" uuid="196d61db-2f33-4706-b53c-099759911792"/>
					<textElement>
						<font size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{CUST_CODE}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement x="630" y="1" width="121" height="14" uuid="72ce6ca8-80f4-4b9e-b1bb-4e89bcb1fb12"/>
					<textElement>
						<font size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{NO_SO}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="756" y="34" width="60" height="14" uuid="6eaeb914-9142-4206-bbcc-51ab233bf806"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<text><![CDATA[Available]]></text>
				</staticText>
				<staticText>
					<reportElement x="636" y="34" width="60" height="14" uuid="2d4db6a5-f7f0-4457-9279-0a31b9b3b015"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<text><![CDATA[Qty Reserve]]></text>
				</staticText>
				<staticText>
					<reportElement x="696" y="34" width="60" height="14" uuid="da059b0b-ad53-4e28-8f9c-a066434d8a04"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<text><![CDATA[Available]]></text>
				</staticText>
				<staticText>
					<reportElement x="456" y="34" width="60" height="14" uuid="2b08a909-5d7b-4de1-abb9-10bd343ec2d6"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<text><![CDATA[Qty Order]]></text>
				</staticText>
				<staticText>
					<reportElement x="816" y="34" width="60" height="14" uuid="b4331cf2-79e2-4c64-bed8-9e298aa978ff"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<text><![CDATA[Purchase]]></text>
				</staticText>
				<staticText>
					<reportElement x="816" y="19" width="60" height="14" uuid="81797370-10a8-455e-97cb-7c931d3dff9c"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<text><![CDATA[Need To]]></text>
				</staticText>
				<staticText>
					<reportElement x="937" y="34" width="137" height="14" uuid="cf5add69-ef41-49cc-875d-2731e911ba92"/>
					<textElement>
						<font size="8"/>
					</textElement>
					<text><![CDATA[Status]]></text>
				</staticText>
				<staticText>
					<reportElement x="65" y="34" width="107" height="14" uuid="12086dd4-4677-4b62-8a37-44b7a3a2c073"/>
					<textElement>
						<font size="8"/>
					</textElement>
					<text><![CDATA[Item Order]]></text>
				</staticText>
				<textField evaluationTime="Group" evaluationGroup="NoSO" pattern="#,###" isBlankWhenNull="true">
					<reportElement x="1134" y="1" width="108" height="14" uuid="26d9068b-eb9d-43a2-98ed-f506139211fb"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{AMOUNT_IDR_5}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="756" y="19" width="60" height="14" uuid="bc6074e9-a62a-4549-bd5b-889358637aea"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<text><![CDATA[On Order]]></text>
				</staticText>
				<staticText>
					<reportElement x="576" y="34" width="60" height="14" uuid="913c265f-27f0-473e-805f-2fc41cd17fc7"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<text><![CDATA[Qty Outs.]]></text>
				</staticText>
				<staticText>
					<reportElement x="516" y="34" width="60" height="14" uuid="a309bc18-3885-41c3-999b-c122757cd61c"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<text><![CDATA[Qty Shipped]]></text>
				</staticText>
				<staticText>
					<reportElement x="877" y="19" width="60" height="14" uuid="9853696b-7a6c-4e98-85f8-a646f57ca809"/>
					<textElement textAlignment="Center">
						<font size="8"/>
					</textElement>
					<text><![CDATA[Expected]]></text>
				</staticText>
				<staticText>
					<reportElement x="877" y="34" width="60" height="14" uuid="086f53a1-f49d-45d2-86b9-1a37ead0461d"/>
					<textElement textAlignment="Center">
						<font size="8"/>
					</textElement>
					<text><![CDATA[Delivery]]></text>
				</staticText>
				<staticText>
					<reportElement x="696" y="19" width="60" height="14" uuid="3968a547-8d13-4ff1-b0ed-fa3d09a05bf9"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<text><![CDATA[Stock]]></text>
				</staticText>
			</band>
		</groupHeader>
		<groupFooter>
			<band height="13">
				<line>
					<reportElement x="12" y="7" width="1240" height="1" uuid="3b3fd0ef-d4cb-4500-a261-a87cf535c71b"/>
				</line>
			</band>
		</groupFooter>
	</group>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="141" splitType="Stretch">
			<staticText>
				<reportElement x="62" y="1" width="284" height="14" uuid="273acc50-f860-4b9b-a35d-1ee0d9baf160"/>
				<textElement>
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Purchase recommendation base on Sales Order list as of]]></text>
			</staticText>
			<staticText>
				<reportElement x="62" y="15" width="284" height="14" uuid="63f48bc2-e910-430c-93ed-37ea27901a3b"/>
				<textElement>
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[For Location (Gudang) :]]></text>
			</staticText>
			<staticText>
				<reportElement x="62" y="29" width="284" height="14" uuid="9815d65b-61f3-4a0c-9608-dd397b18fa0b"/>
				<textElement>
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[]]></text>
			</staticText>
			<staticText>
				<reportElement x="62" y="57" width="284" height="14" uuid="ef69413f-97a3-474c-8bdb-c380a2e7bab1"/>
				<textElement>
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Jenis :]]></text>
			</staticText>
			<staticText>
				<reportElement x="62" y="71" width="284" height="14" uuid="10bb9b33-a94c-43a4-983e-f31d50dc33e1"/>
				<textElement>
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Sales :]]></text>
			</staticText>
			<textField>
				<reportElement x="346" y="43" width="284" height="14" uuid="4ee40960-7a20-4a35-bfcf-84439a4aeac6"/>
				<textElement>
					<font size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{Cabang}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="29" y="1" width="33" height="14" uuid="f68d3878-eaa7-4cb5-8348-60912a77d05f"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<text><![CDATA[]]></text>
			</staticText>
			<staticText>
				<reportElement x="29" y="15" width="33" height="14" uuid="813ed4aa-aa9a-48bc-bdb2-8b4425d7d46c"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<text><![CDATA[]]></text>
			</staticText>
			<staticText>
				<reportElement x="62" y="99" width="198" height="14" uuid="5fd09e20-918a-4926-a037-5ed2b936468f"/>
				<textElement>
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[]]></text>
			</staticText>
			<staticText>
				<reportElement x="29" y="29" width="33" height="14" uuid="761ca2cd-714b-41e4-859d-f546f56bd523"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<text><![CDATA[]]></text>
			</staticText>
			<staticText>
				<reportElement x="29" y="57" width="33" height="14" uuid="e83b559b-083a-439c-994e-699c2220588a"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<text><![CDATA[]]></text>
			</staticText>
			<staticText>
				<reportElement x="29" y="71" width="33" height="14" uuid="12f52e57-fc6c-48f3-9ece-1cf2e2f89687"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<text><![CDATA[]]></text>
			</staticText>
			<staticText>
				<reportElement x="29" y="99" width="33" height="14" uuid="281fb17d-996e-4566-b47f-d8f8b42f29fa"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<text><![CDATA[]]></text>
			</staticText>
			<staticText>
				<reportElement x="630" y="127" width="121" height="14" uuid="3fa2d241-665b-4ae7-a637-82e199b7144a"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<text><![CDATA[SO No.]]></text>
			</staticText>
			<staticText>
				<reportElement x="956" y="127" width="178" height="14" uuid="71cd8c30-a8d2-43eb-9a5e-203fcd4d0320"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<text><![CDATA[Customer PO No.]]></text>
			</staticText>
			<staticText>
				<reportElement x="1134" y="127" width="108" height="14" uuid="f16b3040-342f-4758-a850-66cd594c410d"/>
				<textElement textAlignment="Right">
					<font size="8"/>
				</textElement>
				<text><![CDATA[DPP]]></text>
			</staticText>
			<staticText>
				<reportElement x="62" y="113" width="198" height="14" uuid="19f1d58d-b22c-456f-a400-ea22f7a7d4cb"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<text><![CDATA[]]></text>
			</staticText>
			<staticText>
				<reportElement x="29" y="113" width="33" height="14" uuid="171c49a7-5eff-4a0a-a498-0f6fe0322cea"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<text><![CDATA[]]></text>
			</staticText>
			<staticText>
				<reportElement x="260" y="113" width="86" height="14" uuid="2e82c4fa-3cfe-4070-9529-f8be82703eb8"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<text><![CDATA[]]></text>
			</staticText>
			<staticText>
				<reportElement x="346" y="127" width="284" height="14" uuid="339a5d0c-b171-48f0-9d68-835350d6c5d5"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<text><![CDATA[]]></text>
			</staticText>
			<staticText>
				<reportElement x="751" y="127" width="59" height="14" uuid="f267cd79-16b8-4755-836a-3c31d9bd4fea"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<text><![CDATA[Date]]></text>
			</staticText>
			<staticText>
				<reportElement x="810" y="127" width="114" height="14" uuid="787efbd0-edf4-4919-87c1-614a0b69d0cd"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<text><![CDATA[Status]]></text>
			</staticText>
			<staticText>
				<reportElement x="924" y="127" width="32" height="14" uuid="aabe29be-c432-420a-824e-2f8b5623e875"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<text><![CDATA[TOP]]></text>
			</staticText>
			<staticText>
				<reportElement x="62" y="127" width="198" height="14" uuid="9d1d83a6-50d2-4e4b-bd5c-8c299f685334"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<text><![CDATA[]]></text>
			</staticText>
			<staticText>
				<reportElement x="260" y="127" width="86" height="14" uuid="5dcd1341-9c96-429a-a518-b1a8a654508c"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<text><![CDATA[Customer]]></text>
			</staticText>
			<staticText>
				<reportElement x="29" y="127" width="33" height="14" uuid="9587e7bd-543c-4606-b90f-82f46e032cbc"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<text><![CDATA[Sales]]></text>
			</staticText>
			<staticText>
				<reportElement x="260" y="99" width="86" height="14" uuid="524f60f3-8bbb-4e9e-8b17-24492f7e8784"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<text><![CDATA[]]></text>
			</staticText>
			<staticText>
				<reportElement x="29" y="85" width="33" height="14" uuid="329547ea-db48-412e-9b42-1d2f332767bf"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<text><![CDATA[]]></text>
			</staticText>
			<staticText>
				<reportElement x="62" y="85" width="284" height="14" uuid="2230939e-0b72-4280-9caa-cd076336ca1a"/>
				<textElement>
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Company :]]></text>
			</staticText>
			<textField>
				<reportElement x="346" y="85" width="284" height="14" uuid="27aab05f-2619-4719-82e2-37b10ed3b90e"/>
				<textElement>
					<font size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{Company}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="29" y="43" width="33" height="14" uuid="9996c8b1-860a-4d39-ae01-f65edfbd717f"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<text><![CDATA[]]></text>
			</staticText>
			<staticText>
				<reportElement x="62" y="43" width="284" height="14" uuid="3a2f5f9a-9b09-4011-99fc-13dd88e7fead"/>
				<textElement>
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Cabang :]]></text>
			</staticText>
			<textField pattern="dd-MM-yyyy HH:mm:ss">
				<reportElement x="346" y="1" width="284" height="14" uuid="48585bdb-7da3-41b6-a457-c994cab22a69"/>
				<textElement>
					<font size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[new java.util.Date()]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="346" y="113" width="284" height="14" uuid="cb1d26a2-ac04-43d6-88bf-3c98e6920f48"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<text><![CDATA[]]></text>
			</staticText>
			<staticText>
				<reportElement x="346" y="99" width="284" height="14" uuid="a8fa5477-cf3b-4bf2-b4aa-4dbb55a2b560"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<text><![CDATA[]]></text>
			</staticText>
			<textField>
				<reportElement x="346" y="15" width="284" height="14" uuid="a793aef3-d598-475b-aed2-484e46ef8fd8"/>
				<textElement>
					<font size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{LocCode}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="346" y="71" width="284" height="14" uuid="d0813631-0b07-424a-9456-eb2d457fb7c7"/>
				<textElement>
					<font size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{SalesFrom}+" s/d "+$P{SalesUpto}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="346" y="57" width="284" height="14" uuid="bfe87aab-393b-44b1-b5c0-00ae1b4925f6"/>
				<textElement>
					<font size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{JenisSO}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="346" y="29" width="284" height="14" uuid="60a0b665-9ddf-4f8e-b890-ab728a7a6baa"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<text><![CDATA[]]></text>
			</staticText>
		</band>
	</title>
	<detail>
		<band height="15" splitType="Stretch">
			<printWhenExpression><![CDATA[$F{NO_ITEM} != null]]></printWhenExpression>
			<textField>
				<reportElement x="39" y="1" width="26" height="14" uuid="74975a7e-08f2-44fd-904e-283dd09832d7"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{BARIS}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="65" y="1" width="107" height="14" uuid="1d4e3f2e-f904-4ec9-9fe7-cf6a12a6fe96"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{NO_ITEM}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="172" y="1" width="284" height="14" uuid="d6abeabc-346c-4971-a08e-d849a59c645f"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{ITEM_DESC}]]></textFieldExpression>
			</textField>
			<textField pattern="#,###" isBlankWhenNull="true">
				<reportElement x="456" y="1" width="60" height="14" uuid="a0c3ec60-a9f3-4e4f-b79a-99be310b8d3d"/>
				<textElement textAlignment="Right">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{QTY}]]></textFieldExpression>
			</textField>
			<textField pattern="#,###">
				<reportElement x="636" y="1" width="60" height="14" uuid="0af1e76a-9579-44cd-b0ac-041ee9c43a80"/>
				<textElement textAlignment="Right">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{QTY_RESERVE}]]></textFieldExpression>
			</textField>
			<textField pattern="#,###">
				<reportElement x="696" y="1" width="60" height="14" uuid="aa45e84f-304b-4a4d-9b06-04075e3a8db1"/>
				<textElement textAlignment="Right">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{STOCK_AVAL}]]></textFieldExpression>
			</textField>
			<textField pattern="#,###">
				<reportElement x="756" y="1" width="60" height="14" uuid="758bf859-8dd3-4606-a601-cba03865ab63"/>
				<textElement textAlignment="Right">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{ON_ORDER_AVAL}]]></textFieldExpression>
			</textField>
			<textField pattern="#,###">
				<reportElement x="816" y="1" width="60" height="14" uuid="2acd29a2-6381-4ca2-807b-b93a97a72768"/>
				<textElement textAlignment="Right">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{NEED_TO_PURCHASE}]]></textFieldExpression>
			</textField>
			<textField pattern="#,###" isBlankWhenNull="true">
				<reportElement x="516" y="1" width="60" height="14" uuid="35714832-5cef-4ffd-9f75-bae566ad8dab"/>
				<textElement textAlignment="Right">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{QTY_SHIPPED}]]></textFieldExpression>
			</textField>
			<textField pattern="#,###" isBlankWhenNull="true">
				<reportElement x="576" y="1" width="60" height="14" uuid="d84ccc5e-61d6-4788-a569-f7e4519e71ee"/>
				<textElement textAlignment="Right">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{QTY_OUT}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="937" y="1" width="137" height="14" uuid="0c7f5d0c-4f58-4803-b2dc-e07448cf5c12"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{STATUS_LINE}]]></textFieldExpression>
			</textField>
			<textField pattern="dd-MM-yyyy" isBlankWhenNull="true">
				<reportElement x="877" y="1" width="60" height="14" uuid="9ef21c96-0401-4f85-8bfe-0a35267e3fa0"/>
				<textElement textAlignment="Center">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{EXP_DELIVERY}]]></textFieldExpression>
			</textField>
		</band>
		<band height="17">
			<printWhenExpression><![CDATA[$F{ON_ORDER_AVAL} > 0]]></printWhenExpression>
			<subreport>
				<reportElement x="65" y="2" width="631" height="15" uuid="8c96a200-3508-4e06-8108-c65960f9e00c"/>
				<subreportParameter name="LocationCode">
					<subreportParameterExpression><![CDATA[$F{LOC_CODE_DTL}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="ItemNo">
					<subreportParameterExpression><![CDATA[$F{NO_ITEM}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="Company">
					<subreportParameterExpression><![CDATA[$F{COMPANY}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA[$P{SUBREPORT_DIR} + "NeedToPurchasePOAvail.jasper"]]></subreportExpression>
			</subreport>
		</band>
	</detail>
	<noData>
		<band height="50">
			<staticText>
				<reportElement x="13" y="12" width="204" height="14" uuid="92bf23b7-21fa-477c-a507-40c45eff63b0"/>
				<textElement>
					<font size="10" isBold="true"/>
				</textElement>
				<text><![CDATA[***** DATA TIDAK DITEMUKAN *****]]></text>
			</staticText>
		</band>
	</noData>
</jasperReport>
