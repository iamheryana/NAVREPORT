<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="04040_ForecastSummaryByRevenue" language="groovy" pageWidth="775" pageHeight="300" orientation="Landscape" whenNoDataType="NoDataSection" columnWidth="735" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="b406b291-7ccc-4e85-8d33-6ed4d9da73cd">
	<property name="ireport.zoom" value="1.1000000000001082"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="149"/>
	<parameter name="Tahun" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="Potensi" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="Size" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[SELECT	1 AS GRP
		,XI.CABANG
		,XI.CABANG_NAMA
		,XI.AMOUNT_TARGET
		,XI.AMOUNT_REALISASI
		,XI.AMOUNT_POTENSI
		,XI.AMOUNT_POTENSI_Q1
		,XI.AMOUNT_POTENSI_Q2
		,XI.AMOUNT_POTENSI_Q3
		,XI.AMOUNT_POTENSI_Q4
		,(XI.AMOUNT_REALISASI + XI.AMOUNT_POTENSI)  AS AMOUNT_TOTAL
		,((XI.AMOUNT_REALISASI + XI.AMOUNT_POTENSI) - XI.AMOUNT_TARGET) AS AMOUNT_FINAL
		, CASE WHEN XI.AMOUNT_TARGET <> 0 THEN ((((XI.AMOUNT_REALISASI + XI.AMOUNT_POTENSI) - XI.AMOUNT_TARGET) / XI.AMOUNT_TARGET) * 100) ELSE 100 END AS PCN_FINAL
		, CASE WHEN $P{Tahun} <> DATEPART(year, GETDATE()) THEN 1 ELSE DATEPART(quarter, GETDATE()) END AS CURR_Q
FROM	(
SELECT	FBR.BRANCHES AS CABANG
		,CAB.[Name] AS CABANG_NAMA
		,ROUND((SUM(FBR.AMOUNT_TARGET) / 1000000),2) AS AMOUNT_TARGET
		,ROUND((SUM(FBR.AMOUNT_REALISASI) / 1000000),2) AS AMOUNT_REALISASI
		,	(
				ROUND((SUM(FBR.AMOUNT_POTENSI_Q1) / 1000000),2) + ROUND((SUM(FBR.AMOUNT_POTENSI_Q2) / 1000000),2) +
				ROUND((SUM(FBR.AMOUNT_POTENSI_Q3) / 1000000),2) + ROUND((SUM(FBR.AMOUNT_POTENSI_Q4) / 1000000),2)
			) AS AMOUNT_POTENSI
		,ROUND((SUM(FBR.AMOUNT_POTENSI_Q1) / 1000000),2) AS AMOUNT_POTENSI_Q1
		,ROUND((SUM(FBR.AMOUNT_POTENSI_Q2) / 1000000),2) AS AMOUNT_POTENSI_Q2
		,ROUND((SUM(FBR.AMOUNT_POTENSI_Q3) / 1000000),2) AS AMOUNT_POTENSI_Q3
		,ROUND((SUM(FBR.AMOUNT_POTENSI_Q4) / 1000000),2) AS AMOUNT_POTENSI_Q4

FROM	(
			SELECT	SLS.[Global Dimension 1 Code] AS BRANCHES
					, 0 AS AMOUNT_REALISASI
					, SUM(XXX.AMOUNT_POTENSI) AS AMOUNT_POTENSI
					, SUM(XXX.AMOUNT_POTENSI_Q1) AS AMOUNT_POTENSI_Q1
					, SUM(XXX.AMOUNT_POTENSI_Q2) AS AMOUNT_POTENSI_Q2
					, SUM(XXX.AMOUNT_POTENSI_Q3) AS AMOUNT_POTENSI_Q3
					, SUM(XXX.AMOUNT_POTENSI_Q4) AS AMOUNT_POTENSI_Q4
					, SUM(XXX.AMOUNT_TARGET) AS AMOUNT_TARGET
			FROM	(
						SELECT	X.SALES_CODE
								,X.EST_YEAR AS YEAR_SUM
								,SUM(X.AMOUNT) AS AMOUNT_POTENSI
								, SUM(X.AMOUNT_Q1) AS AMOUNT_POTENSI_Q1
								, SUM(X.AMOUNT_Q2) AS AMOUNT_POTENSI_Q2
								, SUM(X.AMOUNT_Q3) AS AMOUNT_POTENSI_Q3
								, SUM(X.AMOUNT_Q4) AS AMOUNT_POTENSI_Q4
								,0 AS AMOUNT_TARGET
						FROM	(
									SELECT	'AJ' AS COMPANY
											,MAD.SALES_CODE
											,MAD.CABANG
											,MAD.SIZE_PROJECT
											,MAD.POTENSIAL_PROJECT
											,MAD.ITEM
											,MAD.ITEM_CAT
											,MAD.HW_PS
											,(MAD.UNIT_PRICE * MAD.QTY_OUT) AS AMOUNT
											,CASE WHEN MAD.EST_Q = 1 THEN (MAD.UNIT_PRICE * MAD.QTY_OUT) ELSE 0 END AS AMOUNT_Q1
											,CASE WHEN MAD.EST_Q = 2 THEN (MAD.UNIT_PRICE * MAD.QTY_OUT) ELSE 0 END AS AMOUNT_Q2
											,CASE WHEN MAD.EST_Q = 3 THEN (MAD.UNIT_PRICE * MAD.QTY_OUT) ELSE 0 END AS AMOUNT_Q3
											,CASE WHEN MAD.EST_Q = 4 THEN (MAD.UNIT_PRICE * MAD.QTY_OUT) ELSE 0 END AS AMOUNT_Q4
											,MAD.EST_YEAR
									FROM	(
												SELECT	SOH.[Salesperson Code] AS SALES_CODE
														,SOH.[Responsibility Center] AS CABANG
														, CASE WHEN SUBSTRING(SOH.[Posting Description], 1,1) NOT IN ('B','R','P') THEN
															'R'
														  ELSE
															CASE WHEN SUBSTRING(SOH.[Posting Description], 1,1) = 'P' THEN 'B' ELSE SUBSTRING(SOH.[Posting Description], 1,1) END
														  END AS SIZE_PROJECT
														, CASE WHEN SUBSTRING(SOH.[Posting Description], 2,1) NOT IN ('1','0') THEN '0' ELSE SUBSTRING(SOH.[Posting Description], 2,1) END AS POTENSIAL_PROJECT
														,SOL.[No_] AS ITEM
														,SOL.[Description] AS ITEM_DESC
														,SOL.[Shortcut Dimension 2 Code] AS ITEM_CAT
														,SUBSTRING(SOL.[Shortcut Dimension 2 Code] , 1,2) AS HW_PS
														,SOL.[Quantity] AS QTY_OUT
														,SOL.[Unit Price] AS UNIT_PRICE
														,CASE WHEN SOL.[Shipment Date] <=  GETDATE() THEN
															DATEPART(year, GETDATE()) ELSE DATEPART(year, SOL.[Shipment Date])
														 END AS EST_YEAR
														,CASE WHEN SOL.[Shipment Date] <=  GETDATE() THEN
															DATEPART(quarter, GETDATE()) ELSE DATEPART(quarter, SOL.[Shipment Date])
														 END AS EST_Q
												FROM [AUTOJAYA].[dbo].[AUTOJAYA$Sales Header] SOH
												INNER JOIN [AUTOJAYA].[dbo].[AUTOJAYA$Sales Line] SOL ON SOL.[Document Type] = SOH.[Document Type] AND SOL.[Document No_] = SOH.[No_]
												WHERE SOH.[No_ Series] = 'SBOM'
											) MAD
									UNION ALL
									SELECT	'SP' AS COMPANY
											,MAD.SALES_CODE
											,MAD.CABANG
											,MAD.SIZE_PROJECT
											,MAD.POTENSIAL_PROJECT
											,MAD.ITEM
											,MAD.ITEM_CAT
											,MAD.HW_PS
											,(MAD.UNIT_PRICE * MAD.QTY_OUT) AS AMOUNT
											,CASE WHEN MAD.EST_Q = 1 THEN (MAD.UNIT_PRICE * MAD.QTY_OUT) ELSE 0 END AS AMOUNT_Q1
											,CASE WHEN MAD.EST_Q = 2 THEN (MAD.UNIT_PRICE * MAD.QTY_OUT) ELSE 0 END AS AMOUNT_Q2
											,CASE WHEN MAD.EST_Q = 3 THEN (MAD.UNIT_PRICE * MAD.QTY_OUT) ELSE 0 END AS AMOUNT_Q3
											,CASE WHEN MAD.EST_Q = 4 THEN (MAD.UNIT_PRICE * MAD.QTY_OUT) ELSE 0 END AS AMOUNT_Q4
											,MAD.EST_YEAR
									FROM	(
												SELECT	SOH.[Salesperson Code] AS SALES_CODE
														,SOH.[Responsibility Center] AS CABANG
														, CASE WHEN SUBSTRING(SOH.[Posting Description], 1,1) NOT IN ('B','R','P') THEN
															'R'
														  ELSE
															CASE WHEN SUBSTRING(SOH.[Posting Description], 1,1) = 'P' THEN 'B' ELSE SUBSTRING(SOH.[Posting Description], 1,1) END
														  END AS SIZE_PROJECT
														, CASE WHEN SUBSTRING(SOH.[Posting Description], 2,1) NOT IN ('1','0') THEN '0' ELSE SUBSTRING(SOH.[Posting Description], 2,1) END AS POTENSIAL_PROJECT
														,SOL.[No_] AS ITEM
														,SOL.[Description] AS ITEM_DESC
														,SOL.[Shortcut Dimension 2 Code] AS ITEM_CAT
														,SUBSTRING(SOL.[Shortcut Dimension 2 Code] , 1,2) AS HW_PS
														,SOL.[Quantity] AS QTY_OUT
														,SOL.[Unit Price] AS UNIT_PRICE
														,CASE WHEN SOL.[Shipment Date] <=  GETDATE() THEN
															DATEPART(year, GETDATE()) ELSE DATEPART(year, SOL.[Shipment Date])
														 END AS EST_YEAR
														,CASE WHEN SOL.[Shipment Date] <=  GETDATE() THEN
															DATEPART(quarter, GETDATE()) ELSE DATEPART(quarter, SOL.[Shipment Date])
														 END AS EST_Q
												FROM [AUTOJAYA].[dbo].[SOLUSI$Sales Header] SOH
												INNER JOIN [AUTOJAYA].[dbo].[SOLUSI$Sales Line] SOL ON SOL.[Document Type] = SOH.[Document Type] AND SOL.[Document No_] = SOH.[No_]
												WHERE SOH.[No_ Series] = 'SBOM'
											) MAD
								) X
						WHERE	(X.POTENSIAL_PROJECT = $P{Potensi} OR $P{Potensi} = 'ALL') AND
								(X.SIZE_PROJECT = $P{Size} OR $P{Size} = 'ALL')
						GROUP BY X.SALES_CODE, X.EST_YEAR
					) XXX
			LEFT JOIN [AUTOJAYA].[dbo].[AUTOJAYA$Salesperson_Purchaser] SLS ON SLS.[Code] = XXX.SALES_CODE
			WHERE XXX.YEAR_SUM = $P{Tahun}
			GROUP BY SLS.[Global Dimension 1 Code]
			UNION ALL
			SELECT
					SUBSTRING(CMP.[No_],6,2) AS BRANCHES
					,0 AS AMOUNT_REALISASI
					,0 AS AMOUNT_POTENSI
					,0 AS AMOUNT_POTENSI_Q1
					,0 AS AMOUNT_POTENSI_Q2
					,0 AS AMOUNT_POTENSI_Q3
					,0 AS AMOUNT_POTENSI_Q4
					,CAST(CMP.[Description] AS DECIMAL(38,20))  AS AMOUNT_TARGET
			FROM [AUTOJAYA].[dbo].[AUTOJAYA$Campaign]  CMP
			WHERE	CMP.[Description] <> ''
					AND CMP.[Salesperson Code] = ''
					AND SUBSTRING(CMP.[No_],1,4) = $P{Tahun}
			UNION ALL
			SELECT	SRV.BRANCHES
					,SUM(ROUND((SRV.AMOUNT ),0)) AS AMOUNT_REALISASI
					, 0  AS AMOUNT_POTENSI
					, 0 AS AMOUNT_POTENSI_Q1
					, 0 AS AMOUNT_POTENSI_Q2
					, 0 AS AMOUNT_POTENSI_Q3
					, 0 AS AMOUNT_POTENSI_Q4
					, 0 AS AMOUNT_TARGET
			FROM	(
						SELECT	1 AS GROUP_NO
								,'Sales Revenue' AS GROUP_DESC
								,XX.BRANCHES
								,(SUM(XX.AMOUNT)) AS AMOUNT
						FROM	(
									SELECT	X.BRANCHES
											,X.AMOUNT
									FROM	(
												SELECT	'SALES ALL' AS NOTE
														,DIMS.BRANCHES
														,DIMS.ITEM_CAT
														,DIMS.SALESMAN
														,SUM(GLE.[Amount]) * -1 AS AMOUNT
												FROM [AUTOJAYA].[dbo].[AUTOJAYA$G_L Entry] GLE
												LEFT JOIN	(
																SELECT	DIM.DIM_ID
																		,MAX(DIM.BRANCHES) AS BRANCHES
																		,MAX(DIM.ITEM_CAT) AS ITEM_CAT
																		,MAX(DIM.SALESMAN) AS SALESMAN
																FROM	(
																			SELECT [Dimension Set ID] AS DIM_ID
																				  ,CASE WHEN [Dimension Code] = 'BRANCHES' THEN [Dimension Value Code] ELSE NULL END AS BRANCHES
																				  ,CASE WHEN [Dimension Code] = 'ITEM CATEGORY' THEN [Dimension Value Code] ELSE NULL END AS ITEM_CAT
																				  ,CASE WHEN [Dimension Code] = 'SALESMAN' THEN [Dimension Value Code] ELSE NULL END AS SALESMAN
																			FROM [AUTOJAYA].[dbo].[AUTOJAYA$Dimension Set Entry]
																		) DIM
																GROUP BY DIM.DIM_ID
															) DIMS ON DIMS.DIM_ID = GLE.[Dimension Set ID]
												WHERE	(GLE.[G_L Account No_] BETWEEN '400.110.00'  AND '420.110.01') AND
														GLE.[G_L Account No_] <> '400.110.04' AND
														DIMS.ITEM_CAT <> '' AND
														(GLE.[Posting Date] >= (CAST((CAST($P{Tahun} as varchar(4))+'-01-01') AS datetime)) AND GLE.[Posting Date] <=  (CAST((CAST($P{Tahun} as varchar(4))+'-12-31') AS datetime)))
												GROUP BY DIMS.BRANCHES, DIMS.ITEM_CAT, DIMS.SALESMAN
												UNION ALL
												SELECT	'Sales - LAINNYA' AS NOTE
														,'10' BRANCHES
														,'HW01' AS ITEM_CAT
														,'OFC' AS SALESMAN
														,SUM(GLE.[Amount]) * -1 AS AMOUNT
												FROM [AUTOJAYA].[dbo].[AUTOJAYA$G_L Entry] GLE
												LEFT JOIN	(
																SELECT	DIM.DIM_ID
																		,MAX(DIM.BRANCHES) AS BRANCHES
																		,MAX(DIM.ITEM_CAT) AS ITEM_CAT
																		,MAX(DIM.SALESMAN) AS SALESMAN
																FROM	(
																			SELECT [Dimension Set ID] AS DIM_ID
																				  ,CASE WHEN [Dimension Code] = 'BRANCHES' THEN [Dimension Value Code] ELSE NULL END AS BRANCHES
																				  ,CASE WHEN [Dimension Code] = 'ITEM CATEGORY' THEN [Dimension Value Code] ELSE NULL END AS ITEM_CAT
																				  ,CASE WHEN [Dimension Code] = 'SALESMAN' THEN [Dimension Value Code] ELSE NULL END AS SALESMAN
																			FROM [AUTOJAYA].[dbo].[AUTOJAYA$Dimension Set Entry]
																		) DIM
																GROUP BY DIM.DIM_ID
															) DIMS ON DIMS.DIM_ID = GLE.[Dimension Set ID]
												WHERE	GLE.[G_L Account No_] = '400.110.04' AND
														(GLE.[Posting Date] >= (CAST((CAST($P{Tahun} as varchar(4))+'-01-01') AS datetime)) AND GLE.[Posting Date] <=  (CAST((CAST($P{Tahun} as varchar(4))+'-12-31') AS datetime)))
												UNION ALL
												SELECT	'(-) Accured Sales Current Year' AS NOTE
														,ASCY.BRANCHES
														,ASCY.ITEM_CAT
														,ASCY.SALESMAN
														,SUM(ASCY.AMOUNT) * -1 AS AMOUNT
												FROM	(
															SELECT	OUM.ITEM_CAT
																	,OUM.BRANCHES
																	,OUM.SALESMAN
																	,OUM.AMOUNT
															FROM	(
																		SELECT	UM.ITEM_CAT
																				,UM.BRANCHES
																				,UM.SALESMAN
																				,	CASE WHEN ISNULL(INV.AMOUNT,0) = 0 THEN UM.AMOUNT ELSE
																						CASE WHEN SUM(UM.AMOUNT)OVER(PARTITION BY UM.NO_SO, UM.BRANCHES, UM.ITEM_CAT, UM.SALESMAN  ORDER BY UM.TGL_UM) <= ISNULL(INV.AMOUNT,0) THEN 0 ELSE
																							SUM(UM.AMOUNT)OVER(PARTITION BY UM.NO_SO, UM.BRANCHES, UM.ITEM_CAT, UM.SALESMAN  ORDER BY UM.TGL_UM) - ISNULL(INV.AMOUNT,0)
																						END
																					END AS AMOUNT
																		FROM	(
																					SELECT	DIMS.ITEM_CAT
																							,DIMS.BRANCHES
																							,DIMS.SALESMAN
																							,SIH.[Posting Date] AS TGL_UM
																							,SIH.[No_] AS NO_UM
																							,SIH.[External Document No_] AS NO_PO_CUST
																							,SIH.[Bill-to Customer No_] AS CUST_NO
																							,SIH.[Bill-to Name] AS CUST_NAME
																							,SIH.[Prepayment Order No_] AS NO_SO
																							, (SUM(GLE.[Amount]) * -1) AS AMOUNT
																					FROM [AUTOJAYA].[dbo].[AUTOJAYA$G_L Entry] GLE
																					LEFT JOIN	(
																									SELECT	DIM.DIM_ID
																											,MAX(DIM.BRANCHES) AS BRANCHES
																											,MAX(DIM.ITEM_CAT) AS ITEM_CAT
																											,MAX(DIM.SALESMAN) AS SALESMAN
																									FROM	(
																												SELECT [Dimension Set ID] AS DIM_ID
																													  ,CASE WHEN [Dimension Code] = 'BRANCHES' THEN [Dimension Value Code] ELSE NULL END AS BRANCHES
																													  ,CASE WHEN [Dimension Code] = 'ITEM CATEGORY' THEN [Dimension Value Code] ELSE NULL END AS ITEM_CAT
																													  ,CASE WHEN [Dimension Code] = 'SALESMAN' THEN [Dimension Value Code] ELSE NULL END AS SALESMAN
																												FROM [AUTOJAYA].[dbo].[AUTOJAYA$Dimension Set Entry]
																											) DIM
																									GROUP BY DIM.DIM_ID
																								) DIMS ON DIMS.DIM_ID = GLE.[Dimension Set ID]
																					LEFT JOIN [AUTOJAYA].[dbo].[AUTOJAYA$Sales Invoice Header] SIH ON SIH.[No_] = GLE.[Document No_]
																					LEFT JOIN	(
																									SELECT CLE.[Entry No_]
																											, CASE WHEN CLE.[Document No_] LIKE 'UM%' THEN CLE.[Document No_] ELSE CLE2.[Document No_] END AS NO_UM
																											, CASE WHEN CLE.[Document No_] LIKE 'UM%' THEN CLE2.[Document No_] ELSE CLE.[Document No_] END AS NO_CM
																									FROM [AUTOJAYA].[dbo].[AUTOJAYA$Cust_ Ledger Entry] CLE
																									LEFT JOIN [AUTOJAYA].[dbo].[AUTOJAYA$Cust_ Ledger Entry] CLE2 ON CLE2.[Entry No_] = CLE.[Closed by Entry No_]
																									WHERE CLE.[Document Type] IN (2,3)
																									AND ((CLE.[Document No_]  LIKE 'UM%' AND CLE2.[Document Type] = 3) OR
																										(CLE2.[Document No_]  LIKE 'UM%' AND CLE.[Document Type] = 3) )
																								) CM ON CM.NO_UM = GLE.[Document No_]
																					LEFT JOIN [AUTOJAYA].[dbo].[AUTOJAYA$Sales Cr_Memo Header] CMH ON CMH.[No_] = CM.NO_CM
																					WHERE GLE.[G_L Account No_] = '400.110.03'
																						  AND GLE.[Document No_] LIKE 'UM%'
																						  AND (CM.NO_CM IS NULL OR (CM.NO_CM IS NOT NULL AND CMH.[Posting Date] > (CAST((CAST($P{Tahun} as varchar(4))+'-12-31') AS datetime)) ))
																						  AND (SIH.[Posting Date] >= (CAST((CAST($P{Tahun} as varchar(4))+'-01-01') AS datetime)) AND SIH.[Posting Date]<= (CAST((CAST($P{Tahun} as varchar(4))+'-12-31') AS datetime)))
																					GROUP BY DIMS.ITEM_CAT
																							 ,DIMS.BRANCHES
																							 ,DIMS.SALESMAN
																							 ,SIH.[Posting Date]
																							 ,SIH.[No_]
																							 ,SIH.[External Document No_]
																							 ,SIH.[Bill-to Customer No_]
																							 ,SIH.[Bill-to Name]
																							 ,SIH.[Prepayment Order No_]
																				) UM
																		LEFT JOIN	(
																						SELECT	DIMS.ITEM_CAT
																								,DIMS.BRANCHES
																								,DIMS.SALESMAN
																								,SIH.[Order No_] AS NO_SO
																								,MAX(SIH.[Posting Date]) AS TGL_INV
																								,SUM(GLE.[Amount]) AS AMOUNT
																						FROM [AUTOJAYA].[dbo].[AUTOJAYA$G_L Entry] GLE
																						LEFT JOIN	(
																										SELECT	DIM.DIM_ID
																												,MAX(DIM.BRANCHES) AS BRANCHES
																												,MAX(DIM.ITEM_CAT) AS ITEM_CAT
																												,MAX(DIM.SALESMAN) AS SALESMAN
																										FROM	(
																													SELECT [Dimension Set ID] AS DIM_ID
																														  ,CASE WHEN [Dimension Code] = 'BRANCHES' THEN [Dimension Value Code] ELSE NULL END AS BRANCHES
																														  ,CASE WHEN [Dimension Code] = 'ITEM CATEGORY' THEN [Dimension Value Code] ELSE NULL END AS ITEM_CAT
																														  ,CASE WHEN [Dimension Code] = 'SALESMAN' THEN [Dimension Value Code] ELSE NULL END AS SALESMAN
																													FROM [AUTOJAYA].[dbo].[AUTOJAYA$Dimension Set Entry]
																												) DIM
																										GROUP BY DIM.DIM_ID
																									) DIMS ON DIMS.DIM_ID = GLE.[Dimension Set ID]
																						LEFT JOIN [AUTOJAYA].[dbo].[AUTOJAYA$Sales Invoice Header] SIH ON SIH.[No_] = GLE.[Document No_]
																						WHERE GLE.[G_L Account No_] = '400.110.03'
																							  AND GLE.[Document No_] NOT LIKE 'UM%'
																							  AND GLE.[Posting Date] <=  (CAST((CAST($P{Tahun} as varchar(4))+'-12-31') AS datetime))
																						GROUP BY DIMS.ITEM_CAT
																								,DIMS.BRANCHES
																								,DIMS.SALESMAN
																								,SIH.[Order No_]
																					) INV ON INV.NO_SO = UM.NO_SO AND INV.BRANCHES = UM.BRANCHES AND INV.ITEM_CAT = UM.ITEM_CAT AND INV.SALESMAN = UM.SALESMAN
																	) OUM
															WHERE OUM.AMOUNT > 0
														) ASCY
												GROUP BY ASCY.BRANCHES, ASCY.ITEM_CAT, ASCY.SALESMAN
												UNION ALL
												SELECT	'(+) Accured Sales Previous Year' AS NOTE
														,ASPY.BRANCHES
														,ASPY.ITEM_CAT
														,ASPY.SALESMAN
														,SUM(ASPY.AMOUNT)  AS AMOUNT
												FROM	(
															SELECT	OUM.ITEM_CAT
																	,OUM.BRANCHES
																	,OUM.SALESMAN
																	,OUM.AMOUNT
															FROM	(
																		SELECT	UM.ITEM_CAT
																				,UM.BRANCHES
																				,UM.SALESMAN
																				, CASE WHEN ISNULL(INV.AMOUNT,0) =  0 THEN 0 ELSE
																					CASE WHEN SUM(UM.AMOUNT)OVER(PARTITION BY UM.NO_SO, UM.BRANCHES, UM.ITEM_CAT, UM.SALESMAN  ORDER BY UM.TGL_UM) <= ISNULL(INV.AMOUNT,0) THEN
																						UM.AMOUNT ELSE SUM(UM.AMOUNT)OVER(PARTITION BY UM.NO_SO, UM.BRANCHES, UM.ITEM_CAT, UM.SALESMAN  ORDER BY UM.TGL_UM) - ISNULL(INV.AMOUNT,0)
																					END
																				  END AS AMOUNT
																		FROM	(
																					SELECT	DIMS.ITEM_CAT
																							,DIMS.BRANCHES
																							,CASE WHEN SIH.[No_] = 'UMAT150027' THEN 'HRY' ELSE DIMS.SALESMAN END AS SALESMAN
																							,SIH.[Posting Date] AS TGL_UM
																							,SIH.[No_] AS NO_UM
																							,SIH.[External Document No_] AS NO_PO_CUST
																							,SIH.[Bill-to Customer No_] AS CUST_NO
																							,SIH.[Bill-to Name] AS CUST_NAME
																							,SIH.[Prepayment Order No_] AS NO_SO
																							, (SUM(GLE.[Amount]) * -1) AS AMOUNT
																					FROM [AUTOJAYA].[dbo].[AUTOJAYA$G_L Entry] GLE
																					LEFT JOIN	(
																									SELECT	DIM.DIM_ID
																											,MAX(DIM.BRANCHES) AS BRANCHES
																											,MAX(DIM.ITEM_CAT) AS ITEM_CAT
																											,MAX(DIM.SALESMAN) AS SALESMAN
																									FROM	(
																												SELECT [Dimension Set ID] AS DIM_ID
																													  ,CASE WHEN [Dimension Code] = 'BRANCHES' THEN [Dimension Value Code] ELSE NULL END AS BRANCHES
																													  ,CASE WHEN [Dimension Code] = 'ITEM CATEGORY' THEN [Dimension Value Code] ELSE NULL END AS ITEM_CAT
																													  ,CASE WHEN [Dimension Code] = 'SALESMAN' THEN [Dimension Value Code] ELSE NULL END AS SALESMAN
																												FROM [AUTOJAYA].[dbo].[AUTOJAYA$Dimension Set Entry]
																											) DIM
																									GROUP BY DIM.DIM_ID
																								) DIMS ON DIMS.DIM_ID = GLE.[Dimension Set ID]
																					LEFT JOIN [AUTOJAYA].[dbo].[AUTOJAYA$Sales Invoice Header] SIH ON SIH.[No_] = GLE.[Document No_]
																					LEFT JOIN	(
																									SELECT CLE.[Entry No_]
																											, CASE WHEN CLE.[Document No_] LIKE 'UM%' THEN CLE.[Document No_] ELSE CLE2.[Document No_] END AS NO_UM
																											, CASE WHEN CLE.[Document No_] LIKE 'UM%' THEN CLE2.[Document No_] ELSE CLE.[Document No_] END AS NO_CM
																									FROM [AUTOJAYA].[dbo].[AUTOJAYA$Cust_ Ledger Entry] CLE
																									LEFT JOIN [AUTOJAYA].[dbo].[AUTOJAYA$Cust_ Ledger Entry] CLE2 ON CLE2.[Entry No_] = CLE.[Closed by Entry No_]
																									WHERE CLE.[Document Type] IN (2,3)
																									AND ((CLE.[Document No_]  LIKE 'UM%' AND CLE2.[Document Type] = 3) OR
																										(CLE2.[Document No_]  LIKE 'UM%' AND CLE.[Document Type] = 3) )
																								) CM ON CM.NO_UM = GLE.[Document No_]
																					LEFT JOIN [AUTOJAYA].[dbo].[AUTOJAYA$Sales Cr_Memo Header] CMH ON CMH.[No_] = CM.NO_CM
																					WHERE GLE.[G_L Account No_] = '400.110.03'
																						  AND GLE.[Document No_] LIKE 'UM%'
																						  AND CM.NO_CM IS NULL
																						  AND (SIH.[Posting Date] < (CAST((CAST($P{Tahun} as varchar(4))+'-01-01') AS datetime)))
																					GROUP BY DIMS.ITEM_CAT
																							 ,DIMS.BRANCHES
																							 ,DIMS.SALESMAN
																							 ,SIH.[Posting Date]
																							 ,SIH.[No_]
																							 ,SIH.[External Document No_]
																							 ,SIH.[Bill-to Customer No_]
																							 ,SIH.[Bill-to Name]
																							 ,SIH.[Prepayment Order No_]
																				) UM
																		LEFT JOIN	(
																						SELECT	DIMS.ITEM_CAT
																								,DIMS.BRANCHES
																								,DIMS.SALESMAN
																								,SIH.[Order No_] AS NO_SO
																								,MAX(SIH.[Posting Date]) AS TGL_INV
																								,SUM(GLE.[Amount]) AS AMOUNT
																						FROM [AUTOJAYA].[dbo].[AUTOJAYA$G_L Entry] GLE
																						LEFT JOIN	(
																										SELECT	DIM.DIM_ID
																												,MAX(DIM.BRANCHES) AS BRANCHES
																												,MAX(DIM.ITEM_CAT) AS ITEM_CAT
																												,MAX(DIM.SALESMAN) AS SALESMAN
																										FROM	(
																													SELECT [Dimension Set ID] AS DIM_ID
																														  ,CASE WHEN [Dimension Code] = 'BRANCHES' THEN [Dimension Value Code] ELSE NULL END AS BRANCHES
																														  ,CASE WHEN [Dimension Code] = 'ITEM CATEGORY' THEN [Dimension Value Code] ELSE NULL END AS ITEM_CAT
																														  ,CASE WHEN [Dimension Code] = 'SALESMAN' THEN [Dimension Value Code] ELSE NULL END AS SALESMAN
																													FROM [AUTOJAYA].[dbo].[AUTOJAYA$Dimension Set Entry]
																												) DIM
																										GROUP BY DIM.DIM_ID
																									) DIMS ON DIMS.DIM_ID = GLE.[Dimension Set ID]
																						LEFT JOIN [AUTOJAYA].[dbo].[AUTOJAYA$Sales Invoice Header] SIH ON SIH.[No_] = GLE.[Document No_]
																						WHERE GLE.[G_L Account No_] = '400.110.03'
																							  AND GLE.[Document No_] NOT LIKE 'UM%'
																							  AND (GLE.[Posting Date] >= (CAST((CAST($P{Tahun} as varchar(4))+'-01-01') AS datetime)) AND GLE.[Posting Date] <= (CAST((CAST($P{Tahun} as varchar(4))+'-12-31') AS datetime)))
																						GROUP BY DIMS.ITEM_CAT
																								,DIMS.BRANCHES
																								,DIMS.SALESMAN
																								,SIH.[Order No_]
																					) INV ON INV.NO_SO = UM.NO_SO AND INV.BRANCHES = UM.BRANCHES AND INV.ITEM_CAT = UM.ITEM_CAT AND INV.SALESMAN = UM.SALESMAN
																	) OUM
															WHERE OUM.AMOUNT > 0
														) ASPY
												GROUP BY ASPY.BRANCHES, ASPY.ITEM_CAT, ASPY.SALESMAN
												UNION ALL
												SELECT	'(-/+) Others Management Adjustment - ALL' AS NOTE
														,DIMS.BRANCHES
														,DIMS.ITEM_CAT
														,DIMS.SALESMAN
														,SUM(GLE.[Amount]) * -1 AS AMOUNT
												FROM [AUTOJAYA].[dbo].[AJ-ADJ$G_L Entry] GLE
												LEFT JOIN	(
																SELECT	DIM.DIM_ID
																		,MAX(DIM.BRANCHES) AS BRANCHES
																		,MAX(DIM.ITEM_CAT) AS ITEM_CAT
																		,MAX(DIM.SALESMAN) AS SALESMAN
																FROM	(
																			SELECT [Dimension Set ID] AS DIM_ID
																				  ,CASE WHEN [Dimension Code] = 'BRANCHES' THEN [Dimension Value Code] ELSE NULL END AS BRANCHES
																				  ,CASE WHEN [Dimension Code] = 'ITEM CATEGORY' THEN [Dimension Value Code] ELSE NULL END AS ITEM_CAT
																				  ,CASE WHEN [Dimension Code] = 'SALESMAN' THEN [Dimension Value Code] ELSE NULL END AS SALESMAN
																			FROM [AUTOJAYA].[dbo].[AJ-ADJ$Dimension Set Entry]
																		) DIM
																GROUP BY DIM.DIM_ID
															) DIMS ON DIMS.DIM_ID = GLE.[Dimension Set ID]
												WHERE	(GLE.[G_L Account No_] BETWEEN '400.110.00'  AND '420.110.01') AND
														GLE.[G_L Account No_] <> '400.110.04' AND
														DIMS.ITEM_CAT <> '' AND
														(GLE.[Posting Date] >= (CAST((CAST($P{Tahun} as varchar(4))+'-01-01') AS datetime)) AND GLE.[Posting Date] <=  (CAST((CAST($P{Tahun} as varchar(4))+'-12-31') AS datetime)))
												GROUP BY DIMS.BRANCHES, DIMS.ITEM_CAT, DIMS.SALESMAN
												UNION ALL
												SELECT	'(-/+) Others Management Adjustment - SALES LAINNYA' AS NOTE
														,'10' BRANCHES
														,'HW01' AS ITEM_CAT
														,'OFC' AS SALESMAN
														,SUM(GLE.[Amount]) * -1 AS AMOUNT
												FROM [AUTOJAYA].[dbo].[AJ-ADJ$G_L Entry] GLE
												LEFT JOIN	(
																SELECT	DIM.DIM_ID
																		,MAX(DIM.BRANCHES) AS BRANCHES
																		,MAX(DIM.ITEM_CAT) AS ITEM_CAT
																		,MAX(DIM.SALESMAN) AS SALESMAN
																FROM	(
																			SELECT [Dimension Set ID] AS DIM_ID
																				  ,CASE WHEN [Dimension Code] = 'BRANCHES' THEN [Dimension Value Code] ELSE NULL END AS BRANCHES
																				  ,CASE WHEN [Dimension Code] = 'ITEM CATEGORY' THEN [Dimension Value Code] ELSE NULL END AS ITEM_CAT
																				  ,CASE WHEN [Dimension Code] = 'SALESMAN' THEN [Dimension Value Code] ELSE NULL END AS SALESMAN
																			FROM [AUTOJAYA].[dbo].[AJ-ADJ$Dimension Set Entry]
																		) DIM
																GROUP BY DIM.DIM_ID
															) DIMS ON DIMS.DIM_ID = GLE.[Dimension Set ID]
												WHERE	GLE.[G_L Account No_] = '400.110.04' AND
														(GLE.[Posting Date] >= (CAST((CAST($P{Tahun} as varchar(4))+'-01-01') AS datetime)) AND GLE.[Posting Date] <=  (CAST((CAST($P{Tahun} as varchar(4))+'-12-31') AS datetime)))
												GROUP BY DIMS.BRANCHES, DIMS.ITEM_CAT, DIMS.SALESMAN
												UNION ALL
												SELECT	'SALES CORRECTION - FA/INTERCOY' AS NOTE
														, SLC.BRANCHES
														, SLC.ITEM_CAT
														, SLC.SALESMAN
														, SUM(SLC.[Amount]) AS AMOUNT
												FROM	(
															SELECT	DIMS.BRANCHES
																	,DIMS.ITEM_CAT
																	,DIMS.SALESMAN
																	,CASE WHEN GLE.[Source No_] = 'SOPE001' THEN '2. Sales INTERCOY' ELSE '1. Sales FA' END AS SALES_TITLE
																	,CASE WHEN GLE.[Source No_] = 'SOPE001' THEN '(-) Sales INTERCOY' ELSE '(-) Sales FA' END AS SALES_TITLE2
																	,CASE WHEN GLE.[Source No_] = 'SOPE001' THEN 'SLS-0302' ELSE 'SLS-0301' END AS SORT_SLS
																	, GLE.[Amount]
															FROM [AUTOJAYA].[dbo].[AUTOJAYA$G_L Entry] GLE
															LEFT JOIN	(
																			SELECT	DIM.DIM_ID
																					,MAX(DIM.BRANCHES) AS BRANCHES
																					,MAX(DIM.ITEM_CAT) AS ITEM_CAT
																					,MAX(DIM.SALESMAN) AS SALESMAN
																			FROM	(
																						SELECT [Dimension Set ID] AS DIM_ID
																							  ,CASE WHEN [Dimension Code] = 'BRANCHES' THEN [Dimension Value Code] ELSE NULL END AS BRANCHES
																							  ,CASE WHEN [Dimension Code] = 'ITEM CATEGORY' THEN [Dimension Value Code] ELSE NULL END AS ITEM_CAT
																							  ,CASE WHEN [Dimension Code] = 'SALESMAN' THEN [Dimension Value Code] ELSE NULL END AS SALESMAN
																						FROM [AUTOJAYA].[dbo].[AUTOJAYA$Dimension Set Entry]
																					) DIM
																			GROUP BY DIM.DIM_ID
																		) DIMS ON DIMS.DIM_ID = GLE.[Dimension Set ID]
															WHERE GLE.[G_L Account No_] IN ('400.110.01', '410.110.01', '420.110.01')
																	AND GLE.[Posting Date] >= (CAST((CAST($P{Tahun} as varchar(4))+'-01-01') AS datetime)) AND GLE.[Posting Date] <=  (CAST((CAST($P{Tahun} as varchar(4))+'-12-31') AS datetime))
														) SLC
												GROUP BY SLC.BRANCHES, SLC.ITEM_CAT, SLC.SALESMAN
												UNION ALL
												SELECT	'SALES CORRECTION - FA/INTERCOY ADJ' AS NOTE
														, SLC.BRANCHES
														, SLC.ITEM_CAT
														, SLC.SALESMAN
														, SUM(SLC.[Amount]) AS AMOUNT
												FROM	(
															SELECT	'3. Others Sales Adjustment' AS SALES_TITLE
																	,'(-/+) Others Management Adjustment' AS SALES_TITLE2
																	,'SLS-0303' AS SORT_SLS
																	, DIMS.BRANCHES
																	, DIMS.ITEM_CAT
																	, DIMS.SALESMAN
																	, GLE.[Amount]
															FROM [AUTOJAYA].[dbo].[AJ-ADJ$G_L Entry] GLE
															LEFT JOIN	(
																			SELECT	DIM.DIM_ID
																					,MAX(DIM.BRANCHES) AS BRANCHES
																					,MAX(DIM.ITEM_CAT) AS ITEM_CAT
																					,MAX(DIM.SALESMAN) AS SALESMAN
																			FROM	(
																						SELECT [Dimension Set ID] AS DIM_ID
																							  ,CASE WHEN [Dimension Code] = 'BRANCHES' THEN [Dimension Value Code] ELSE NULL END AS BRANCHES
																							  ,CASE WHEN [Dimension Code] = 'ITEM CATEGORY' THEN [Dimension Value Code] ELSE NULL END AS ITEM_CAT
																							  ,CASE WHEN [Dimension Code] = 'SALESMAN' THEN [Dimension Value Code] ELSE NULL END AS SALESMAN
																						FROM [AUTOJAYA].[dbo].[AJ-ADJ$Dimension Set Entry]
																					) DIM
																			GROUP BY DIM.DIM_ID
																		) DIMS ON DIMS.DIM_ID = GLE.[Dimension Set ID]
															WHERE GLE.[G_L Account No_] IN ('400.110.01', '410.110.01', '420.110.01')
																	AND GLE.[Posting Date] >= (CAST((CAST($P{Tahun} as varchar(4))+'-01-01') AS datetime)) AND GLE.[Posting Date] <=  (CAST((CAST($P{Tahun} as varchar(4))+'-12-31') AS datetime))
														) SLC
												GROUP BY SLC.BRANCHES, SLC.ITEM_CAT, SLC.SALESMAN
												UNION ALL
												SELECT	'SALES ALL' AS NOTE
														, DIMS.BRANCHES
														, DIMS.ITEM_CAT
														, DIMS.SALESMAN
														, SUM(GLE.[Amount]) * -1 AS AMOUNT
												FROM [AUTOJAYA].[dbo].[SOLUSI$G_L Entry] GLE
												LEFT JOIN	(
																SELECT	DIM.DIM_ID
																		,MAX(DIM.BRANCHES) AS BRANCHES
																		,MAX(DIM.ITEM_CAT) AS ITEM_CAT
																		,MAX(DIM.SALESMAN) AS SALESMAN
																FROM	(
																			SELECT [Dimension Set ID] AS DIM_ID
																				  ,CASE WHEN [Dimension Code] = 'BRANCHES' THEN [Dimension Value Code] ELSE NULL END AS BRANCHES
																				  ,CASE WHEN [Dimension Code] = 'ITEM CATEGORY' THEN [Dimension Value Code] ELSE NULL END AS ITEM_CAT
																				  ,CASE WHEN [Dimension Code] = 'SALESMAN' THEN [Dimension Value Code] ELSE NULL END AS SALESMAN
																			FROM [AUTOJAYA].[dbo].[SOLUSI$Dimension Set Entry]
																		) DIM
																GROUP BY DIM.DIM_ID
															) DIMS ON DIMS.DIM_ID = GLE.[Dimension Set ID]
												WHERE	(GLE.[G_L Account No_] BETWEEN '400.110.00'  AND '420.110.01') AND
														GLE.[G_L Account No_] <> '400.110.04' AND
														DIMS.ITEM_CAT <> ''AND
														(GLE.[Posting Date] >= (CAST((CAST($P{Tahun} as varchar(4))+'-01-01') AS datetime)) AND GLE.[Posting Date] <=  (CAST((CAST($P{Tahun} as varchar(4))+'-12-31') AS datetime)))
												GROUP BY DIMS.BRANCHES, DIMS.ITEM_CAT, DIMS.SALESMAN
												UNION ALL
												SELECT	'Sales - LAINNYA' AS NOTE
														,'10' BRANCHES
														,'HW01' AS ITEM_CAT
														,'OFC' AS SALESMAN
														, SUM(GLE.[Amount]) * -1 AS AMOUNT
												FROM [AUTOJAYA].[dbo].[SOLUSI$G_L Entry] GLE
												LEFT JOIN	(
																SELECT	DIM.DIM_ID
																		,MAX(DIM.BRANCHES) AS BRANCHES
																		,MAX(DIM.ITEM_CAT) AS ITEM_CAT
																		,MAX(DIM.SALESMAN) AS SALESMAN
																FROM	(
																			SELECT [Dimension Set ID] AS DIM_ID
																				  ,CASE WHEN [Dimension Code] = 'BRANCHES' THEN [Dimension Value Code] ELSE NULL END AS BRANCHES
																				  ,CASE WHEN [Dimension Code] = 'ITEM CATEGORY' THEN [Dimension Value Code] ELSE NULL END AS ITEM_CAT
																				  ,CASE WHEN [Dimension Code] = 'SALESMAN' THEN [Dimension Value Code] ELSE NULL END AS SALESMAN
																			FROM [AUTOJAYA].[dbo].[SOLUSI$Dimension Set Entry]
																		) DIM
																GROUP BY DIM.DIM_ID
															) DIMS ON DIMS.DIM_ID = GLE.[Dimension Set ID]
												WHERE	GLE.[G_L Account No_] = '400.110.04' AND
														(GLE.[Posting Date] >= (CAST((CAST($P{Tahun} as varchar(4))+'-01-01') AS datetime)) AND GLE.[Posting Date] <=  (CAST((CAST($P{Tahun} as varchar(4))+'-12-31') AS datetime)))
												UNION ALL
												SELECT	'(-) Accured Sales Current Year' AS NOTE
														,ASCY.BRANCHES
														,ASCY.ITEM_CAT
														,ASCY.SALESMAN
														,SUM(ASCY.AMOUNT) * -1 AS AMOUNT
												FROM (
														SELECT	OUM.ITEM_CAT
																,OUM.BRANCHES
																,OUM.SALESMAN
																,OUM.AMOUNT
														FROM	(
																	SELECT	UM.ITEM_CAT
																			,UM.BRANCHES
																			,UM.SALESMAN
																			,CASE WHEN ISNULL(INV.AMOUNT,0) = 0 THEN UM.AMOUNT ELSE
																				CASE WHEN SUM(UM.AMOUNT)OVER(PARTITION BY UM.NO_SO, UM.BRANCHES, UM.ITEM_CAT, UM.SALESMAN  ORDER BY UM.TGL_UM) <= ISNULL(INV.AMOUNT,0) THEN 0 ELSE
																				SUM(UM.AMOUNT)OVER(PARTITION BY UM.NO_SO, UM.BRANCHES, UM.ITEM_CAT, UM.SALESMAN  ORDER BY UM.TGL_UM) - ISNULL(INV.AMOUNT,0)
																			END
																			END	 AS AMOUNT
																	FROM	(
																				SELECT	DIMS.ITEM_CAT
																						,DIMS.BRANCHES
																						,DIMS.SALESMAN
																						,SIH.[Posting Date] AS TGL_UM
																						,SIH.[No_] AS NO_UM
																						,SIH.[External Document No_] AS NO_PO_CUST
																						,SIH.[Bill-to Customer No_] AS CUST_NO
																						,SIH.[Bill-to Name] AS CUST_NAME
																						,SIH.[Prepayment Order No_] AS NO_SO
																						, (SUM(GLE.[Amount]) * -1) AS AMOUNT
																				FROM [AUTOJAYA].[dbo].[SOLUSI$G_L Entry] GLE
																				LEFT JOIN	(
																								SELECT	DIM.DIM_ID
																										,MAX(DIM.BRANCHES) AS BRANCHES
																										,MAX(DIM.ITEM_CAT) AS ITEM_CAT
																										,MAX(DIM.SALESMAN) AS SALESMAN
																								FROM	(
																											SELECT [Dimension Set ID] AS DIM_ID
																												  ,CASE WHEN [Dimension Code] = 'BRANCHES' THEN [Dimension Value Code] ELSE NULL END AS BRANCHES
																												  ,CASE WHEN [Dimension Code] = 'ITEM CATEGORY' THEN [Dimension Value Code] ELSE NULL END AS ITEM_CAT
																												  ,CASE WHEN [Dimension Code] = 'SALESMAN' THEN [Dimension Value Code] ELSE NULL END AS SALESMAN
																											FROM [AUTOJAYA].[dbo].[SOLUSI$Dimension Set Entry]
																										) DIM
																								GROUP BY DIM.DIM_ID
																							) DIMS ON DIMS.DIM_ID = GLE.[Dimension Set ID]
																				LEFT JOIN [AUTOJAYA].[dbo].[SOLUSI$Sales Invoice Header] SIH ON SIH.[No_] = GLE.[Document No_]
																				LEFT JOIN	(
																								SELECT CLE.[Entry No_]
																										, CASE WHEN CLE.[Document No_] LIKE 'UM%' THEN CLE.[Document No_] ELSE CLE2.[Document No_] END AS NO_UM
																										, CASE WHEN CLE.[Document No_] LIKE 'UM%' THEN CLE2.[Document No_] ELSE CLE.[Document No_] END AS NO_CM
																								FROM [AUTOJAYA].[dbo].[SOLUSI$Cust_ Ledger Entry] CLE
																								LEFT JOIN [AUTOJAYA].[dbo].[SOLUSI$Cust_ Ledger Entry] CLE2 ON CLE2.[Entry No_] = CLE.[Closed by Entry No_]
																								WHERE CLE.[Document Type] IN (2,3)
																								AND ((CLE.[Document No_]  LIKE 'UM%' AND CLE2.[Document Type] = 3) OR
																									(CLE2.[Document No_]  LIKE 'UM%' AND CLE.[Document Type] = 3) )
																							) CM ON CM.NO_UM = GLE.[Document No_]
																				LEFT JOIN [AUTOJAYA].[dbo].[SOLUSI$Sales Cr_Memo Header] CMH ON CMH.[No_] = CM.NO_CM
																				WHERE GLE.[G_L Account No_] = '400.110.03'
																					  AND GLE.[Document No_] LIKE 'UM%'
																					  AND (CM.NO_CM IS NULL OR (CM.NO_CM IS NOT NULL AND CMH.[Posting Date] > (CAST((CAST($P{Tahun} as varchar(4))+'-12-31') AS datetime)) ))
																					  AND (SIH.[Posting Date] >= (CAST((CAST($P{Tahun} as varchar(4))+'-01-01') AS datetime)) AND SIH.[Posting Date]<= (CAST((CAST($P{Tahun} as varchar(4))+'-12-31') AS datetime)))
																				GROUP BY DIMS.ITEM_CAT
																						 ,DIMS.BRANCHES
																						 ,DIMS.SALESMAN
																						 ,SIH.[Posting Date]
																						 ,SIH.[No_]
																						 ,SIH.[External Document No_]
																						 ,SIH.[Bill-to Customer No_]
																						 ,SIH.[Bill-to Name]
																						 ,SIH.[Prepayment Order No_]
																			) UM
																	LEFT JOIN	(
																					SELECT	DIMS.ITEM_CAT
																							,DIMS.BRANCHES
																							,DIMS.SALESMAN
																							,SIH.[Order No_] AS NO_SO
																							,MAX(SIH.[Posting Date]) AS TGL_INV
																							,SUM(GLE.[Amount]) AS AMOUNT
																					FROM [AUTOJAYA].[dbo].[SOLUSI$G_L Entry] GLE
																					LEFT JOIN	(
																									SELECT	DIM.DIM_ID
																											,MAX(DIM.BRANCHES) AS BRANCHES
																											,MAX(DIM.ITEM_CAT) AS ITEM_CAT
																											,MAX(DIM.SALESMAN) AS SALESMAN
																									FROM	(
																												SELECT [Dimension Set ID] AS DIM_ID
																													  ,CASE WHEN [Dimension Code] = 'BRANCHES' THEN [Dimension Value Code] ELSE NULL END AS BRANCHES
																													  ,CASE WHEN [Dimension Code] = 'ITEM CATEGORY' THEN [Dimension Value Code] ELSE NULL END AS ITEM_CAT
																													  ,CASE WHEN [Dimension Code] = 'SALESMAN' THEN [Dimension Value Code] ELSE NULL END AS SALESMAN
																												FROM [AUTOJAYA].[dbo].[SOLUSI$Dimension Set Entry]
																											) DIM
																									GROUP BY DIM.DIM_ID
																								) DIMS ON DIMS.DIM_ID = GLE.[Dimension Set ID]
																					LEFT JOIN [AUTOJAYA].[dbo].[SOLUSI$Sales Invoice Header] SIH ON SIH.[No_] = GLE.[Document No_]
																					WHERE GLE.[G_L Account No_] = '400.110.03'
																						  AND GLE.[Document No_] NOT LIKE 'UM%'
																						  AND GLE.[Posting Date] <=  (CAST((CAST($P{Tahun} as varchar(4))+'-12-31') AS datetime))
																					GROUP BY DIMS.ITEM_CAT
																							,DIMS.BRANCHES
																							,DIMS.SALESMAN
																							,SIH.[Order No_]
																				) INV ON INV.NO_SO = UM.NO_SO AND INV.BRANCHES = UM.BRANCHES AND INV.ITEM_CAT = UM.ITEM_CAT AND INV.SALESMAN = UM.SALESMAN
																) OUM
														WHERE OUM.AMOUNT > 0
													 ) ASCY
												GROUP BY ASCY.BRANCHES, ASCY.ITEM_CAT, ASCY.SALESMAN
												UNION ALL
												SELECT	'(+) Accured Sales Previous Year' AS NOTE
														,ASPY.BRANCHES
														,ASPY.ITEM_CAT
														,ASPY.SALESMAN
														, SUM(ASPY.AMOUNT) AS AMOUNT
												FROM	(
															SELECT	OUM.ITEM_CAT
																	,OUM.BRANCHES
																	,OUM.SALESMAN
																	,OUM.AMOUNT
															FROM	(
																		SELECT	UM.ITEM_CAT
																				, UM.BRANCHES
																				, UM.SALESMAN
																				, CASE WHEN ISNULL(INV.AMOUNT,0) =  0 THEN 0 ELSE
																					CASE WHEN SUM(UM.AMOUNT)OVER(PARTITION BY UM.NO_SO, UM.BRANCHES, UM.ITEM_CAT, UM.SALESMAN  ORDER BY UM.TGL_UM) <= ISNULL(INV.AMOUNT,0) THEN
																						UM.AMOUNT ELSE SUM(UM.AMOUNT)OVER(PARTITION BY UM.NO_SO, UM.BRANCHES, UM.ITEM_CAT, UM.SALESMAN ORDER BY UM.TGL_UM) - ISNULL(INV.AMOUNT,0)
																					END
																				  END AS AMOUNT
																		FROM	(
																					SELECT	DIMS.ITEM_CAT
																							,DIMS.BRANCHES
																							,CASE WHEN SIH.[No_] = 'UMST150023' THEN 'ARH' ELSE DIMS.SALESMAN END AS SALESMAN
																							,SIH.[Posting Date] AS TGL_UM
																							,SIH.[No_] AS NO_UM
																							,SIH.[External Document No_] AS NO_PO_CUST
																							,SIH.[Bill-to Customer No_] AS CUST_NO
																							,SIH.[Bill-to Name] AS CUST_NAME
																							,SIH.[Prepayment Order No_] AS NO_SO
																							, (SUM(GLE.[Amount]) * -1) AS AMOUNT
																					FROM [AUTOJAYA].[dbo].[SOLUSI$G_L Entry] GLE
																					LEFT JOIN	(
																									SELECT	DIM.DIM_ID
																											,MAX(DIM.BRANCHES) AS BRANCHES
																											,MAX(DIM.ITEM_CAT) AS ITEM_CAT
																											,MAX(DIM.SALESMAN) AS SALESMAN
																									FROM	(
																												SELECT [Dimension Set ID] AS DIM_ID
																													  ,CASE WHEN [Dimension Code] = 'BRANCHES' THEN [Dimension Value Code] ELSE NULL END AS BRANCHES
																													  ,CASE WHEN [Dimension Code] = 'ITEM CATEGORY' THEN [Dimension Value Code] ELSE NULL END AS ITEM_CAT
																													  ,CASE WHEN [Dimension Code] = 'SALESMAN' THEN [Dimension Value Code] ELSE NULL END AS SALESMAN
																												FROM [AUTOJAYA].[dbo].[SOLUSI$Dimension Set Entry]
																											) DIM
																									GROUP BY DIM.DIM_ID
																								) DIMS ON DIMS.DIM_ID = GLE.[Dimension Set ID]
																					LEFT JOIN [AUTOJAYA].[dbo].[SOLUSI$Sales Invoice Header] SIH ON SIH.[No_] = GLE.[Document No_]
																					LEFT JOIN	(
																									SELECT CLE.[Entry No_]
																											, CASE WHEN CLE.[Document No_] LIKE 'UM%' THEN CLE.[Document No_] ELSE CLE2.[Document No_] END AS NO_UM
																											, CASE WHEN CLE.[Document No_] LIKE 'UM%' THEN CLE2.[Document No_] ELSE CLE.[Document No_] END AS NO_CM
																									FROM [AUTOJAYA].[dbo].[SOLUSI$Cust_ Ledger Entry] CLE
																									LEFT JOIN [AUTOJAYA].[dbo].[SOLUSI$Cust_ Ledger Entry] CLE2 ON CLE2.[Entry No_] = CLE.[Closed by Entry No_]
																									WHERE CLE.[Document Type] IN (2,3)
																									AND ((CLE.[Document No_]  LIKE 'UM%' AND CLE2.[Document Type] = 3) OR
																										(CLE2.[Document No_]  LIKE 'UM%' AND CLE.[Document Type] = 3) )
																								) CM ON CM.NO_UM = GLE.[Document No_]
																					LEFT JOIN [AUTOJAYA].[dbo].[SOLUSI$Sales Cr_Memo Header] CMH ON CMH.[No_] = CM.NO_CM
																					WHERE GLE.[G_L Account No_] = '400.110.03'
																						  AND GLE.[Document No_] LIKE 'UM%'
																						  AND CM.NO_CM IS NULL
																						  AND (SIH.[Posting Date] < (CAST((CAST($P{Tahun} as varchar(4))+'-01-01') AS datetime)))
																					GROUP BY DIMS.ITEM_CAT
																							 ,DIMS.BRANCHES
																							 ,DIMS.SALESMAN
																							 ,SIH.[Posting Date]
																							 ,SIH.[No_]
																							 ,SIH.[External Document No_]
																							 ,SIH.[Bill-to Customer No_]
																							 ,SIH.[Bill-to Name]
																							 ,SIH.[Prepayment Order No_]
																				) UM
																		LEFT JOIN	(
																						SELECT	DIMS.ITEM_CAT
																								,DIMS.BRANCHES
																								,DIMS.SALESMAN
																								,SIH.[Order No_] AS NO_SO
																								,MAX(SIH.[Posting Date]) AS TGL_INV
																								,SUM(GLE.[Amount]) AS AMOUNT
																						FROM [AUTOJAYA].[dbo].[SOLUSI$G_L Entry] GLE
																						LEFT JOIN	(
																										SELECT	DIM.DIM_ID
																												,MAX(DIM.BRANCHES) AS BRANCHES
																												,MAX(DIM.ITEM_CAT) AS ITEM_CAT
																												,MAX(DIM.SALESMAN) AS SALESMAN
																										FROM	(
																													SELECT [Dimension Set ID] AS DIM_ID
																														  ,CASE WHEN [Dimension Code] = 'BRANCHES' THEN [Dimension Value Code] ELSE NULL END AS BRANCHES
																														  ,CASE WHEN [Dimension Code] = 'ITEM CATEGORY' THEN [Dimension Value Code] ELSE NULL END AS ITEM_CAT
																														  ,CASE WHEN [Dimension Code] = 'SALESMAN' THEN [Dimension Value Code] ELSE NULL END AS SALESMAN
																													FROM [AUTOJAYA].[dbo].[SOLUSI$Dimension Set Entry]
																												) DIM
																										GROUP BY DIM.DIM_ID
																									) DIMS ON DIMS.DIM_ID = GLE.[Dimension Set ID]
																						LEFT JOIN [AUTOJAYA].[dbo].[SOLUSI$Sales Invoice Header] SIH ON SIH.[No_] = GLE.[Document No_]
																						WHERE GLE.[G_L Account No_] = '400.110.03'
																							  AND GLE.[Document No_] NOT LIKE 'UM%'
																							  AND (GLE.[Posting Date] >= (CAST((CAST($P{Tahun} as varchar(4))+'-01-01') AS datetime)) AND GLE.[Posting Date] <= (CAST((CAST($P{Tahun} as varchar(4))+'-12-31') AS datetime)))
																						GROUP BY DIMS.ITEM_CAT
																								,DIMS.BRANCHES
																								,DIMS.SALESMAN
																								,SIH.[Order No_]
																					) INV ON INV.NO_SO = UM.NO_SO AND INV.BRANCHES = UM.BRANCHES AND INV.ITEM_CAT = UM.ITEM_CAT AND INV.SALESMAN = UM.SALESMAN
																	) OUM
															WHERE OUM.AMOUNT > 0
														) ASPY
												GROUP BY ASPY.BRANCHES, ASPY.ITEM_CAT, ASPY.SALESMAN
												UNION ALL
												SELECT	'(-/+) Others Management Adjustment - ALL' AS NOTE
														,DIMS.BRANCHES
														,DIMS.ITEM_CAT
														,DIMS.SALESMAN
														, SUM(GLE.[Amount]) * -1 AS AMOUNT
												FROM [AUTOJAYA].[dbo].[SP-ADJ$G_L Entry] GLE
												LEFT JOIN	(
																SELECT	DIM.DIM_ID
																		,MAX(DIM.BRANCHES) AS BRANCHES
																		,MAX(DIM.ITEM_CAT) AS ITEM_CAT
																		,MAX(DIM.SALESMAN) AS SALESMAN
																FROM	(
																			SELECT [Dimension Set ID] AS DIM_ID
																				  ,CASE WHEN [Dimension Code] = 'BRANCHES' THEN [Dimension Value Code] ELSE NULL END AS BRANCHES
																				  ,CASE WHEN [Dimension Code] = 'ITEM CATEGORY' THEN [Dimension Value Code] ELSE NULL END AS ITEM_CAT
																				  ,CASE WHEN [Dimension Code] = 'SALESMAN' THEN [Dimension Value Code] ELSE NULL END AS SALESMAN
																			FROM [AUTOJAYA].[dbo].[SP-ADJ$Dimension Set Entry]
																		) DIM
																GROUP BY DIM.DIM_ID
															) DIMS ON DIMS.DIM_ID = GLE.[Dimension Set ID]
												WHERE	(GLE.[G_L Account No_] BETWEEN '400.110.00'  AND '420.110.01') AND
														GLE.[G_L Account No_] <> '400.110.04' AND
														DIMS.ITEM_CAT <> '' AND
														(GLE.[Posting Date] >= (CAST((CAST($P{Tahun} as varchar(4))+'-01-01') AS datetime)) AND GLE.[Posting Date] <= (CAST((CAST($P{Tahun} as varchar(4))+'-12-31') AS datetime)))
												GROUP BY DIMS.BRANCHES, DIMS.ITEM_CAT, DIMS.SALESMAN
												UNION ALL
												SELECT	'(-/+) Others Management Adjustment - SALES LAINNYA' AS NOTE
														,'10' BRANCHES
														,'HW01' AS ITEM_CAT
														,'OFC' AS SALESMAN
														, SUM(GLE.[Amount]) * -1 AS AMOUNT
												FROM [AUTOJAYA].[dbo].[SP-ADJ$G_L Entry] GLE
												LEFT JOIN	(
																SELECT	DIM.DIM_ID
																		,MAX(DIM.BRANCHES) AS BRANCHES
																		,MAX(DIM.ITEM_CAT) AS ITEM_CAT
																		,MAX(DIM.SALESMAN) AS SALESMAN
																FROM	(
																			SELECT [Dimension Set ID] AS DIM_ID
																				  ,CASE WHEN [Dimension Code] = 'BRANCHES' THEN [Dimension Value Code] ELSE NULL END AS BRANCHES
																				  ,CASE WHEN [Dimension Code] = 'ITEM CATEGORY' THEN [Dimension Value Code] ELSE NULL END AS ITEM_CAT
																				  ,CASE WHEN [Dimension Code] = 'SALESMAN' THEN [Dimension Value Code] ELSE NULL END AS SALESMAN
																			FROM [AUTOJAYA].[dbo].[SP-ADJ$Dimension Set Entry]
																		) DIM
																GROUP BY DIM.DIM_ID
															) DIMS ON DIMS.DIM_ID = GLE.[Dimension Set ID]
												WHERE	GLE.[G_L Account No_] = '400.110.04' AND
														(GLE.[Posting Date] >= (CAST((CAST($P{Tahun} as varchar(4))+'-01-01') AS datetime)) AND GLE.[Posting Date] <= (CAST((CAST($P{Tahun} as varchar(4))+'-12-31') AS datetime)))
												UNION ALL
												SELECT	'SALES CORRECTION - FA/INTERCOY' AS NOTE
														, SLC.BRANCHES
														, SLC.ITEM_CAT
														, SLC.SALESMAN
														, SUM(SLC.[Amount]) AS AMOUNT
												FROM	(
															SELECT	CASE WHEN GLE.[Source No_] <> 'SOPE001' THEN '2. Sales INTERCOY' ELSE '1. Sales FA' END AS SALES_TITLE
																	,CASE WHEN GLE.[Source No_] <> 'SOPE001' THEN '(-) Sales INTERCOY' ELSE '(-) Sales FA' END AS SALES_TITLE2
																	,CASE WHEN GLE.[Source No_] <> 'SOPE001' THEN 'SLS-0302' ELSE 'SLS-0301' END AS SORT_SLS
																	, DIMS.BRANCHES
																	, DIMS.ITEM_CAT
																	, DIMS.SALESMAN
																	, GLE.[Amount]
															FROM [AUTOJAYA].[dbo].[SOLUSI$G_L Entry] GLE
															LEFT JOIN	(
																			SELECT	DIM.DIM_ID
																					,MAX(DIM.BRANCHES) AS BRANCHES
																					,MAX(DIM.ITEM_CAT) AS ITEM_CAT
																					,MAX(DIM.SALESMAN) AS SALESMAN
																			FROM	(
																						SELECT [Dimension Set ID] AS DIM_ID
																							  ,CASE WHEN [Dimension Code] = 'BRANCHES' THEN [Dimension Value Code] ELSE NULL END AS BRANCHES
																							  ,CASE WHEN [Dimension Code] = 'ITEM CATEGORY' THEN [Dimension Value Code] ELSE NULL END AS ITEM_CAT
																							  ,CASE WHEN [Dimension Code] = 'SALESMAN' THEN [Dimension Value Code] ELSE NULL END AS SALESMAN
																						FROM [AUTOJAYA].[dbo].[SOLUSI$Dimension Set Entry]
																					) DIM
																			GROUP BY DIM.DIM_ID
																		) DIMS ON DIMS.DIM_ID = GLE.[Dimension Set ID]
															WHERE GLE.[G_L Account No_] IN ('400.110.01', '410.110.01', '420.110.01')
																	AND (GLE.[Posting Date] >= (CAST((CAST($P{Tahun} as varchar(4))+'-01-01') AS datetime)) AND GLE.[Posting Date] <= (CAST((CAST($P{Tahun} as varchar(4))+'-12-31') AS datetime)))
														) SLC
												GROUP BY SLC.BRANCHES, SLC.ITEM_CAT, SLC.SALESMAN
												UNION ALL
												SELECT	'SALES CORRECTION - FA/INTERCOY ADJ' AS NOTE
														, SLC.BRANCHES
														, SLC.ITEM_CAT
														, SLC.SALESMAN
														, SUM(SLC.[Amount]) AS AMOUNT
												FROM	(
															SELECT	'3. Others Sales Adjustment' AS SALES_TITLE
																	,'(-/+) Others Management Adjustment' AS SALES_TITLE2
																	,'SLS-0303' AS SORT_SLS
																	, DIMS.BRANCHES
																	, DIMS.ITEM_CAT
																	, DIMS.SALESMAN
																	, GLE.[Amount]
															FROM [AUTOJAYA].[dbo].[SP-ADJ$G_L Entry] GLE
															LEFT JOIN	(
																			SELECT	DIM.DIM_ID
																					,MAX(DIM.BRANCHES) AS BRANCHES
																					,MAX(DIM.ITEM_CAT) AS ITEM_CAT
																					,MAX(DIM.SALESMAN) AS SALESMAN
																			FROM	(
																						SELECT [Dimension Set ID] AS DIM_ID
																							  ,CASE WHEN [Dimension Code] = 'BRANCHES' THEN [Dimension Value Code] ELSE NULL END AS BRANCHES
																							  ,CASE WHEN [Dimension Code] = 'ITEM CATEGORY' THEN [Dimension Value Code] ELSE NULL END AS ITEM_CAT
																							  ,CASE WHEN [Dimension Code] = 'SALESMAN' THEN [Dimension Value Code] ELSE NULL END AS SALESMAN
																						FROM [AUTOJAYA].[dbo].[SP-ADJ$Dimension Set Entry]
																					) DIM
																			GROUP BY DIM.DIM_ID
																		) DIMS ON DIMS.DIM_ID = GLE.[Dimension Set ID]
															WHERE GLE.[G_L Account No_] IN ('400.110.01', '410.110.01', '420.110.01')
																	AND GLE.[Posting Date] >= (CAST((CAST($P{Tahun} as varchar(4))+'-01-01') AS datetime)) AND GLE.[Posting Date] <=  (CAST((CAST($P{Tahun} as varchar(4))+'-12-31') AS datetime))
														) SLC
												GROUP BY SLC.BRANCHES, SLC.ITEM_CAT, SLC.SALESMAN
											) X
								) XX
						GROUP BY XX.BRANCHES
						UNION ALL
						SELECT	2 AS GROUP_NO
								,'Uang Muka (as per Today)' AS GROUP_DESC
								, OSO.BRANCHES
								, CASE WHEN $P{Tahun} <> DATEPART(year, GETDATE()) THEN 0 ELSE (SUM(OSO.AMOUNT)) END AS AMOUNT
						FROM	(
									SELECT	'OS1' AS GROUP_ITEM_CAT
											,'Uang Muka' AS ITEM_CAT
											,UMX.BRANCHES
											,(SUM(UMX.AMOUNT)*-1) AS AMOUNT
									FROM	(
												SELECT	DIMS.BRANCHES
														,(SUM(GLE.[Amount]) * -1 )AS AMOUNT
												FROM [AUTOJAYA].[dbo].[AJ-ADJ$G_L Entry] GLE
												LEFT JOIN	(
																SELECT	DIM.DIM_ID
																		,MAX(DIM.BRANCHES) AS BRANCHES
																		,MAX(DIM.ITEM_CAT) AS ITEM_CAT
																		,MAX(DIM.SALESMAN) AS SALESMAN
																FROM	(
																			SELECT [Dimension Set ID] AS DIM_ID
																				  ,CASE WHEN [Dimension Code] = 'BRANCHES' THEN [Dimension Value Code] ELSE NULL END AS BRANCHES
																				  ,CASE WHEN [Dimension Code] = 'ITEM CATEGORY' THEN [Dimension Value Code] ELSE NULL END AS ITEM_CAT
																				  ,CASE WHEN [Dimension Code] = 'SALESMAN' THEN [Dimension Value Code] ELSE NULL END AS SALESMAN
																			FROM [AUTOJAYA].[dbo].[AJ-ADJ$Dimension Set Entry]
																		) DIM
																GROUP BY DIM.DIM_ID
															) DIMS ON DIMS.DIM_ID = GLE.[Dimension Set ID]
												WHERE	GLE.[G_L Account No_] = '400.110.00' AND
														GLE.[Source Code] <> 'CLSINCOME' AND
														GLE.[Document No_] NOT LIKE 'OBAL-CLOSE%' AND
														GLE.[Document No_] NOT LIKE 'JV-SNUM%' AND
														GLE.[Posting Date] <=  (CAST((CAST($P{Tahun} as varchar(4))+'-12-31') AS datetime))
												GROUP BY DIMS.BRANCHES
												UNION ALL
												SELECT	DIMS.BRANCHES
														,(SUM(GLE.[Amount]) * -1) AS AMOUNT
												FROM [AUTOJAYA].[dbo].[SP-ADJ$G_L Entry] GLE
												LEFT JOIN	(
																SELECT	DIM.DIM_ID
																		,MAX(DIM.BRANCHES) AS BRANCHES
																		,MAX(DIM.ITEM_CAT) AS ITEM_CAT
																		,MAX(DIM.SALESMAN) AS SALESMAN
																FROM	(
																			SELECT [Dimension Set ID] AS DIM_ID
																				  ,CASE WHEN [Dimension Code] = 'BRANCHES' THEN [Dimension Value Code] ELSE NULL END AS BRANCHES
																				  ,CASE WHEN [Dimension Code] = 'ITEM CATEGORY' THEN [Dimension Value Code] ELSE NULL END AS ITEM_CAT
																				  ,CASE WHEN [Dimension Code] = 'SALESMAN' THEN [Dimension Value Code] ELSE NULL END AS SALESMAN
																			FROM [AUTOJAYA].[dbo].[SP-ADJ$Dimension Set Entry]
																		) DIM
																GROUP BY DIM.DIM_ID
															) DIMS ON DIMS.DIM_ID = GLE.[Dimension Set ID]
												WHERE	GLE.[G_L Account No_] = '400.110.00' AND
														GLE.[Source Code] <> 'CLSINCOME' AND
														GLE.[Document No_] NOT LIKE 'OBAL-CLOSE%' AND
														GLE.[Document No_] NOT LIKE 'JV-SNUM%' AND
														GLE.[Posting Date] <=  (CAST((CAST($P{Tahun} as varchar(4))+'-12-31') AS datetime))
												GROUP BY DIMS.BRANCHES
											) UMX
									GROUP BY UMX.BRANCHES
									UNION ALL
									SELECT	'OS1' AS GROUP_ITEM_CAT
											,'Uang Muka' AS ITEM_CAT
											, XXX.BRANCHES
											, XXX.AMOUNT_UM_IDR AS AMOUNT
									FROM	(
												SELECT	'AUTOJAYA' AS COMPANY
														, XY.BRANCHES
														, XY.CUST_CODE
														, XY.ORDER_DATE
														, XY.STATUS_SO
														, XY.NO_PO_CUST
														, XY.REV_YEAR
														, CASE WHEN XY.AMOUNT_IDR_TTL = 0 THEN
															(XY.AMOUNT_IDR - XY.UM_AMOUNT_IDR)
															ELSE
															(XY.AMOUNT_IDR - ((XY.UM_AMOUNT_IDR*XY.AMOUNT_IDR)/(XY.AMOUNT_IDR_TTL)))
															END AS AMOUNT_IDR
														, CASE WHEN XY.AMOUNT_IDR_TTL = 0 THEN
															(XY.UM_AMOUNT_IDR)
															ELSE
															(((XY.UM_AMOUNT_IDR*XY.AMOUNT_IDR)/(XY.AMOUNT_IDR_TTL)))
															END AS AMOUNT_UM_IDR
														, CASE WHEN XY.AMOUNT_IDR_TTL = 0 THEN
															(XY.AMOUNT - XY.UM_AMOUNT)
															ELSE
															(XY.AMOUNT - ((XY.UM_AMOUNT*XY.AMOUNT) /(XY.AMOUNT_TTL)))
															END AS AMOUNT
												FROM	(
															SELECT SH.[No_] AS NO_SO
																	, SUBSTRING( SH.[No_], 1, 4) AS TIPE
																	, CASE WHEN SH.[Shortcut Dimension 1 Code] = '' THEN '10' ELSE ISNULL(SH.[Shortcut Dimension 1 Code],'10') END AS BRANCHES
																	, SH.[Bill-to Customer No_] AS CUST_CODE
																	, SH.[Order Date] AS ORDER_DATE
																	, CASE	WHEN SH.[Status] = 0 THEN 'OPEN'
																			WHEN SH.[Status] = 1 THEN 'RELEASED'
																			WHEN SH.[Status] = 2 THEN 'PENDING APPROVAL'
																			WHEN SH.[Status] = 3 THEN 'RELEASED'
																			ELSE '' END AS STATUS_SO
																	, SH.[External Document No_] AS NO_PO_CUST
																	, ISNULL(CASE WHEN SH.[Currency Code] <> '' THEN ROUND(SL.AMOUNT / SH.[Currency Factor],0) ELSE SL.AMOUNT END,0) AS AMOUNT_IDR
																	, ISNULL(SL.AMOUNT,0) AS AMOUNT
																	, ISNULL(CASE WHEN SH.[Currency Code] <> '' THEN ROUND(SL2.AMOUNT_TTL / SH.[Currency Factor],0) ELSE SL2.AMOUNT_TTL END,0) AS AMOUNT_IDR_TTL
																	, ISNULL(SL2.AMOUNT_TTL,0) AS AMOUNT_TTL
																	, ISNULL(UM.UM_AMOUNT_IDR,0) AS UM_AMOUNT_IDR
																	, ISNULL(UM.UM_AMOUNT,0) AS UM_AMOUNT
																	, SH.[Package Tracking No_] AS REV_YEAR
															FROM [AUTOJAYA].[dbo].[AUTOJAYA$Sales Header] SH
															LEFT JOIN  (	SELECT X.[Document No_]
																				,SUM(X.QTY) AS QTY
																				,SUM(X.QTY_INV)AS QTY_INV
																				,SUM(X.AMOUNT) AS AMOUNT
																			FROM (
																					SELECT [Document No_]
																							, [Quantity] AS QTY
																							, [Quantity Invoiced] AS QTY_INV
																							, CASE WHEN [Quantity Invoiced] <> 0 AND [Quantity] <> [Quantity Invoiced] THEN
																								([Amount] / [Quantity]) * ([Quantity] - [Quantity Invoiced])
																							  ELSE
																								[Amount]
																							  END AS AMOUNT
																					FROM [AUTOJAYA].[dbo].[AUTOJAYA$Sales Line]
																					WHERE [Document Type] = 1 AND
																					 [Quantity] <> [Quantity Invoiced]
																				) X
																			GROUP BY X.[Document No_]
																		)SL ON SL.[Document No_] = SH.[No_]
															LEFT JOIN  (
																			SELECT [Document No_]
																				 , SUM([Amount]) AS AMOUNT_TTL
																					FROM [AUTOJAYA].[dbo].[AUTOJAYA$Sales Line]
																					WHERE [Document Type] = 1
																			GROUP BY [Document No_]
																		)SL2 ON SL2.[Document No_] = SH.[No_]
															LEFT JOIN	(
																			SELECT Y.NO_SO
																					,SUM(Y.UM_AMOUNT) AS UM_AMOUNT
																					,SUM(Y.UM_AMOUNT_IDR) AS UM_AMOUNT_IDR
																			FROM (
																					SELECT [Prepayment Order No_] AS NO_SO
																						  ,SUM(UMD.[Amount]) AS UM_AMOUNT
																						  ,CASE WHEN UMH.[Currency Code] <> '' THEN ROUND(SUM(UMD.[Amount]) / UMH.[Currency Factor],0) ELSE SUM(UMD.[Amount]) END AS UM_AMOUNT_IDR

																					FROM [AUTOJAYA].[dbo].[AUTOJAYA$Sales Invoice Header] UMH
																					INNER JOIN [AUTOJAYA].[dbo].[AUTOJAYA$Sales Invoice Line] UMD ON UMH.[No_] = UMD.[Document No_]
																					GROUP BY UMH.[Prepayment Order No_], UMH.[Currency Code], UMH.[Currency Factor]
																					UNION ALL
																					SELECT [Prepayment Order No_] AS NO_SO
																						  ,SUM(UMD.[Amount]) * -1 AS UM_AMOUNT
																						  ,CASE WHEN UMH.[Currency Code] <> '' THEN ROUND(SUM(UMD.[Amount]) / UMH.[Currency Factor],0) ELSE SUM(UMD.[Amount]) * -1 END AS UM_AMOUNT_IDR

																					FROM [AUTOJAYA].[dbo].[AUTOJAYA$Sales Cr_Memo Header] UMH
																					INNER JOIN [AUTOJAYA].[dbo].[AUTOJAYA$Sales Cr_Memo Line] UMD ON UMH.[No_] = UMD.[Document No_]
																					GROUP BY UMH.[Prepayment Order No_], UMH.[Currency Code], UMH.[Currency Factor]
																				) Y
																			GROUP BY Y.NO_SO
																		) UM ON UM.NO_SO = SH.[No_]
															WHERE SH.[Document Type] = 1
														) XY
												WHERE	(	(XY.TIPE <> 'SOAR') OR
															(SUBSTRING(CONVERT(varchar, XY.ORDER_DATE, 105), 7,4) <= SUBSTRING(CONVERT(varchar, (CAST((CAST($P{Tahun} as varchar(4))+'-12-31') AS datetime)), 105), 7,4) AND XY.TIPE = 'SOAR'))  AND
															(XY.REV_YEAR = '' OR XY.REV_YEAR = SUBSTRING(CONVERT(varchar, (CAST((CAST($P{Tahun} as varchar(4))+'-12-31') AS datetime)), 105), 7,4)) AND
															(XY.STATUS_SO = 'RELEASED')
												UNION ALL
												SELECT	'SOLUSI' AS COMPANY
														, XY.BRANCHES
														, XY.CUST_CODE
														, XY.ORDER_DATE
														, XY.STATUS_SO
														, XY.NO_PO_CUST
														, XY.REV_YEAR
														, CASE WHEN XY.AMOUNT_IDR_TTL = 0 THEN
															(XY.AMOUNT_IDR - XY.UM_AMOUNT_IDR)
															ELSE
															(XY.AMOUNT_IDR - ((XY.UM_AMOUNT_IDR*XY.AMOUNT_IDR)/(XY.AMOUNT_IDR_TTL)))
															END AS AMOUNT_IDR
														, CASE WHEN XY.AMOUNT_IDR_TTL = 0 THEN
															(XY.UM_AMOUNT_IDR)
															ELSE
															(((XY.UM_AMOUNT_IDR*XY.AMOUNT_IDR)/(XY.AMOUNT_IDR_TTL)))
															END AS AMOUNT_UM_IDR
														, CASE WHEN XY.AMOUNT_IDR_TTL = 0 THEN
															(XY.AMOUNT - XY.UM_AMOUNT)
															ELSE
															(XY.AMOUNT - ((XY.UM_AMOUNT*XY.AMOUNT) /(XY.AMOUNT_TTL)))
															END AS AMOUNT
												FROM	(
															SELECT SH.[No_] AS NO_SO
																	, SUBSTRING( SH.[No_], 1, 4) AS TIPE
																	, CASE WHEN SH.[Shortcut Dimension 1 Code] = '' THEN '10' ELSE ISNULL(SH.[Shortcut Dimension 1 Code],'10') END AS BRANCHES
																	, SH.[Bill-to Customer No_] AS CUST_CODE
																	, SH.[Order Date] AS ORDER_DATE
																	, CASE	WHEN SH.[Status] = 0 THEN 'OPEN'
																			WHEN SH.[Status] = 1 THEN 'RELEASED'
																			WHEN SH.[Status] = 2 THEN 'PENDING APPROVAL'
																			WHEN SH.[Status] = 3 THEN 'RELEASED'
																			ELSE '' END AS STATUS_SO
																	, SH.[External Document No_] AS NO_PO_CUST
																	, ISNULL(CASE WHEN SH.[Currency Code] <> '' THEN ROUND(SL.AMOUNT / SH.[Currency Factor],0) ELSE SL.AMOUNT END,0) AS AMOUNT_IDR
																	, ISNULL(SL.AMOUNT,0) AS AMOUNT
																	, ISNULL(CASE WHEN SH.[Currency Code] <> '' THEN ROUND(SL2.AMOUNT_TTL / SH.[Currency Factor],0) ELSE SL2.AMOUNT_TTL END,0) AS AMOUNT_IDR_TTL
																	, ISNULL(SL2.AMOUNT_TTL,0) AS AMOUNT_TTL
																	, ISNULL(UM.UM_AMOUNT_IDR,0) AS UM_AMOUNT_IDR
																	, ISNULL(UM.UM_AMOUNT,0) AS UM_AMOUNT
																	, SH.[Package Tracking No_] AS REV_YEAR
															FROM [AUTOJAYA].[dbo].[SOLUSI$Sales Header] SH
															INNER JOIN  (	SELECT X.[Document No_]
																				,SUM(X.QTY) AS QTY
																				,SUM(X.QTY_INV)AS QTY_INV
																				,SUM(X.AMOUNT) AS AMOUNT
																			FROM (
																					SELECT [Document No_]
																							, [Quantity] AS QTY
																							, [Quantity Invoiced] AS QTY_INV
																							, CASE WHEN [Quantity Invoiced] <> 0 AND [Quantity] <> [Quantity Invoiced] THEN
																								([Amount] / [Quantity]) * ([Quantity] - [Quantity Invoiced])
																							  ELSE
																								[Amount]
																							  END AS AMOUNT
																					FROM [AUTOJAYA].[dbo].[SOLUSI$Sales Line]
																					WHERE [Document Type] = 1 AND
																					 [Quantity] <> [Quantity Invoiced]
																				) X
																			GROUP BY X.[Document No_]
																		)SL ON SL.[Document No_] = SH.[No_]
															LEFT JOIN  (
																			SELECT [Document No_]
																				 , SUM([Amount]) AS AMOUNT_TTL
																					FROM [AUTOJAYA].[dbo].[SOLUSI$Sales Line]
																					WHERE [Document Type] = 1
																			GROUP BY [Document No_]
																		)SL2 ON SL2.[Document No_] = SH.[No_]
															LEFT JOIN	(
																			SELECT Y.NO_SO
																					,SUM(Y.UM_AMOUNT) AS UM_AMOUNT
																					,SUM(Y.UM_AMOUNT_IDR) AS UM_AMOUNT_IDR
																			FROM (
																					SELECT [Prepayment Order No_] AS NO_SO
																						  ,SUM(UMD.[Amount]) AS UM_AMOUNT
																						  ,CASE WHEN UMH.[Currency Code] <> '' THEN ROUND(SUM(UMD.[Amount]) / UMH.[Currency Factor],0) ELSE SUM(UMD.[Amount]) END AS UM_AMOUNT_IDR

																					FROM [AUTOJAYA].[dbo].[SOLUSI$Sales Invoice Header] UMH
																					INNER JOIN [AUTOJAYA].[dbo].[SOLUSI$Sales Invoice Line] UMD ON UMH.[No_] = UMD.[Document No_]
																					GROUP BY UMH.[Prepayment Order No_], UMH.[Currency Code], UMH.[Currency Factor]
																					UNION ALL
																					SELECT [Prepayment Order No_] AS NO_SO
																						  ,SUM(UMD.[Amount]) * -1 AS UM_AMOUNT
																						  ,CASE WHEN UMH.[Currency Code] <> '' THEN ROUND(SUM(UMD.[Amount]) / UMH.[Currency Factor],0) ELSE SUM(UMD.[Amount]) * -1 END AS UM_AMOUNT_IDR

																					FROM [AUTOJAYA].[dbo].[SOLUSI$Sales Cr_Memo Header] UMH
																					INNER JOIN [AUTOJAYA].[dbo].[SOLUSI$Sales Cr_Memo Line] UMD ON UMH.[No_] = UMD.[Document No_]
																					GROUP BY UMH.[Prepayment Order No_], UMH.[Currency Code], UMH.[Currency Factor]
																				) Y
																			GROUP BY Y.NO_SO
																		) UM ON UM.NO_SO = SH.[No_]
															WHERE SH.[Document Type] = 1
														) XY
												WHERE	(	(XY.TIPE <> 'SOSR') OR
															(SUBSTRING(CONVERT(varchar, XY.ORDER_DATE, 105), 7,4) <= SUBSTRING(CONVERT(varchar, (CAST((CAST($P{Tahun} as varchar(4))+'-12-31') AS datetime)), 105), 7,4) AND XY.TIPE = 'SOSR'))  AND
															(XY.REV_YEAR = '' OR XY.REV_YEAR = SUBSTRING(CONVERT(varchar, (CAST((CAST($P{Tahun} as varchar(4))+'-12-31') AS datetime)), 105), 7,4)) AND
															(XY.STATUS_SO = 'RELEASED')
											) XXX
									WHERE	XXX.NO_PO_CUST NOT LIKE '%OTP%' AND XXX.NO_PO_CUST NOT LIKE 'BOOKING%'
											AND XXX.CUST_CODE NOT IN ('AUJA001' , 'AUJA002', 'SOPE001')
								) OSO
						GROUP BY OSO.BRANCHES
						UNION ALL
						SELECT	3 AS GROUP_NO
								,'Outstanding SO (as per Today)' AS GROUP_DESC
								, OSO.BRANCHES
								, CASE WHEN $P{Tahun} < DATEPART(year, GETDATE()) THEN 0 ELSE (SUM(OSO.AMOUNT)) END AS AMOUNT
						FROM	(
									SELECT	XXX.BRANCHES
											, XXX.AMOUNT_IDR AS AMOUNT
									FROM	(
												SELECT	'AUTOJAYA' AS COMPANY
														, XY.NO_SO
														, XY.TIPE
														, XY.BRANCHES
														, XY.CUST_CODE
														, XY.ORDER_DATE
														, XY.STATUS_SO
														, XY.NO_PO_CUST
														, XY.SO_YEAR
														, XY.REV_YEAR
														, CASE WHEN XY.AMOUNT_IDR_TTL = 0 THEN
															(XY.AMOUNT_IDR - XY.UM_AMOUNT_IDR)
															ELSE
																(XY.AMOUNT_IDR - ((XY.UM_AMOUNT_IDR*XY.AMOUNT_IDR)/(XY.AMOUNT_IDR_TTL)))
															END AS AMOUNT_IDR
														, CASE WHEN XY.AMOUNT_IDR_TTL = 0 THEN
															(XY.AMOUNT - XY.UM_AMOUNT)
															ELSE
															(XY.AMOUNT - ((XY.UM_AMOUNT*XY.AMOUNT) /(XY.AMOUNT_TTL)))
															END AS AMOUNT
												FROM	(
															SELECT SH.[No_] AS NO_SO
																	, CASE WHEN SUBSTRING( SH.[No_], 1, 4) = 'SOAS' THEN 'SC' ELSE
																		CASE WHEN SUBSTRING( SH.[No_], 1, 2) IN ('8S','9S') THEN 'AI' ELSE
																			CASE WHEN SUBSTRING( SH.[No_], 1, 2) IN ('7S') THEN 'LZ' ELSE 'TD' END
																		END
																	  END AS TIPE
																	, SUBSTRING( SH.[No_], 1, 4) AS TIPE_2
																	, CASE WHEN SH.[Location Code] = '' THEN 'HO-TD' ELSE SH.[Location Code] END AS LOC_CODE
																	, CASE WHEN SH.[Shortcut Dimension 1 Code] = '' THEN '10' ELSE ISNULL(SH.[Shortcut Dimension 1 Code],'10') END AS BRANCHES
																	, CASE WHEN SH.[Salesperson Code] = '' THEN '.' ELSE SH.[Salesperson Code] END AS SALES_CODE
																	, SH.[Bill-to Customer No_] AS CUST_CODE
																	, SH.[Order Date] AS ORDER_DATE
																	, SUBSTRING(CONVERT(varchar, SH.[Order Date], 105), 7,4) AS SO_YEAR
																	, CASE	WHEN SH.[Status] = 0 THEN 'OPEN'
																			WHEN SH.[Status] = 1 THEN 'RELEASED'
																			WHEN SH.[Status] = 2 THEN 'PENDING APPROVAL'
																			WHEN SH.[Status] = 3 THEN 'RELEASED'
																			ELSE '' END AS STATUS_SO
																	, SH.[External Document No_] AS NO_PO_CUST
																	, ISNULL(CASE WHEN SH.[Currency Code] <> '' THEN ROUND(SL.AMOUNT / SH.[Currency Factor],0) ELSE SL.AMOUNT END,0) AS AMOUNT_IDR
																	, ISNULL(SL.AMOUNT,0) AS AMOUNT
																	, ISNULL(CASE WHEN SH.[Currency Code] <> '' THEN ROUND(SL2.AMOUNT_TTL / SH.[Currency Factor],0) ELSE SL2.AMOUNT_TTL END,0) AS AMOUNT_IDR_TTL
																	, ISNULL(SL2.AMOUNT_TTL,0) AS AMOUNT_TTL
																	, ISNULL(UM.UM_AMOUNT_IDR,0) AS UM_AMOUNT_IDR
																	, ISNULL(UM.UM_AMOUNT,0) AS UM_AMOUNT
																	, SH.[Package Tracking No_] AS REV_YEAR
															FROM [AUTOJAYA].[dbo].[AUTOJAYA$Sales Header] SH
															LEFT JOIN  (	SELECT X.[Document No_]
																				,SUM(X.QTY) AS QTY
																				,SUM(X.QTY_INV)AS QTY_INV
																				,SUM(X.AMOUNT) AS AMOUNT
																			FROM (
																					SELECT [Document No_]
																							, [Quantity] AS QTY
																							, [Quantity Invoiced] AS QTY_INV
																							, CASE WHEN [Quantity Invoiced] <> 0 AND [Quantity] <> [Quantity Invoiced] THEN
																								([Amount] / [Quantity]) * ([Quantity] - [Quantity Invoiced])
																							  ELSE
																								[Amount]
																							  END AS AMOUNT
																					FROM [AUTOJAYA].[dbo].[AUTOJAYA$Sales Line]
																					WHERE [Document Type] = 1 AND
																					 [Quantity] <> [Quantity Invoiced]
																				) X
																			GROUP BY X.[Document No_]
																		)SL ON SL.[Document No_] = SH.[No_]
															LEFT JOIN  (
																			SELECT [Document No_]
																				 , SUM([Amount]) AS AMOUNT_TTL
																					FROM [AUTOJAYA].[dbo].[AUTOJAYA$Sales Line]
																					WHERE [Document Type] = 1
																			GROUP BY [Document No_]
																		)SL2 ON SL2.[Document No_] = SH.[No_]
															LEFT JOIN	(
																			SELECT Y.NO_SO
																					,SUM(Y.UM_AMOUNT) AS UM_AMOUNT
																					,SUM(Y.UM_AMOUNT_IDR) AS UM_AMOUNT_IDR
																			FROM (
																					SELECT [Prepayment Order No_] AS NO_SO
																						  ,SUM(UMD.[Amount]) AS UM_AMOUNT
																						  ,CASE WHEN UMH.[Currency Code] <> '' THEN ROUND(SUM(UMD.[Amount]) / UMH.[Currency Factor],0) ELSE SUM(UMD.[Amount]) END AS UM_AMOUNT_IDR

																					FROM [AUTOJAYA].[dbo].[AUTOJAYA$Sales Invoice Header] UMH
																					INNER JOIN [AUTOJAYA].[dbo].[AUTOJAYA$Sales Invoice Line] UMD ON UMH.[No_] = UMD.[Document No_]
																					GROUP BY UMH.[Prepayment Order No_], UMH.[Currency Code], UMH.[Currency Factor]
																					UNION ALL
																					SELECT [Prepayment Order No_] AS NO_SO
																						  ,SUM(UMD.[Amount]) * -1 AS UM_AMOUNT
																						  ,CASE WHEN UMH.[Currency Code] <> '' THEN ROUND(SUM(UMD.[Amount]) / UMH.[Currency Factor],0) ELSE SUM(UMD.[Amount]) * -1 END AS UM_AMOUNT_IDR

																					FROM [AUTOJAYA].[dbo].[AUTOJAYA$Sales Cr_Memo Header] UMH
																					INNER JOIN [AUTOJAYA].[dbo].[AUTOJAYA$Sales Cr_Memo Line] UMD ON UMH.[No_] = UMD.[Document No_]
																					GROUP BY UMH.[Prepayment Order No_], UMH.[Currency Code], UMH.[Currency Factor]
																				) Y
																			GROUP BY Y.NO_SO
																		) UM ON UM.NO_SO = SH.[No_]
															WHERE SH.[Document Type] = 1
														) XY
												WHERE
														(	(
																($P{Tahun} <= SUBSTRING(CONVERT(varchar, getdate(), 105), 7,4)) AND
																(XY.SO_YEAR <= SUBSTRING(CONVERT(varchar, getdate(), 105), 7,4)) AND
																(XY.REV_YEAR = '' OR (XY.REV_YEAR >= $P{Tahun} AND XY.REV_YEAR <= $P{Tahun}))
															) OR
															(
																($P{Tahun} > SUBSTRING(CONVERT(varchar, getdate(), 105), 7,4)) AND
																(
																	(
																		XY.TIPE_2 <> 'SOAR' AND
																		(
																			($P{Tahun} <= SUBSTRING(CONVERT(varchar, getdate(), 105), 7,4)) AND
																			(XY.REV_YEAR = '' OR (XY.REV_YEAR >= $P{Tahun} AND XY.REV_YEAR <= $P{Tahun}))
																		) OR
																		(
																			($P{Tahun} > SUBSTRING(CONVERT(varchar, getdate(), 105), 7,4)) AND
																			((XY.REV_YEAR >= $P{Tahun} AND XY.REV_YEAR <= $P{Tahun}))
																		)
																	) OR
																	(
																		XY.TIPE_2 = 'SOAR' AND
																		(XY.SO_YEAR >= $P{Tahun} AND XY.SO_YEAR <= $P{Tahun}) AND
																		(XY.REV_YEAR = '' OR (XY.REV_YEAR >= $P{Tahun} AND XY.REV_YEAR <= $P{Tahun}))
																	)
																)
															)
														)  AND
														XY.STATUS_SO = 'RELEASED'
												UNION ALL
												SELECT	'SOLUSI' AS COMPANY
														, XY.NO_SO
														, XY.TIPE
														, XY.BRANCHES
														, XY.CUST_CODE
														, XY.ORDER_DATE
														, XY.STATUS_SO
														, XY.NO_PO_CUST
														, XY.SO_YEAR
														, XY.REV_YEAR
														, CASE WHEN XY.AMOUNT_IDR_TTL = 0 THEN
															(XY.AMOUNT_IDR - XY.UM_AMOUNT_IDR)
															ELSE
																(XY.AMOUNT_IDR - ((XY.UM_AMOUNT_IDR*XY.AMOUNT_IDR)/(XY.AMOUNT_IDR_TTL)))
															END AS AMOUNT_IDR
														, CASE WHEN XY.AMOUNT_IDR_TTL = 0 THEN
															(XY.AMOUNT - XY.UM_AMOUNT)
															ELSE
															(XY.AMOUNT - ((XY.UM_AMOUNT*XY.AMOUNT) /(XY.AMOUNT_TTL)))
															END AS AMOUNT
												FROM	(
															SELECT SH.[No_] AS NO_SO
																	, CASE WHEN SUBSTRING( SH.[No_], 1, 4) = 'SOAS' THEN 'SC' ELSE
																		CASE WHEN SUBSTRING( SH.[No_], 1, 2) IN ('8S','9S') THEN 'AI' ELSE
																			CASE WHEN SUBSTRING( SH.[No_], 1, 2) IN ('7S') THEN 'LZ' ELSE 'TD' END
																		END
																	  END AS TIPE
																	, SUBSTRING( SH.[No_], 1, 4) AS TIPE_2
																	, CASE WHEN SH.[Location Code] = '' THEN 'HO-TD' ELSE SH.[Location Code] END AS LOC_CODE
																	, CASE WHEN SH.[Shortcut Dimension 1 Code] = '' THEN '10' ELSE ISNULL(SH.[Shortcut Dimension 1 Code],'10') END AS BRANCHES
																	, CASE WHEN SH.[Salesperson Code] = '' THEN '.' ELSE SH.[Salesperson Code] END AS SALES_CODE
																	, SH.[Bill-to Customer No_] AS CUST_CODE
																	, SH.[Order Date] AS ORDER_DATE
																	, SUBSTRING(CONVERT(varchar, SH.[Order Date], 105), 7,4) AS SO_YEAR
																	, CASE	WHEN SH.[Status] = 0 THEN 'OPEN'
																			WHEN SH.[Status] = 1 THEN 'RELEASED'
																			WHEN SH.[Status] = 2 THEN 'PENDING APPROVAL'
																			WHEN SH.[Status] = 3 THEN 'RELEASED'
																			ELSE '' END AS STATUS_SO
																	, SH.[External Document No_] AS NO_PO_CUST
																	, ISNULL(CASE WHEN SH.[Currency Code] <> '' THEN ROUND(SL.AMOUNT / SH.[Currency Factor],0) ELSE SL.AMOUNT END,0) AS AMOUNT_IDR
																	, ISNULL(SL.AMOUNT,0) AS AMOUNT
																	, ISNULL(CASE WHEN SH.[Currency Code] <> '' THEN ROUND(SL2.AMOUNT_TTL / SH.[Currency Factor],0) ELSE SL2.AMOUNT_TTL END,0) AS AMOUNT_IDR_TTL
																	, ISNULL(SL2.AMOUNT_TTL,0) AS AMOUNT_TTL
																	, ISNULL(UM.UM_AMOUNT_IDR,0) AS UM_AMOUNT_IDR
																	, ISNULL(UM.UM_AMOUNT,0) AS UM_AMOUNT
																	, SH.[Package Tracking No_] AS REV_YEAR
															FROM [AUTOJAYA].[dbo].[SOLUSI$Sales Header] SH
															INNER JOIN  (	SELECT X.[Document No_]
																				,SUM(X.QTY) AS QTY
																				,SUM(X.QTY_INV)AS QTY_INV
																				,SUM(X.AMOUNT) AS AMOUNT
																			FROM (
																					SELECT [Document No_]
																							, [Quantity] AS QTY
																							, [Quantity Invoiced] AS QTY_INV
																							, CASE WHEN [Quantity Invoiced] <> 0 AND [Quantity] <> [Quantity Invoiced] THEN
																								([Amount] / [Quantity]) * ([Quantity] - [Quantity Invoiced])
																							  ELSE
																								[Amount]
																							  END AS AMOUNT
																					FROM [AUTOJAYA].[dbo].[SOLUSI$Sales Line]
																					WHERE [Document Type] = 1 AND
																					 [Quantity] <> [Quantity Invoiced]
																				) X
																			GROUP BY X.[Document No_]
																		)SL ON SL.[Document No_] = SH.[No_]
															LEFT JOIN  (
																			SELECT [Document No_]
																				 , SUM([Amount]) AS AMOUNT_TTL
																					FROM [AUTOJAYA].[dbo].[SOLUSI$Sales Line]
																					WHERE [Document Type] = 1
																			GROUP BY [Document No_]
																		)SL2 ON SL2.[Document No_] = SH.[No_]
															LEFT JOIN	(
																			SELECT Y.NO_SO
																					,SUM(Y.UM_AMOUNT) AS UM_AMOUNT
																					,SUM(Y.UM_AMOUNT_IDR) AS UM_AMOUNT_IDR
																			FROM (
																					SELECT [Prepayment Order No_] AS NO_SO
																						  ,SUM(UMD.[Amount]) AS UM_AMOUNT
																						  ,CASE WHEN UMH.[Currency Code] <> '' THEN ROUND(SUM(UMD.[Amount]) / UMH.[Currency Factor],0) ELSE SUM(UMD.[Amount]) END AS UM_AMOUNT_IDR

																					FROM [AUTOJAYA].[dbo].[SOLUSI$Sales Invoice Header] UMH
																					INNER JOIN [AUTOJAYA].[dbo].[SOLUSI$Sales Invoice Line] UMD ON UMH.[No_] = UMD.[Document No_]
																					GROUP BY UMH.[Prepayment Order No_], UMH.[Currency Code], UMH.[Currency Factor]
																					UNION ALL
																					SELECT [Prepayment Order No_] AS NO_SO
																						  ,SUM(UMD.[Amount]) * -1 AS UM_AMOUNT
																						  ,CASE WHEN UMH.[Currency Code] <> '' THEN ROUND(SUM(UMD.[Amount]) / UMH.[Currency Factor],0) ELSE SUM(UMD.[Amount]) * -1 END AS UM_AMOUNT_IDR

																					FROM [AUTOJAYA].[dbo].[SOLUSI$Sales Cr_Memo Header] UMH
																					INNER JOIN [AUTOJAYA].[dbo].[SOLUSI$Sales Cr_Memo Line] UMD ON UMH.[No_] = UMD.[Document No_]
																					GROUP BY UMH.[Prepayment Order No_], UMH.[Currency Code], UMH.[Currency Factor]
																				) Y
																			GROUP BY Y.NO_SO
																		) UM ON UM.NO_SO = SH.[No_]
															LEFT JOIN [AUTOJAYA].[dbo].[SOLUSI$Responsibility Center] CAB ON CAB.[Code] = SH.[Shortcut Dimension 1 Code]
															LEFT JOIN [AUTOJAYA].[dbo].[SOLUSI$Salesperson_Purchaser] SLS ON SLS.[Code] = SH.[Salesperson Code]
															WHERE SH.[Document Type] = 1
														) XY
												WHERE
														(	(
																($P{Tahun} <= SUBSTRING(CONVERT(varchar, getdate(), 105), 7,4)) AND
																(XY.SO_YEAR <= SUBSTRING(CONVERT(varchar, getdate(), 105), 7,4)) AND
																(XY.REV_YEAR = '' OR (XY.REV_YEAR >= $P{Tahun} AND XY.REV_YEAR <= $P{Tahun}))
															) OR
															(
																($P{Tahun} > SUBSTRING(CONVERT(varchar, getdate(), 105), 7,4)) AND
																(
																	(
																		XY.TIPE_2 <> 'SOSR' AND
																		(
																			($P{Tahun} <= SUBSTRING(CONVERT(varchar, getdate(), 105), 7,4)) AND
																			(XY.REV_YEAR = '' OR (XY.REV_YEAR >= $P{Tahun} AND XY.REV_YEAR <= $P{Tahun}))
																		) OR
																		(
																			($P{Tahun} > SUBSTRING(CONVERT(varchar, getdate(), 105), 7,4)) AND
																			((XY.REV_YEAR >= $P{Tahun} AND XY.REV_YEAR <= $P{Tahun}))
																		)
																	) OR
																	(
																		XY.TIPE_2 = 'SOSR' AND
																		(XY.SO_YEAR >= $P{Tahun} AND XY.SO_YEAR <= $P{Tahun}) AND
																		(XY.REV_YEAR = '' OR (XY.REV_YEAR >= $P{Tahun} AND XY.REV_YEAR <= $P{Tahun}))
																	)
																)
															)
														)  AND
														XY.STATUS_SO = 'RELEASED'
											) XXX
									WHERE	XXX.NO_PO_CUST NOT LIKE '%OTP%' AND
											XXX.NO_PO_CUST NOT LIKE 'BOOKING%'AND
											XXX.CUST_CODE NOT IN ('AUJA001' , 'AUJA002', 'SOPE001') AND
											XXX.NO_SO NOT IN ('SOST150107', 'SOST150657', 'HW15 C 000000274')
								) OSO
						GROUP BY OSO.BRANCHES
					) SRV
			GROUP BY SRV.BRANCHES
		) FBR
LEFT JOIN [AUTOJAYA].[dbo].[AUTOJAYA$Responsibility Center] CAB ON CAB.[Code] = FBR.BRANCHES
GROUP BY FBR.BRANCHES, CAB.[Name]
		) XI]]>
	</queryString>
	<field name="GRP" class="java.lang.Integer"/>
	<field name="CABANG" class="java.lang.String"/>
	<field name="CABANG_NAMA" class="java.lang.String"/>
	<field name="AMOUNT_TARGET" class="java.math.BigDecimal"/>
	<field name="AMOUNT_REALISASI" class="java.math.BigDecimal"/>
	<field name="AMOUNT_POTENSI" class="java.math.BigDecimal"/>
	<field name="AMOUNT_POTENSI_Q1" class="java.math.BigDecimal"/>
	<field name="AMOUNT_POTENSI_Q2" class="java.math.BigDecimal"/>
	<field name="AMOUNT_POTENSI_Q3" class="java.math.BigDecimal"/>
	<field name="AMOUNT_POTENSI_Q4" class="java.math.BigDecimal"/>
	<field name="AMOUNT_TOTAL" class="java.math.BigDecimal"/>
	<field name="AMOUNT_FINAL" class="java.math.BigDecimal"/>
	<field name="PCN_FINAL" class="java.math.BigDecimal"/>
	<field name="CURR_Q" class="java.lang.Integer"/>
	<sortField name="CABANG"/>
	<variable name="AMOUNT_TARGET_1" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$F{AMOUNT_TARGET}]]></variableExpression>
	</variable>
	<variable name="AMOUNT_REALISASI_1" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$F{AMOUNT_REALISASI}]]></variableExpression>
	</variable>
	<variable name="AMOUNT_POTENSI_1" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$F{AMOUNT_POTENSI}]]></variableExpression>
	</variable>
	<variable name="AMOUNT_TOTAL_1" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$F{AMOUNT_TOTAL}]]></variableExpression>
	</variable>
	<variable name="AMOUNT_FINAL_1" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$F{AMOUNT_FINAL}]]></variableExpression>
	</variable>
	<variable name="Pcn" class="java.math.BigDecimal">
		<variableExpression><![CDATA[( $V{AMOUNT_TARGET_1} == 0.00 ? 100 : (($V{AMOUNT_FINAL_1}/$V{AMOUNT_TARGET_1}) * 100) )]]></variableExpression>
		<initialValueExpression><![CDATA[( $V{AMOUNT_TARGET_1} == 0.00 ? 100 : (($V{AMOUNT_FINAL_1}/$V{AMOUNT_TARGET_1}) * 100) )]]></initialValueExpression>
	</variable>
	<variable name="AMOUNT_POTENSI_Q4_1" class="java.math.BigDecimal" resetType="Group" resetGroup="GRP" calculation="Sum">
		<variableExpression><![CDATA[$F{AMOUNT_POTENSI_Q4}]]></variableExpression>
	</variable>
	<variable name="AMOUNT_POTENSI_Q3_1" class="java.math.BigDecimal" resetType="Group" resetGroup="GRP" calculation="Sum">
		<variableExpression><![CDATA[$F{AMOUNT_POTENSI_Q3}]]></variableExpression>
	</variable>
	<variable name="AMOUNT_POTENSI_Q2_1" class="java.math.BigDecimal" resetType="Group" resetGroup="GRP" calculation="Sum">
		<variableExpression><![CDATA[$F{AMOUNT_POTENSI_Q2}]]></variableExpression>
	</variable>
	<variable name="AMOUNT_POTENSI_Q1_1" class="java.math.BigDecimal" resetType="Group" resetGroup="GRP" calculation="Sum">
		<variableExpression><![CDATA[$F{AMOUNT_POTENSI_Q1}]]></variableExpression>
	</variable>
	<variable name="vPotensial" class="java.lang.String">
		<variableExpression><![CDATA[( $P{Potensi}.equals( "1" ) == true? "75%"  : ($P{Potensi}.equals( "0" ) == true ? "Unknown" : "ALL") )]]></variableExpression>
		<initialValueExpression><![CDATA[( $P{Potensi}.equals( "1" ) == true? "75%"  : ($P{Potensi}.equals( "0" ) == true ? "Unknown" : "ALL") )]]></initialValueExpression>
	</variable>
	<variable name="pSize" class="java.lang.String">
		<variableExpression><![CDATA[( $P{Size}.equals( "B" ) == true? "Big Project"  : ($P{Size}.equals( "R" ) == true ? "Regular" : "ALL") )]]></variableExpression>
		<initialValueExpression><![CDATA[( $P{Size}.equals( "B" ) == true? "Big Project"  : ($P{Size}.equals( "R" ) == true ? "Regular" : "ALL") )]]></initialValueExpression>
	</variable>
	<group name="GRP">
		<groupExpression><![CDATA[$F{GRP}]]></groupExpression>
		<groupHeader>
			<band height="14">
				<printWhenExpression><![CDATA[$F{CURR_Q}.equals( 4 ) == true]]></printWhenExpression>
				<staticText>
					<reportElement x="300" y="0" width="75" height="14" uuid="91f9f640-691d-4ea4-bce3-98270044ec99"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<text><![CDATA[TOTAL]]></text>
				</staticText>
				<staticText>
					<reportElement x="225" y="0" width="75" height="14" uuid="a1cd27ce-86ac-482c-ab11-8ab3099565a3"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<text><![CDATA[POTENSI Q4]]></text>
				</staticText>
				<staticText>
					<reportElement x="0" y="0" width="75" height="14" uuid="98794fe6-4a0a-4a16-9fd1-c8d9aab77108"/>
					<textElement>
						<font size="8"/>
					</textElement>
					<text><![CDATA[CABANG]]></text>
				</staticText>
				<staticText>
					<reportElement x="375" y="0" width="75" height="14" uuid="d0314faa-03a2-4d92-beef-eeb4285f7c51"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<text><![CDATA[OVER/(DEFICIT)]]></text>
				</staticText>
				<staticText>
					<reportElement x="75" y="0" width="75" height="14" uuid="9a48bc1d-fbf7-4167-8dab-9d7cd8ae20cf"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<text><![CDATA[TARGET]]></text>
				</staticText>
				<staticText>
					<reportElement x="450" y="0" width="56" height="14" uuid="a5b62b7e-efd5-456e-865d-f48e371a852a"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<text><![CDATA[%]]></text>
				</staticText>
				<staticText>
					<reportElement x="150" y="0" width="75" height="14" uuid="85648c97-5be0-4697-823b-acfe0d5bb918"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<text><![CDATA[REALISASI]]></text>
				</staticText>
			</band>
			<band height="14">
				<printWhenExpression><![CDATA[$F{CURR_Q}.equals( 3 ) == true]]></printWhenExpression>
				<staticText>
					<reportElement x="300" y="0" width="75" height="14" uuid="bf54674f-170b-4f24-9b9c-a359e889d3a4"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<text><![CDATA[POTENSI Q4]]></text>
				</staticText>
				<staticText>
					<reportElement x="75" y="0" width="75" height="14" uuid="41c95b08-4734-44f8-8a6f-6ad2aa45acd0"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<text><![CDATA[TARGET]]></text>
				</staticText>
				<staticText>
					<reportElement x="0" y="0" width="75" height="14" uuid="4526e8a0-2471-4117-bda4-8d42f632df15"/>
					<textElement>
						<font size="8"/>
					</textElement>
					<text><![CDATA[CABANG]]></text>
				</staticText>
				<staticText>
					<reportElement x="150" y="0" width="75" height="14" uuid="6fdcf269-f0cd-4e8d-9154-ef7e2dcaac2e"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<text><![CDATA[REALISASI]]></text>
				</staticText>
				<staticText>
					<reportElement x="450" y="0" width="75" height="14" uuid="db1e66c4-b7a4-40b3-b958-5f95aacd0f09"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<text><![CDATA[OVER/(DEFICIT)]]></text>
				</staticText>
				<staticText>
					<reportElement x="375" y="0" width="75" height="14" uuid="d7cc9606-c49b-497b-ba78-18d4b4088c79"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<text><![CDATA[TOTAL]]></text>
				</staticText>
				<staticText>
					<reportElement x="525" y="0" width="56" height="14" uuid="84cc82ad-7d58-4664-a220-33e63d02fe55"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<text><![CDATA[%]]></text>
				</staticText>
				<staticText>
					<reportElement x="225" y="0" width="75" height="14" uuid="0f3766e5-704d-471e-bb63-c3e091de8f51"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<text><![CDATA[POTENSI Q3]]></text>
				</staticText>
			</band>
			<band height="14">
				<printWhenExpression><![CDATA[$F{CURR_Q}.equals( 2 ) == true]]></printWhenExpression>
				<staticText>
					<reportElement x="375" y="0" width="75" height="14" uuid="a9889ad1-c4b1-4718-8152-c61dc2b7cf9d"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<text><![CDATA[POTENSI Q4]]></text>
				</staticText>
				<staticText>
					<reportElement x="75" y="0" width="75" height="14" uuid="e2f66dc6-461c-4864-a168-ad33bfae1a62"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<text><![CDATA[TARGET]]></text>
				</staticText>
				<staticText>
					<reportElement x="0" y="0" width="75" height="14" uuid="d91c85bc-adab-426f-aee6-c5e6ec2b6465"/>
					<textElement>
						<font size="8"/>
					</textElement>
					<text><![CDATA[CABANG]]></text>
				</staticText>
				<staticText>
					<reportElement x="150" y="0" width="75" height="14" uuid="5cd495f5-3d6b-49c6-8684-923616b464ba"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<text><![CDATA[REALISASI]]></text>
				</staticText>
				<staticText>
					<reportElement x="525" y="0" width="75" height="14" uuid="79b600bc-896c-4d5c-9f6f-4a5fc687e35c"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<text><![CDATA[OVER/(DEFICIT)]]></text>
				</staticText>
				<staticText>
					<reportElement x="450" y="0" width="75" height="14" uuid="71d2f2c3-1bdf-48dc-a72d-032fa91902aa"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<text><![CDATA[TOTAL]]></text>
				</staticText>
				<staticText>
					<reportElement x="600" y="0" width="56" height="14" uuid="d0f756d2-e41d-46e2-9e22-9ece18997a44"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<text><![CDATA[%]]></text>
				</staticText>
				<staticText>
					<reportElement x="300" y="0" width="75" height="14" uuid="66e679e7-25c1-4443-bf5b-38bba408fcb1"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<text><![CDATA[POTENSI Q3]]></text>
				</staticText>
				<staticText>
					<reportElement x="225" y="0" width="75" height="14" uuid="8bfc7608-742c-46f9-9be1-05606b9342d2"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<text><![CDATA[POTENSI Q2]]></text>
				</staticText>
			</band>
			<band height="14">
				<printWhenExpression><![CDATA[$F{CURR_Q}.equals( 1 ) == true]]></printWhenExpression>
				<staticText>
					<reportElement x="450" y="0" width="75" height="14" uuid="af138a89-589a-497a-83c8-9baf1c508118"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<text><![CDATA[POTENSI Q4]]></text>
				</staticText>
				<staticText>
					<reportElement x="75" y="0" width="75" height="14" uuid="ad2d7607-bbf4-4b8f-99ab-05429340bbf0"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<text><![CDATA[TARGET]]></text>
				</staticText>
				<staticText>
					<reportElement x="0" y="0" width="75" height="14" uuid="e973f013-3110-4264-a483-d19c4ee86b84"/>
					<textElement>
						<font size="8"/>
					</textElement>
					<text><![CDATA[CABANG]]></text>
				</staticText>
				<staticText>
					<reportElement x="150" y="0" width="75" height="14" uuid="594b7df9-8bbe-4065-9d94-f07bc8a16bcc"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<text><![CDATA[REALISASI]]></text>
				</staticText>
				<staticText>
					<reportElement x="600" y="0" width="75" height="14" uuid="cca82c97-8fba-4a1b-bf0f-62db1c26e4e2"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<text><![CDATA[OVER/(DEFICIT)]]></text>
				</staticText>
				<staticText>
					<reportElement x="525" y="0" width="75" height="14" uuid="bcdc5bfb-adc8-4132-b5e8-61c87bb0be45"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<text><![CDATA[TOTAL]]></text>
				</staticText>
				<staticText>
					<reportElement x="675" y="0" width="56" height="14" uuid="62cc4999-7683-4344-88b2-6c337001c135"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<text><![CDATA[%]]></text>
				</staticText>
				<staticText>
					<reportElement x="375" y="0" width="75" height="14" uuid="ce9dca07-58d9-4f2e-8125-be19c75e0cfb"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<text><![CDATA[POTENSI Q3]]></text>
				</staticText>
				<staticText>
					<reportElement x="300" y="0" width="75" height="14" uuid="742518f4-61fa-47b4-acac-8ae81c0697a2"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<text><![CDATA[POTENSI Q2]]></text>
				</staticText>
				<staticText>
					<reportElement x="225" y="0" width="75" height="14" uuid="795b4449-8b68-41bb-a3cb-d8b3580a4226"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<text><![CDATA[POTENSI Q1]]></text>
				</staticText>
			</band>
		</groupHeader>
		<groupFooter>
			<band height="14">
				<printWhenExpression><![CDATA[$F{CURR_Q}.equals( 4 ) == true]]></printWhenExpression>
				<staticText>
					<reportElement x="0" y="0" width="75" height="14" uuid="a6b0a8af-417d-436c-bf4a-1c65017795cb"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<text><![CDATA[TOTAL]]></text>
				</staticText>
				<textField pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
					<reportElement x="75" y="0" width="75" height="14" uuid="26365bb2-f907-4ce5-b2a5-d70132214720"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{AMOUNT_TARGET_1}]]></textFieldExpression>
				</textField>
				<textField pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
					<reportElement x="150" y="0" width="75" height="14" uuid="54c56b0f-d23d-49aa-bb37-901577f36e36"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{AMOUNT_REALISASI_1}]]></textFieldExpression>
				</textField>
				<textField pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
					<reportElement x="300" y="0" width="75" height="14" uuid="2e947215-dc43-44b0-a698-54d7e6429f3d"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{AMOUNT_TOTAL_1}]]></textFieldExpression>
				</textField>
				<textField pattern="#,###.##;(#,###.##)" isBlankWhenNull="true">
					<reportElement x="375" y="0" width="75" height="14" uuid="d6c135de-c504-468c-b56a-510d4b574a5a"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{AMOUNT_FINAL_1}]]></textFieldExpression>
				</textField>
				<textField pattern="##0.00;(##0.00)" isBlankWhenNull="true">
					<reportElement x="450" y="0" width="56" height="14" uuid="2a443dc8-a30b-4555-bd8b-c6bf0ec30ed9"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{Pcn}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
					<reportElement x="225" y="0" width="75" height="14" isPrintWhenDetailOverflows="true" uuid="2be92abd-f1b6-405e-b7f9-57a0de3e13b0"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{AMOUNT_POTENSI_Q4_1}]]></textFieldExpression>
				</textField>
			</band>
			<band height="14">
				<printWhenExpression><![CDATA[$F{CURR_Q}.equals( 3 ) == true]]></printWhenExpression>
				<staticText>
					<reportElement x="0" y="0" width="75" height="14" uuid="f912288a-2b71-4c49-9ad9-d6415206e5fe"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<text><![CDATA[TOTAL]]></text>
				</staticText>
				<textField pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
					<reportElement x="75" y="0" width="75" height="14" uuid="0ca39933-c39c-4c6a-a635-74bad63129ac"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{AMOUNT_TARGET_1}]]></textFieldExpression>
				</textField>
				<textField pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
					<reportElement x="150" y="0" width="75" height="14" uuid="64767a94-db00-4716-8e63-2c7d22941e1f"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{AMOUNT_REALISASI_1}]]></textFieldExpression>
				</textField>
				<textField pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
					<reportElement x="375" y="0" width="75" height="14" uuid="449c6cb7-5b74-41e0-9759-d4f89e19ffe6"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{AMOUNT_TOTAL_1}]]></textFieldExpression>
				</textField>
				<textField pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
					<reportElement x="450" y="0" width="75" height="14" uuid="1130e58f-066f-4696-bf77-d87cf390d1b3"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{AMOUNT_FINAL_1}]]></textFieldExpression>
				</textField>
				<textField pattern="##0.00;(##0.00)" isBlankWhenNull="true">
					<reportElement x="525" y="0" width="56" height="14" uuid="a9323b76-9500-48b4-9d62-e818f0c43bb6"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{Pcn}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
					<reportElement x="300" y="0" width="75" height="14" isPrintWhenDetailOverflows="true" uuid="b49405bb-29cf-43db-86c7-2ddb3ef4e945"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{AMOUNT_POTENSI_Q4_1}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
					<reportElement x="225" y="0" width="75" height="14" isPrintWhenDetailOverflows="true" uuid="4031d3c0-2181-4a21-811f-d63b82b7bc88"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{AMOUNT_POTENSI_Q3_1}]]></textFieldExpression>
				</textField>
			</band>
			<band height="14">
				<printWhenExpression><![CDATA[$F{CURR_Q}.equals( 2 ) == true]]></printWhenExpression>
				<staticText>
					<reportElement x="0" y="0" width="75" height="14" uuid="83d6ee80-b950-4823-b96c-6d93bd0f7d40"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<text><![CDATA[TOTAL]]></text>
				</staticText>
				<textField pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
					<reportElement x="75" y="0" width="75" height="14" uuid="5176750a-dc8e-4ae3-bbab-13ed7db86c85"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{AMOUNT_TARGET_1}]]></textFieldExpression>
				</textField>
				<textField pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
					<reportElement x="150" y="0" width="75" height="14" uuid="a0f7d32b-2717-4b53-b0c0-4ac2e2b6e907"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{AMOUNT_REALISASI_1}]]></textFieldExpression>
				</textField>
				<textField pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
					<reportElement x="450" y="0" width="75" height="14" uuid="1d7a48cf-8f96-420f-9cf7-5e35864fd63f"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{AMOUNT_TOTAL_1}]]></textFieldExpression>
				</textField>
				<textField pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
					<reportElement x="525" y="0" width="75" height="14" uuid="9992150e-b722-446c-8001-82dd363c5e22"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{AMOUNT_FINAL_1}]]></textFieldExpression>
				</textField>
				<textField pattern="##0.00;(##0.00)" isBlankWhenNull="true">
					<reportElement x="600" y="0" width="56" height="14" uuid="1d81dac6-d583-4758-8784-ea899439b5e2"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{Pcn}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
					<reportElement x="375" y="0" width="75" height="14" isPrintWhenDetailOverflows="true" uuid="faae15c4-de12-4729-b4c3-311b3c66366a"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{AMOUNT_POTENSI_Q4_1}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
					<reportElement x="300" y="0" width="75" height="14" isPrintWhenDetailOverflows="true" uuid="9e6d5be4-bbaf-49af-a4d4-c7c561883297"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{AMOUNT_POTENSI_Q3_1}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
					<reportElement x="225" y="0" width="75" height="14" isPrintWhenDetailOverflows="true" uuid="698671fa-1c7e-4ee3-a51f-b1c3556dc7d9"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{AMOUNT_POTENSI_Q2_1}]]></textFieldExpression>
				</textField>
			</band>
			<band height="14">
				<printWhenExpression><![CDATA[$F{CURR_Q}.equals( 1 ) == true]]></printWhenExpression>
				<staticText>
					<reportElement x="0" y="0" width="75" height="14" uuid="20712920-3aff-477c-a752-8482fe8a7636"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<text><![CDATA[TOTAL]]></text>
				</staticText>
				<textField isStretchWithOverflow="true" pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
					<reportElement x="450" y="0" width="75" height="14" isPrintWhenDetailOverflows="true" uuid="4604eef2-ed61-48da-8e03-2b4589ea464b"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{AMOUNT_POTENSI_Q4_1}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
					<reportElement x="300" y="0" width="75" height="14" isPrintWhenDetailOverflows="true" uuid="9826f34f-fde0-4f9a-9c91-7b91bde78c78"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{AMOUNT_POTENSI_Q2_1}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
					<reportElement x="375" y="0" width="75" height="14" isPrintWhenDetailOverflows="true" uuid="104df384-9394-45f7-9fce-e4f237d24966"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{AMOUNT_POTENSI_Q3_1}]]></textFieldExpression>
				</textField>
				<textField pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
					<reportElement x="150" y="0" width="75" height="14" uuid="a2cd69dd-21c9-4095-939c-a0cb2881602b"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{AMOUNT_REALISASI_1}]]></textFieldExpression>
				</textField>
				<textField pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
					<reportElement x="75" y="0" width="75" height="14" uuid="dfb98e01-9496-45e4-a5e8-c20736f8d9b5"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{AMOUNT_TARGET_1}]]></textFieldExpression>
				</textField>
				<textField pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
					<reportElement x="600" y="0" width="75" height="14" uuid="6c2f9d91-4a2d-4d89-b55f-12731bd83914"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{AMOUNT_FINAL_1}]]></textFieldExpression>
				</textField>
				<textField pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
					<reportElement x="525" y="0" width="75" height="14" uuid="32070bdd-6be7-4319-b981-f27acff3589f"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{AMOUNT_TOTAL_1}]]></textFieldExpression>
				</textField>
				<textField pattern="##0.00;(##0.00)" isBlankWhenNull="true">
					<reportElement x="675" y="0" width="56" height="14" uuid="b675eecb-56cf-4c88-bb58-10dc393eb340"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{Pcn}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
					<reportElement x="225" y="0" width="75" height="14" isPrintWhenDetailOverflows="true" uuid="55954867-458c-4037-b273-a472d097b15b"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{AMOUNT_POTENSI_Q1_1}]]></textFieldExpression>
				</textField>
			</band>
		</groupFooter>
	</group>
	<title>
		<band height="154">
			<staticText>
				<reportElement x="0" y="0" width="75" height="14" uuid="f97f8d1a-45da-4395-b971-281ecf908f9a"/>
				<textElement textAlignment="Center">
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[(04040)]]></text>
			</staticText>
			<staticText>
				<reportElement x="75" y="0" width="300" height="14" uuid="acd4205f-277b-4ec2-ada9-5a79458adb73"/>
				<textElement>
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[FORECAST SUMMARY BY SALES REVENUE]]></text>
			</staticText>
			<staticText>
				<reportElement x="75" y="14" width="300" height="14" uuid="d4400665-9c25-4138-b12f-910908625b6a"/>
				<textElement textAlignment="Center">
					<font size="8"/>
				</textElement>
				<text><![CDATA[]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="14" width="75" height="14" uuid="e89ce257-f955-45e4-a80e-6cab058ed45a"/>
				<textElement textAlignment="Center">
					<font size="8"/>
				</textElement>
				<text><![CDATA[]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="70" width="75" height="14" uuid="5d516873-20c7-48a6-86a6-3aeae26f97ad"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<text><![CDATA[Printed on :]]></text>
			</staticText>
			<textField pattern="dd-MM-yyyy HH:mm:ss">
				<reportElement x="75" y="70" width="300" height="14" uuid="4dc4a503-b27e-439e-b1ae-c79bf378ce8f"/>
				<textElement>
					<font size="8" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[new java.util.Date()]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="0" y="28" width="75" height="14" uuid="2c8a0df7-dc37-4e35-92c1-f757b469bf68"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<text><![CDATA[Tahun :]]></text>
			</staticText>
			<textField>
				<reportElement x="75" y="28" width="300" height="14" uuid="66282874-183e-42fd-a70b-3c72c237d244"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{Tahun}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="0" y="98" width="75" height="14" uuid="d7672108-491b-4e26-8124-78cfdf9281eb"/>
				<textElement textAlignment="Center">
					<font size="8"/>
				</textElement>
				<text><![CDATA[]]></text>
			</staticText>
			<staticText>
				<reportElement x="75" y="98" width="300" height="14" uuid="6036f38a-b578-4c93-8453-0231f23d4193"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<text><![CDATA[Semua Amount dalam Jutaan Rupiah]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="84" width="75" height="14" uuid="1b73a9cf-76bf-4334-bdd2-5a81b80caa2a"/>
				<textElement textAlignment="Center">
					<font size="8"/>
				</textElement>
				<text><![CDATA[]]></text>
			</staticText>
			<staticText>
				<reportElement x="75" y="84" width="300" height="14" uuid="6bf36547-83a6-45ef-89e5-9cfa52fc2e6b"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<text><![CDATA[Note :]]></text>
			</staticText>
			<staticText>
				<reportElement x="75" y="112" width="300" height="14" uuid="cde0d88c-9abb-4793-9ef9-337d74862b32"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<text><![CDATA[Amount REALISASI adalah Amount SALES REVENUE]]></text>
			</staticText>
			<staticText>
				<reportElement x="75" y="126" width="300" height="14" uuid="7fb2727a-67ad-487d-99ae-f9d116e100ae"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<text><![CDATA[Including Uang Muka (as per today) dan Oustanding SO (as per today)]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="112" width="75" height="14" uuid="c8404edf-05d2-4cea-8408-fb98a70d4245"/>
				<textElement textAlignment="Center">
					<font size="8"/>
				</textElement>
				<text><![CDATA[]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="126" width="75" height="14" uuid="1029653a-fd55-4e7b-b789-fe0a8d4a4e06"/>
				<textElement textAlignment="Center">
					<font size="8"/>
				</textElement>
				<text><![CDATA[]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="140" width="75" height="14" uuid="3328a1d3-04fd-42ba-93f1-a680c6a8447b"/>
				<textElement textAlignment="Center">
					<font size="8"/>
				</textElement>
				<text><![CDATA[]]></text>
			</staticText>
			<staticText>
				<reportElement x="75" y="140" width="300" height="14" uuid="01f19b7e-9936-49db-8e6c-53199e6fdccf"/>
				<textElement textAlignment="Center">
					<font size="8"/>
				</textElement>
				<text><![CDATA[]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="56" width="75" height="14" uuid="2ff0da31-5acf-4507-875e-0daba7b69ec1"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<text><![CDATA[Pots. Realisation :]]></text>
			</staticText>
			<textField>
				<reportElement x="75" y="56" width="300" height="14" uuid="9741867b-6275-41df-9db8-74718e18ed5a"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{vPotensial}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="0" y="42" width="75" height="14" uuid="87431626-e39e-4af8-8b85-910250438f19"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<text><![CDATA[Project Category :]]></text>
			</staticText>
			<textField>
				<reportElement x="75" y="42" width="300" height="14" uuid="7d5ed497-c418-44f6-8e80-719294b88f11"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{pSize}]]></textFieldExpression>
			</textField>
		</band>
	</title>
	<detail>
		<band height="14">
			<printWhenExpression><![CDATA[$F{CURR_Q}.equals( 4 ) == true]]></printWhenExpression>
			<textField isStretchWithOverflow="true" pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
				<reportElement x="150" y="0" width="75" height="14" uuid="312e3a80-eff0-4a86-9195-fbd23439c596"/>
				<textElement textAlignment="Right">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{AMOUNT_REALISASI}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
				<reportElement x="225" y="0" width="75" height="14" uuid="c9bbd5cb-08c7-43c7-9eea-afbd76b99da3"/>
				<textElement textAlignment="Right">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{AMOUNT_POTENSI_Q4}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
				<reportElement x="300" y="0" width="75" height="14" uuid="f697c913-e0ce-4e42-8e53-2dec658c1b2c"/>
				<textElement textAlignment="Right">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{AMOUNT_TOTAL}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
				<reportElement x="75" y="0" width="75" height="14" uuid="d277a417-92db-4169-b9a8-60232486168f"/>
				<textElement textAlignment="Right">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{AMOUNT_TARGET}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
				<reportElement x="375" y="0" width="75" height="14" uuid="675a624d-1932-422e-8a28-2b1102b92943"/>
				<textElement textAlignment="Right">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{AMOUNT_FINAL}]]></textFieldExpression>
			</textField>
			<textField pattern="##0.00;(##0.00)" isBlankWhenNull="true">
				<reportElement x="450" y="0" width="56" height="14" uuid="d8e52208-4c5a-4e59-9cfc-2026a8107418"/>
				<textElement textAlignment="Right">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{PCN_FINAL}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="0" y="0" width="75" height="14" uuid="db501dc3-bdc0-45c0-90f5-429e8cdf5f21"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{CABANG_NAMA}]]></textFieldExpression>
			</textField>
		</band>
		<band height="14">
			<printWhenExpression><![CDATA[$F{CURR_Q}.equals( 3 ) == true]]></printWhenExpression>
			<textField isStretchWithOverflow="true" pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
				<reportElement x="150" y="0" width="75" height="14" uuid="8277cddf-86cc-4584-ace6-e4776e37a686"/>
				<textElement textAlignment="Right">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{AMOUNT_REALISASI}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="0" y="0" width="75" height="14" uuid="fb955519-9942-4e43-9d03-3bc93fb07b14"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{CABANG_NAMA}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
				<reportElement x="375" y="0" width="75" height="14" uuid="594f46e1-f3cc-47a8-b925-8749db8fbb85"/>
				<textElement textAlignment="Right">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{AMOUNT_TOTAL}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
				<reportElement x="450" y="0" width="75" height="14" uuid="2c9987d9-b6cd-4deb-a232-78701d8c8b47"/>
				<textElement textAlignment="Right">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{AMOUNT_FINAL}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
				<reportElement x="300" y="0" width="75" height="14" uuid="1cbf2449-337b-41d7-81fa-318385c72011"/>
				<textElement textAlignment="Right">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{AMOUNT_POTENSI_Q4}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
				<reportElement x="75" y="0" width="75" height="14" uuid="80bc6f7a-5b16-4624-aa98-56eb321c6e2e"/>
				<textElement textAlignment="Right">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{AMOUNT_TARGET}]]></textFieldExpression>
			</textField>
			<textField pattern="##0.00;(##0.00)" isBlankWhenNull="true">
				<reportElement x="525" y="0" width="56" height="14" uuid="da75263f-ef59-40ff-bd6c-dc658dbf1a19"/>
				<textElement textAlignment="Right">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{PCN_FINAL}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
				<reportElement x="225" y="0" width="75" height="14" uuid="01c5eadd-35fb-4b97-84d6-8cef3f44af28"/>
				<textElement textAlignment="Right">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{AMOUNT_POTENSI_Q3}]]></textFieldExpression>
			</textField>
		</band>
		<band height="14">
			<printWhenExpression><![CDATA[$F{CURR_Q}.equals( 2 ) == true]]></printWhenExpression>
			<textField isStretchWithOverflow="true" pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
				<reportElement x="375" y="0" width="75" height="14" uuid="cb634493-3702-46c6-924d-df51b4f12364"/>
				<textElement textAlignment="Right">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{AMOUNT_POTENSI_Q4}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
				<reportElement x="525" y="0" width="75" height="14" uuid="1308e35b-aec6-46a0-a3f4-35e1cffefca7"/>
				<textElement textAlignment="Right">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{AMOUNT_FINAL}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
				<reportElement x="150" y="0" width="75" height="14" uuid="5adba322-4b99-4cb7-8fab-4f1af6ecf6d4"/>
				<textElement textAlignment="Right">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{AMOUNT_REALISASI}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
				<reportElement x="450" y="0" width="75" height="14" uuid="155410f4-7ad2-4c89-9b01-111e44eacd81"/>
				<textElement textAlignment="Right">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{AMOUNT_TOTAL}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="0" y="0" width="75" height="14" uuid="795b7156-3dd7-42f2-b2d5-c6970839bdb1"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{CABANG_NAMA}]]></textFieldExpression>
			</textField>
			<textField pattern="##0.00;(##0.00)" isBlankWhenNull="true">
				<reportElement x="600" y="0" width="56" height="14" uuid="a0dc3d64-51fc-4cc5-94eb-677aece9b6e4"/>
				<textElement textAlignment="Right">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{PCN_FINAL}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
				<reportElement x="300" y="0" width="75" height="14" uuid="5d162dfd-a84e-4cda-8d9e-b89f2792a540"/>
				<textElement textAlignment="Right">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{AMOUNT_POTENSI_Q3}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
				<reportElement x="75" y="0" width="75" height="14" uuid="7de4344c-a15d-4580-8fcc-7b8ed40c894a"/>
				<textElement textAlignment="Right">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{AMOUNT_TARGET}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
				<reportElement x="225" y="0" width="75" height="14" uuid="d6d49611-1294-4ec7-9d8e-4255430174fc"/>
				<textElement textAlignment="Right">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{AMOUNT_POTENSI_Q2}]]></textFieldExpression>
			</textField>
		</band>
		<band height="14">
			<printWhenExpression><![CDATA[$F{CURR_Q}.equals( 1 ) == true]]></printWhenExpression>
			<textField isStretchWithOverflow="true" pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
				<reportElement x="75" y="0" width="75" height="14" uuid="568c6dfa-f9f0-451c-b57f-67957ae99e3a"/>
				<textElement textAlignment="Right">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{AMOUNT_TARGET}]]></textFieldExpression>
			</textField>
			<textField pattern="##0.00;(##0.00)" isBlankWhenNull="true">
				<reportElement x="675" y="0" width="56" height="14" uuid="7f1ac13e-2013-49e9-b7a0-7bf2dac7a9b4"/>
				<textElement textAlignment="Right">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{PCN_FINAL}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
				<reportElement x="600" y="0" width="75" height="14" uuid="98127bc7-9538-4656-ad84-149afd1a1fe0"/>
				<textElement textAlignment="Right">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{AMOUNT_FINAL}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
				<reportElement x="150" y="0" width="75" height="14" uuid="6bb87808-6d97-4659-a461-73a46e591a13"/>
				<textElement textAlignment="Right">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{AMOUNT_REALISASI}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
				<reportElement x="525" y="0" width="75" height="14" uuid="395fe225-3160-481a-9c34-0b2addb8bf33"/>
				<textElement textAlignment="Right">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{AMOUNT_TOTAL}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
				<reportElement x="375" y="0" width="75" height="14" uuid="e39ece25-660f-49fa-ac60-62c6296d7bb7"/>
				<textElement textAlignment="Right">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{AMOUNT_POTENSI_Q3}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
				<reportElement x="300" y="0" width="75" height="14" uuid="f3cbc339-7005-4caf-b71f-3f72b0e0d38c"/>
				<textElement textAlignment="Right">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{AMOUNT_POTENSI_Q2}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
				<reportElement x="450" y="0" width="75" height="14" uuid="967ff914-ca42-4241-b5b8-7a7bf3d2e5c4"/>
				<textElement textAlignment="Right">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{AMOUNT_POTENSI_Q4}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="0" y="0" width="75" height="14" uuid="81f0ea98-a78c-4a22-a07d-f70cfab0678f"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{CABANG_NAMA}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#,##0.00;(#,##0.00)" isBlankWhenNull="true">
				<reportElement x="225" y="0" width="75" height="14" uuid="04f7d87b-f369-4c31-ab81-71c4c4c197be"/>
				<textElement textAlignment="Right">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{AMOUNT_POTENSI_Q1}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<noData>
		<band height="168">
			<staticText>
				<reportElement x="75" y="154" width="300" height="14" uuid="e762fe98-ae4e-46c4-a6dc-d3d20f52f9ce"/>
				<textElement>
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[TIDAK ADA DATA YANG MEMENUHI KRITERIA]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="154" width="75" height="14" uuid="6a6cc73f-4591-44a1-bab5-6a29a48c0d3c"/>
				<textElement textAlignment="Center">
					<font size="8"/>
				</textElement>
				<text><![CDATA[]]></text>
			</staticText>
			<staticText>
				<reportElement x="75" y="14" width="300" height="14" uuid="95ac853b-1af2-4ed2-b0c5-3d17d9535371"/>
				<textElement textAlignment="Center">
					<font size="8"/>
				</textElement>
				<text><![CDATA[]]></text>
			</staticText>
			<staticText>
				<reportElement x="75" y="140" width="300" height="14" uuid="3fc78d9c-0d80-4bab-9ae1-ee451610ba7c"/>
				<textElement textAlignment="Center">
					<font size="8"/>
				</textElement>
				<text><![CDATA[]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="70" width="75" height="14" uuid="85a53632-b22e-4a5e-84d6-1e434d499a53"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<text><![CDATA[Printed on :]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="140" width="75" height="14" uuid="5ed2678f-ae59-4410-bf65-ecd00627ff38"/>
				<textElement textAlignment="Center">
					<font size="8"/>
				</textElement>
				<text><![CDATA[]]></text>
			</staticText>
			<staticText>
				<reportElement x="75" y="112" width="300" height="14" uuid="cfa8090a-e2b6-4ac8-9a70-58005d9e9d7e"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<text><![CDATA[Amount REALISASI adalah Amount SALES REVENUE]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="28" width="75" height="14" uuid="77ff9658-453d-47d3-8d56-71cf10fbb537"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<text><![CDATA[Tahun :]]></text>
			</staticText>
			<textField>
				<reportElement x="75" y="28" width="300" height="14" uuid="8be85000-834d-4537-a5a2-366dc808c927"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{Tahun}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="0" y="98" width="75" height="14" uuid="14f18bcc-fd02-49ab-a589-86e6bcd5365d"/>
				<textElement textAlignment="Center">
					<font size="8"/>
				</textElement>
				<text><![CDATA[]]></text>
			</staticText>
			<textField pattern="dd-MM-yyyy HH:mm:ss">
				<reportElement x="75" y="70" width="300" height="14" uuid="bf3ef8a4-eda7-4b14-bb01-337188da1be8"/>
				<textElement>
					<font size="8" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[new java.util.Date()]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="0" y="14" width="75" height="14" uuid="c528d686-a256-405c-aea1-b414f3f32dcb"/>
				<textElement textAlignment="Center">
					<font size="8"/>
				</textElement>
				<text><![CDATA[]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="126" width="75" height="14" uuid="703dc0e7-5c97-4fb0-b8a6-fd092704394c"/>
				<textElement textAlignment="Center">
					<font size="8"/>
				</textElement>
				<text><![CDATA[]]></text>
			</staticText>
			<staticText>
				<reportElement x="75" y="98" width="300" height="14" uuid="0462d9de-8aed-4512-ad59-1cbf2febda30"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<text><![CDATA[Semua Amount dalam Jutaan Rupiah]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="84" width="75" height="14" uuid="c131deb1-c5fe-43c3-9bc6-a9c19bb6b356"/>
				<textElement textAlignment="Center">
					<font size="8"/>
				</textElement>
				<text><![CDATA[]]></text>
			</staticText>
			<staticText>
				<reportElement x="75" y="126" width="300" height="14" uuid="5bac47b9-27c5-4b3e-8961-ab83fa491ff8"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<text><![CDATA[Including Uang Muka (as per today) dan Oustanding SO (as per today)]]></text>
			</staticText>
			<staticText>
				<reportElement x="75" y="84" width="300" height="14" uuid="16e5b0cd-5f2f-4cc2-835f-29b7e491e269"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<text><![CDATA[Note :]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="112" width="75" height="14" uuid="f107d734-9476-4674-ad5c-c5dcd08c608e"/>
				<textElement textAlignment="Center">
					<font size="8"/>
				</textElement>
				<text><![CDATA[]]></text>
			</staticText>
			<staticText>
				<reportElement x="75" y="0" width="300" height="14" uuid="e1eae62f-730a-4edf-97c0-04ddbadc7f21"/>
				<textElement>
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[FORECAST SUMMARY BY SALES REVENUE]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="0" width="75" height="14" uuid="b8fe9c93-8ae7-4d5c-8906-90d2346cc2d6"/>
				<textElement textAlignment="Center">
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[(04040)]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="56" width="75" height="14" uuid="ad99052d-eec4-4b00-864e-8d423af577d6"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<text><![CDATA[Pots. Realisation :]]></text>
			</staticText>
			<textField>
				<reportElement x="75" y="56" width="300" height="14" uuid="6c8fa1a4-d1f3-4b56-a52a-5a5af60ef43f"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{vPotensial}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="75" y="42" width="300" height="14" uuid="d002ee0c-901b-49b5-9656-0436f3b5a195"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{pSize}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="0" y="42" width="75" height="14" uuid="41d42338-96c9-4c7e-9c27-5827ed211737"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<text><![CDATA[Project Category :]]></text>
			</staticText>
		</band>
	</noData>
</jasperReport>
